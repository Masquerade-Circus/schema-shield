//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWYWxpZGF0aW9uRXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJpdGVtIiwia2V5d29yZCIsImNhdXNlIiwicGF0aCIsImRhdGEiLCJzY2hlbWEiLCJfZ2V0Q2F1c2UiLCJwb2ludGVyIiwidGhpcyIsImdldENhdXNlIiwiZ2V0RGVmaW5lZEVycm9yRnVuY3Rpb25Gb3JLZXkiLCJrZXkiLCJLZXl3b3JkRXJyb3IiLCJnZXROYW1lZEZ1bmN0aW9uIiwib3B0aW9ucyIsImRlZXBFcXVhbCIsIm9iaiIsIm90aGVyIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiaSIsImtleXMiLCJPYmplY3QiLCJpc09iamVjdCIsImRlZXBDbG9uZSIsInJlc3VsdCIsImNvbnN0cnVjdG9yIiwibmFtZSIsImlzQ29tcGlsZWRTY2hlbWEiLCJzdWJTY2hlbWEiLCJmbiIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJSZWdFeHBzIiwidGltZSIsInVyaSIsImRhdGUiLCJkYXlzSW5Nb250aCIsIkZvcm1hdHMiLCJtYXRjaCIsImRheSIsIk51bWJlciIsInllYXJTdHIiLCJtb250aFN0ciIsImhvdXJTdHIiLCJtaW51dGVTdHIiLCJzZWNvbmRTdHIiLCJ0aW1lem9uZVNpZ24iLCJ0aW1lem9uZUhvdXJTdHIiLCJ0aW1lem9uZU1pbnV0ZVN0ciIsInllYXIiLCJtb250aCIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJ0aW1lem9uZUhvdXIiLCJ0aW1lem9uZU1pbnV0ZSIsInRlc3QiLCJlbWFpbCIsImlwdjQiLCJpcHY2IiwiYWRkcmVzcyIsImluZGV4T2YiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJoYXNJcHY0IiwiYWRkcmVzc1BhcnRzIiwic3BsaXQiLCJpcHY0UGFydCIsInBvcCIsImlzU2hvcnRlbmVkIiwiaXB2NlBhcnQiLCJqb2luIiwiaXNJcHY2VmFsaWQiLCJoYXNJbnZhbGlkQ2hhciIsImhvc3RuYW1lIiwiaXNOYU4iLCJEYXRlIiwiZ2V0VGltZSIsInJlZ2V4IiwiUmVnRXhwIiwiZSIsImR1cmF0aW9uIiwidXVpZCIsImlyaSIsIlR5cGVzIiwib2JqZWN0IiwiYXJyYXkiLCJzdHJpbmciLCJudW1iZXIiLCJpbnRlZ2VyIiwiYm9vbGVhbiIsIm51bGwiLCJ0aW1lc3RhbXAiLCJpbnQ4IiwidW5pdDgiLCJpbnQxNiIsInVuaXQxNiIsImludDMyIiwidW5pdDMyIiwiZmxvYXQzMiIsImZsb2F0NjQiLCJrZXl3b3JkcyIsInJlcXVpcmVkIiwiZGVmaW5lRXJyb3IiLCJoYXNPd25Qcm9wZXJ0eSIsInByb3BlcnRpZXMiLCJlcnJvciIsIiR2YWxpZGF0ZSIsInNjaGVtYVByb3AiLCJkZWZhdWx0IiwidmFsdWVzIiwibWF4UHJvcGVydGllcyIsIm1pblByb3BlcnRpZXMiLCJhZGRpdGlvbmFsUHJvcGVydGllcyIsImlzQ29tcGlsZWQiLCJwYXR0ZXJuUHJvcGVydGllcyIsInBhdHRlcm4iLCJwYXR0ZXJucyIsInByb3BlcnR5TmFtZXMiLCJkZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmN5IiwidGhlbiIsImVsc2UiLCIkcmVmIiwiZGVmaW5pdGlvbnMiLCIkaWQiLCIkc2NoZW1hIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIiRjb21tZW50IiwiZXhhbXBsZXMiLCJjb250ZW50TWVkaWFUeXBlIiwiY29udGVudEVuY29kaW5nIiwiZGlzY3JpbWluYXRvciIsIm51bGxhYmxlIiwiaXRlbXMiLCJzY2hlbWFJdGVtcyIsImRhdGFMZW5ndGgiLCJzY2hlbWFJdGVtc0xlbmd0aCIsIml0ZW1zTGVuZ3RoIiwiTWF0aCIsIm1pbiIsInNjaGVtYUl0ZW0iLCJlbGVtZW50cyIsIm1pbkl0ZW1zIiwibWF4SXRlbXMiLCJhZGRpdGlvbmFsSXRlbXMiLCJ1bmlxdWVJdGVtcyIsInVuaXF1ZSIsIlNldCIsIml0ZW1TdHIiLCJKU09OIiwic3RyaW5naWZ5IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwic29ydCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsIlN0cmluZyIsImhhcyIsImFkZCIsImNvbnRhaW5zIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwicGF0dGVyblJlZ2V4cCIsImZvcm1hdCIsImluc3RhbmNlIiwiZm9ybWF0VmFsaWRhdGUiLCJnZXRGb3JtYXQiLCJtaW5pbXVtIiwiZXhjbHVzaXZlTWluaW11bSIsIm1heGltdW0iLCJtYXgiLCJleGNsdXNpdmVNYXhpbXVtIiwibXVsdGlwbGVPZiIsInF1b3RpZW50IiwiaXNGaW5pdGUiLCJlcHNpbG9uIiwiYWJzIiwiYXJlQ2xvc2VFbm91Z2giLCJyb3VuZCIsImVudW0iLCJlbnVtSXRlbSIsImFsbE9mIiwiQm9vbGVhbiIsImFueU9mIiwib25lT2YiLCJ2YWxpZENvdW50IiwiY29uc3QiLCJpZiIsIm5vdCIsInR5cGVzIiwiZm9ybWF0cyIsImltbXV0YWJsZSIsInR5cGUiLCJ2YWxpZGF0b3IiLCJhZGRUeXBlIiwiYWRkS2V5d29yZCIsImFkZEZvcm1hdCIsIm92ZXJ3cml0ZSIsImdldFR5cGUiLCJnZXRLZXl3b3JkIiwiY29tcGlsZSIsImNvbXBpbGVkU2NoZW1hIiwiY29tcGlsZVNjaGVtYSIsImlzU2NoZW1hTGlrZSIsInZhbGlkYXRlIiwiY2xvbmVkRGF0YSIsInZhbGlkIiwiZGVmaW5lVHlwZUVycm9yIiwidHlwZVZhbGlkYXRpb25zIiwibWV0aG9kTmFtZSIsIm1hcCIsInQiLCJ0cmltIiwicHVzaCIsInR5cGVWYWxpZGF0aW9uc0xlbmd0aCIsInR5cGVWYWxpZGF0aW9uIiwia2V5d29yZFZhbGlkYXRvciIsImV4ZWN1dGVLZXl3b3JkVmFsaWRhdG9yIiwicHJldlZhbGlkYXRvciIsImtleXdvcmRFcnJvciIsImluZGV4Iiwic3ViS2V5Il0sInNvdXJjZXMiOlsiLi4vbGliL3V0aWxzLnRzIiwiLi4vbGliL2Zvcm1hdHMudHMiLCIuLi9saWIvdHlwZXMudHMiLCIuLi9saWIva2V5d29yZHMudHMiLCIuLi9saWIva2V5d29yZHMvb2JqZWN0LWtleXdvcmRzLnRzIiwiLi4vbGliL2tleXdvcmRzL2FycmF5LWtleXdvcmRzLnRzIiwiLi4vbGliL2tleXdvcmRzL3N0cmluZy1rZXl3b3Jkcy50cyIsIi4uL2xpYi9rZXl3b3Jkcy9udW1iZXIta2V5d29yZHMudHMiLCIuLi9saWIva2V5d29yZHMvb3RoZXIta2V5d29yZHMudHMiLCIuLi9saWIvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcGlsZWRTY2hlbWEgfSBmcm9tIFwiLi9pbmRleFwiO1xuXG5leHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGl0ZW06IHN0cmluZyB8IG51bWJlcjtcbiAga2V5d29yZDogc3RyaW5nO1xuICBjYXVzZTogVmFsaWRhdGlvbkVycm9yO1xuICBwYXRoOiBzdHJpbmcgPSBcIlwiO1xuICBkYXRhPzogYW55O1xuICBzY2hlbWE/OiBDb21waWxlZFNjaGVtYTtcblxuICBwcml2YXRlIF9nZXRDYXVzZShwb2ludGVyID0gXCIjXCIpIHtcbiAgICBjb25zdCBwYXRoID1cbiAgICAgIHBvaW50ZXIgK1xuICAgICAgXCIvXCIgK1xuICAgICAgdGhpcy5rZXl3b3JkICtcbiAgICAgICh0eXBlb2YgdGhpcy5pdGVtICE9PSBcInVuZGVmaW5lZFwiID8gXCIvXCIgKyB0aGlzLml0ZW0gOiBcIlwiKTtcblxuICAgIGlmICghdGhpcy5jYXVzZSkge1xuICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNhdXNlLl9nZXRDYXVzZShwYXRoKTtcbiAgfVxuXG4gIGdldENhdXNlKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRDYXVzZSgpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmaW5lRXJyb3JPcHRpb25zIHtcbiAgaXRlbT86IGFueTsgLy8gRmluYWwgaXRlbSBpbiB0aGUgcGF0aFxuICBjYXVzZT86IFZhbGlkYXRpb25FcnJvcjsgLy8gQ2F1c2Ugb2YgdGhlIGVycm9yXG4gIGRhdGE/OiBhbnk7IC8vIERhdGEgdGhhdCBjYXVzZWQgdGhlIGVycm9yXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmaW5lRXJyb3JGdW5jdGlvbiB7XG4gIChtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnM/OiBEZWZpbmVFcnJvck9wdGlvbnMpOiBWYWxpZGF0aW9uRXJyb3I7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZpbmVkRXJyb3JGdW5jdGlvbkZvcktleShcbiAga2V5OiBzdHJpbmcsXG4gIHNjaGVtYTogQ29tcGlsZWRTY2hlbWFcbikge1xuICBjb25zdCBLZXl3b3JkRXJyb3IgPSBuZXcgVmFsaWRhdGlvbkVycm9yKGBJbnZhbGlkICR7a2V5fWApO1xuICBLZXl3b3JkRXJyb3Iua2V5d29yZCA9IGtleTtcbiAgS2V5d29yZEVycm9yLnNjaGVtYSA9IHNjaGVtYTtcblxuICBjb25zdCBkZWZpbmVFcnJvcjogRGVmaW5lRXJyb3JGdW5jdGlvbiA9IChtZXNzYWdlLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBLZXl3b3JkRXJyb3IubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgS2V5d29yZEVycm9yLml0ZW0gPSBvcHRpb25zLml0ZW07XG4gICAgS2V5d29yZEVycm9yLmNhdXNlID0gb3B0aW9ucy5jYXVzZTtcbiAgICBLZXl3b3JkRXJyb3IuZGF0YSA9IG9wdGlvbnMuZGF0YTtcbiAgICByZXR1cm4gS2V5d29yZEVycm9yO1xuICB9O1xuXG4gIHJldHVybiBnZXROYW1lZEZ1bmN0aW9uPERlZmluZUVycm9yRnVuY3Rpb24+KFxuICAgIGBkZWZpbmVFcnJvcl8ke2tleX1gLFxuICAgIGRlZmluZUVycm9yXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXF1YWwoXG4gIG9iajogQXJyYXk8YW55PiB8IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gIG90aGVyOiBBcnJheTxhbnk+IHwgUmVjb3JkPHN0cmluZywgYW55PlxuKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikgJiYgQXJyYXkuaXNBcnJheShvdGhlcikpIHtcbiAgICBpZiAob2JqLmxlbmd0aCAhPT0gb3RoZXIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghZGVlcEVxdWFsKG9ialtpXSwgb3RoZXJbaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvdGhlciA9PT0gXCJvYmplY3RcIikge1xuICAgIGlmIChvYmogPT09IG51bGwgfHwgb3RoZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBvYmogPT09IG90aGVyO1xuICAgIH1cblxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIGlmIChrZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMob3RoZXIpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgIGlmICghZGVlcEVxdWFsKG9ialtrZXldLCBvdGhlcltrZXldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gb2JqID09PSBvdGhlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KGRhdGEpIHtcbiAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmIGRhdGEgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVDbG9zZUVub3VnaChhLCBiLCBlcHNpbG9uID0gMWUtMTUpIHtcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBlcHNpbG9uICogTWF0aC5tYXgoTWF0aC5hYnMoYSksIE1hdGguYWJzKGIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVURjE2TGVuZ3RoKHN0cikge1xuICBsZXQgbGVuZ3RoID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjb2RlUG9pbnQgPSBzdHIuY29kZVBvaW50QXQoaSk7XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4ZmZmZikge1xuICAgICAgaSsrO1xuICAgIH1cbiAgICBsZW5ndGgrKztcbiAgfVxuICByZXR1cm4gbGVuZ3RoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lKG9iajogYW55KTogYW55IHtcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRbaV0gPSBkZWVwQ2xvbmUob2JqW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIElzIGNsYXNzIGluc3RhbmNlIG9mIGFueSBraW5kXG4gIGlmIChvYmogJiYgb2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5uYW1lICE9PSBcIk9iamVjdFwiKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGlmIChpc09iamVjdChvYmopKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgLi4ub2JqXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVlcENsb25lKG9ialtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbXBpbGVkU2NoZW1hKHN1YlNjaGVtYTogYW55KTogc3ViU2NoZW1hIGlzIENvbXBpbGVkU2NoZW1hIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHN1YlNjaGVtYSkgJiYgXCIkdmFsaWRhdGVcIiBpbiBzdWJTY2hlbWE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROYW1lZEZ1bmN0aW9uPFQ+KG5hbWU6IHN0cmluZywgZm46IFQpOiBUIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSk7XG59XG4iLCJpbXBvcnQgeyBGb3JtYXRGdW5jdGlvbiB9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IGlzTXlJcFZhbGlkIGZyb20gXCJpcy1teS1pcC12YWxpZFwiO1xuXG4vLyBUaGUgZGF0ZXRpbWUgMTk5MC0wMi0zMVQxNTo1OTo2MC4xMjMtMDg6MDAgbXVzdCBiZSByZWplY3RlZC5cbmNvbnN0IFJlZ0V4cHMgPSB7XG4gIHRpbWU6IC9eKFxcZHsyfSk6KFxcZHsyfSk6KFxcZHsyfSkoXFwuXFxkKyk/KFp8KFsrLV0pKFxcZHsyfSk6KFxcZHsyfSkpJC8sXG4gIHVyaTogL15bYS16QS1aXVthLXpBLVowLTkrXFwtLl0qOlteXFxzXSokLyxcbiAgZGF0ZTogL14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KSQvLFxuICBcImpzb24tcG9pbnRlclwiOiAvXlxcLyg/Oltefl18fjB8fjEpKiQvLFxuICBcInJlbGF0aXZlLWpzb24tcG9pbnRlclwiOiAvXihbMC05XSspKCN8XFwvKD86W15+XXx+MHx+MSkqKT8kL1xufTtcblxuY29uc3QgZGF5c0luTW9udGggPSBbMzEsICwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdO1xuZnVuY3Rpb24gaXB2NihhZGRyZXNzKSB7XG4gIGlmIChhZGRyZXNzID09PSBcIjo6XCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChcbiAgICBhZGRyZXNzLmluZGV4T2YoXCI6XCIpID09PSAtMSB8fFxuICAgIChhZGRyZXNzLnN0YXJ0c1dpdGgoXCI6XCIpICYmICFhZGRyZXNzLnN0YXJ0c1dpdGgoXCI6OlwiKSkgfHxcbiAgICAoYWRkcmVzcy5lbmRzV2l0aChcIjpcIikgJiYgIWFkZHJlc3MuZW5kc1dpdGgoXCI6OlwiKSkgfHxcbiAgICAvOjo6Ky8udGVzdChhZGRyZXNzKVxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBoYXNJcHY0ID0gYWRkcmVzcy5pbmRleE9mKFwiLlwiKSAhPT0gLTE7XG4gIGNvbnN0IGFkZHJlc3NQYXJ0cyA9IGFkZHJlc3Muc3BsaXQoXCI6XCIpO1xuXG4gIGlmIChoYXNJcHY0KSB7XG4gICAgY29uc3QgaXB2NFBhcnQgPSBhZGRyZXNzUGFydHMucG9wKCk7XG4gICAgaWYgKFxuICAgICAgIS9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV17Mn18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV17Mn18WzEtOV1bMC05XXxbMC05XSkkLy50ZXN0KFxuICAgICAgICBpcHY0UGFydFxuICAgICAgKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGlzU2hvcnRlbmVkID0gYWRkcmVzcy5pbmRleE9mKFwiOjpcIikgIT09IC0xO1xuICBjb25zdCBpcHY2UGFydCA9IGhhc0lwdjQgPyBhZGRyZXNzUGFydHMuam9pbihcIjpcIikgOiBhZGRyZXNzO1xuXG4gIGlmIChpc1Nob3J0ZW5lZCkge1xuICAgIGlmIChpcHY2UGFydC5zcGxpdChcIjo6XCIpLmxlbmd0aCAtIDEgPiAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCEvXlswLTlhLWZBLUY6Ll0qJC8udGVzdChpcHY2UGFydCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBpcHY2U2hvcnRlbmVkUmVnZXggPVxuICAgICAgL14oPzooPzooPzpbMC05YS1mQS1GXXsxLDR9KD86OnwkKSl7MSw2fSkpfCg/Ojo6KD86WzAtOWEtZkEtRl17MSw0fSkpezAsNX0kLztcblxuICAgIHJldHVybiAoXG4gICAgICBpcHY2U2hvcnRlbmVkUmVnZXgudGVzdChpcHY2UGFydCkgJiYgIS9bMC05YS1mQS1GXXs1LH0vLnRlc3QoaXB2NlBhcnQpXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGlwdjZSZWdleCA9IC9eKD86KD86WzAtOWEtZkEtRl17MSw0fTopezd9KD86WzAtOWEtZkEtRl17MSw0fXw6KSkkLztcblxuICBjb25zdCBpc0lwdjZWYWxpZCA9IGlwdjZSZWdleC50ZXN0KGlwdjZQYXJ0KTtcblxuICBjb25zdCBoYXNJbnZhbGlkQ2hhciA9IC8oPzpbMC05YS1mQS1GXXs1LH18XFxEWzAtOWEtZkEtRl17M306KS8udGVzdChpcHY2UGFydCk7XG5cbiAgaWYgKGhhc0lwdjQpIHtcbiAgICByZXR1cm4gaXNJcHY2VmFsaWQgfHwgIWhhc0ludmFsaWRDaGFyO1xuICB9XG5cbiAgcmV0dXJuIGlzSXB2NlZhbGlkICYmICFoYXNJbnZhbGlkQ2hhcjtcbn1cblxuZXhwb3J0IGNvbnN0IEZvcm1hdHM6IFJlY29yZDxzdHJpbmcsIEZvcm1hdEZ1bmN0aW9uIHwgZmFsc2U+ID0ge1xuICBbXCJkYXRlLXRpbWVcIl0oZGF0YSkge1xuICAgIGNvbnN0IG1hdGNoID0gZGF0YS5tYXRjaChcbiAgICAgIC9eKFxcZHs0fSktKDBbMC05XXwxWzAtMl0pLShcXGR7Mn0pVCgwWzAtOV18MVxcZHwyWzAtM10pOihbMC01XVxcZCk6KCg/OlswLTVdXFxkfDYwKSkoPzouXFxkKyk/KD86KFsrLV0pKDBbMC05XXwxXFxkfDJbMC0zXSk6KFswLTVdXFxkKXxaKT8kL2lcbiAgICApO1xuXG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxldCBkYXkgPSBOdW1iZXIobWF0Y2hbM10pO1xuXG4gICAgaWYgKG1hdGNoWzJdID09PSBcIjAyXCIgJiYgZGF5ID4gMjkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBbXG4gICAgICAsXG4gICAgICB5ZWFyU3RyLFxuICAgICAgbW9udGhTdHIsXG4gICAgICAsXG4gICAgICBob3VyU3RyLFxuICAgICAgbWludXRlU3RyLFxuICAgICAgc2Vjb25kU3RyLFxuICAgICAgdGltZXpvbmVTaWduLFxuICAgICAgdGltZXpvbmVIb3VyU3RyLFxuICAgICAgdGltZXpvbmVNaW51dGVTdHJcbiAgICBdID0gbWF0Y2g7XG5cbiAgICBsZXQgeWVhciA9IE51bWJlcih5ZWFyU3RyKTtcbiAgICBsZXQgbW9udGggPSBOdW1iZXIobW9udGhTdHIpO1xuICAgIGxldCBob3VyID0gTnVtYmVyKGhvdXJTdHIpO1xuICAgIGxldCBtaW51dGUgPSBOdW1iZXIobWludXRlU3RyKTtcbiAgICBsZXQgc2Vjb25kID0gTnVtYmVyKHNlY29uZFN0cik7XG5cbiAgICBpZiAodGltZXpvbmVTaWduID09PSBcIi1cIiB8fCB0aW1lem9uZVNpZ24gPT09IFwiK1wiKSB7XG4gICAgICBjb25zdCB0aW1lem9uZUhvdXIgPSBOdW1iZXIodGltZXpvbmVIb3VyU3RyKTtcbiAgICAgIGNvbnN0IHRpbWV6b25lTWludXRlID0gTnVtYmVyKHRpbWV6b25lTWludXRlU3RyKTtcblxuICAgICAgaWYgKHRpbWV6b25lU2lnbiA9PT0gXCItXCIpIHtcbiAgICAgICAgaG91ciArPSB0aW1lem9uZUhvdXI7XG4gICAgICAgIG1pbnV0ZSArPSB0aW1lem9uZU1pbnV0ZTtcbiAgICAgIH0gZWxzZSBpZiAodGltZXpvbmVTaWduID09PSBcIitcIikge1xuICAgICAgICBob3VyIC09IHRpbWV6b25lSG91cjtcbiAgICAgICAgbWludXRlIC09IHRpbWV6b25lTWludXRlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWludXRlID4gNTkpIHtcbiAgICAgICAgaG91ciArPSAxO1xuICAgICAgICBtaW51dGUgLT0gNjA7XG4gICAgICB9IGVsc2UgaWYgKG1pbnV0ZSA8IDApIHtcbiAgICAgICAgaG91ciAtPSAxO1xuICAgICAgICBtaW51dGUgKz0gNjA7XG4gICAgICB9XG5cbiAgICAgIGlmIChob3VyID4gMjMpIHtcbiAgICAgICAgZGF5ICs9IDE7XG4gICAgICAgIGhvdXIgLT0gMjQ7XG4gICAgICB9IGVsc2UgaWYgKGhvdXIgPCAwKSB7XG4gICAgICAgIGRheSAtPSAxO1xuICAgICAgICBob3VyICs9IDI0O1xuICAgICAgfVxuXG4gICAgICBpZiAoZGF5ID4gMzEpIHtcbiAgICAgICAgbW9udGggKz0gMTtcbiAgICAgICAgZGF5IC09IDMxO1xuICAgICAgfSBlbHNlIGlmIChkYXkgPCAxKSB7XG4gICAgICAgIG1vbnRoIC09IDE7XG4gICAgICAgIGRheSArPSAzMTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vbnRoID4gMTIpIHtcbiAgICAgICAgeWVhciArPSAxO1xuICAgICAgICBtb250aCAtPSAxMjtcbiAgICAgIH0gZWxzZSBpZiAobW9udGggPCAxKSB7XG4gICAgICAgIHllYXIgLT0gMTtcbiAgICAgICAgbW9udGggKz0gMTI7XG4gICAgICB9XG5cbiAgICAgIGlmICh5ZWFyIDwgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbWF4RGF5cyA9XG4gICAgICBtb250aCA9PT0gMlxuICAgICAgICA/IHllYXIgJSA0ID09PSAwICYmICh5ZWFyICUgMTAwICE9PSAwIHx8IHllYXIgJSA0MDAgPT09IDApXG4gICAgICAgICAgPyAyOVxuICAgICAgICAgIDogMjhcbiAgICAgICAgOiBkYXlzSW5Nb250aFttb250aCAtIDFdO1xuXG4gICAgaWYgKGRheSA+IG1heERheXMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBMZWFwIHNlY29uZHNcbiAgICBpZiAoc2Vjb25kID09PSA2MCAmJiAobWludXRlICE9PSA1OSB8fCBob3VyICE9PSAyMykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgdXJpKGRhdGEpIHtcbiAgICByZXR1cm4gUmVnRXhwcy51cmkudGVzdChkYXRhKTtcbiAgfSxcbiAgZW1haWwoZGF0YSkge1xuICAgIHJldHVybiAvXig/IVxcLikoPyEuKlxcLiQpW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dezEsMjB9KD86XFwuW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dezEsMjF9KXswLDJ9QFthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPyg/OlxcLlthLXowLTldKD86W2EtejAtOS1dezAsNjB9W2EtejAtOV0pPyl7MCwzfSQvaS50ZXN0KFxuICAgICAgZGF0YVxuICAgICk7XG4gIH0sXG4gIGlwdjQoZGF0YSkge1xuICAgIC8vIE1hdGNoZXMgYSBzdHJpbmcgZm9ybWVkIGJ5IDQgbnVtYmVycyBiZXR3ZWVuIDAgYW5kIDI1NSBzZXBhcmF0ZWQgYnkgZG90cyB3aXRob3V0IGxlYWRpbmcgemVyb3NcbiAgICAvLyAvXigoMjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV17Mn18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KDI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFsxLTldWzAtOV18WzAtOV0pJC9cbiAgICByZXR1cm4gL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XXsyfXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XXsyfXxbMS05XVswLTldfFswLTldKSQvLnRlc3QoXG4gICAgICBkYXRhXG4gICAgKTtcbiAgfSxcblxuICAvLyBpcHY2OiBpc015SXBWYWxpZCh7IHZlcnNpb246IDYgfSksXG4gIGlwdjY6IGlwdjYsXG5cbiAgaG9zdG5hbWUoZGF0YSkge1xuICAgIHJldHVybiAvXlthLXowLTldW2EtejAtOS1dezAsNjJ9KD86XFwuW2EtejAtOV1bYS16MC05LV17MCw2Mn0pKlthLXowLTldJC9pLnRlc3QoXG4gICAgICBkYXRhXG4gICAgKTtcbiAgfSxcbiAgZGF0ZShkYXRhKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKFJlZ0V4cHMuZGF0ZS50ZXN0KGRhdGEpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAhaXNOYU4obmV3IERhdGUoZGF0YSkuZ2V0VGltZSgpKTtcbiAgfSxcbiAgcmVnZXgoZGF0YSkge1xuICAgIHRyeSB7XG4gICAgICBuZXcgUmVnRXhwKGRhdGEpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgXCJqc29uLXBvaW50ZXJcIihkYXRhKSB7XG4gICAgaWYgKGRhdGEgPT09IFwiXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBSZWdFeHBzW1wianNvbi1wb2ludGVyXCJdLnRlc3QoZGF0YSk7XG4gIH0sXG4gIFwicmVsYXRpdmUtanNvbi1wb2ludGVyXCIoZGF0YSkge1xuICAgIGlmIChkYXRhID09PSBcIlwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVnRXhwc1tcInJlbGF0aXZlLWpzb24tcG9pbnRlclwiXS50ZXN0KGRhdGEpO1xuICB9LFxuICB0aW1lKGRhdGEpIHtcbiAgICByZXR1cm4gUmVnRXhwcy50aW1lLnRlc3QoZGF0YSk7XG4gIH0sXG5cbiAgLy8gTm90IHN1cHBvcnRlZCB5ZXRcbiAgZHVyYXRpb246IGZhbHNlLFxuICBcImlkbi1lbWFpbFwiOiBmYWxzZSxcbiAgXCJpZG4taG9zdG5hbWVcIjogZmFsc2UsXG4gIHV1aWQ6IGZhbHNlLFxuICBcInVyaS1yZWZlcmVuY2VcIjogZmFsc2UsXG4gIGlyaTogZmFsc2UsXG4gIFwiaXJpLXJlZmVyZW5jZVwiOiBmYWxzZSxcbiAgXCJ1cmktdGVtcGxhdGVcIjogZmFsc2Vcbn07XG4iLCJpbXBvcnQgeyBUeXBlRnVuY3Rpb24gfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgVHlwZXM6IFJlY29yZDxzdHJpbmcsIFR5cGVGdW5jdGlvbiB8IGZhbHNlPiA9IHtcbiAgb2JqZWN0KGRhdGEpIHtcbiAgICByZXR1cm4gaXNPYmplY3QoZGF0YSk7XG4gIH0sXG4gIGFycmF5KGRhdGEpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmXG4gICAgICBkYXRhICE9PSBudWxsICYmXG4gICAgICBcImxlbmd0aFwiIGluIGRhdGEgJiZcbiAgICAgIFwiMFwiIGluIGRhdGEgJiZcbiAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCAtIDEgPT09IGRhdGEubGVuZ3RoXG4gICAgKTtcbiAgfSxcbiAgc3RyaW5nKGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCI7XG4gIH0sXG4gIG51bWJlcihkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcIm51bWJlclwiO1xuICB9LFxuICBpbnRlZ2VyKGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwibnVtYmVyXCIgJiYgZGF0YSAlIDEgPT09IDA7XG4gIH0sXG4gIGJvb2xlYW4oZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJib29sZWFuXCI7XG4gIH0sXG4gIG51bGwoZGF0YSkge1xuICAgIHJldHVybiBkYXRhID09PSBudWxsO1xuICB9LFxuXG4gIC8vIE5vdCBpbXBsZW1lbnRlZCB5ZXRcbiAgdGltZXN0YW1wOiBmYWxzZSxcbiAgaW50ODogZmFsc2UsXG4gIHVuaXQ4OiBmYWxzZSxcbiAgaW50MTY6IGZhbHNlLFxuICB1bml0MTY6IGZhbHNlLFxuICBpbnQzMjogZmFsc2UsXG4gIHVuaXQzMjogZmFsc2UsXG4gIGZsb2F0MzI6IGZhbHNlLFxuICBmbG9hdDY0OiBmYWxzZVxuXG5cbn07XG4iLCJpbXBvcnQgeyBBcnJheUtleXdvcmRzIH0gZnJvbSBcIi4va2V5d29yZHMvYXJyYXkta2V5d29yZHNcIjtcbmltcG9ydCB7IEtleXdvcmRGdW5jdGlvbiB9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgeyBOdW1iZXJLZXl3b3JkcyB9IGZyb20gXCIuL2tleXdvcmRzL251bWJlci1rZXl3b3Jkc1wiO1xuaW1wb3J0IHsgT2JqZWN0S2V5d29yZHMgfSBmcm9tIFwiLi9rZXl3b3Jkcy9vYmplY3Qta2V5d29yZHNcIjtcbmltcG9ydCB7IE90aGVyS2V5d29yZHMgfSBmcm9tIFwiLi9rZXl3b3Jkcy9vdGhlci1rZXl3b3Jkc1wiO1xuaW1wb3J0IHsgU3RyaW5nS2V5d29yZHMgfSBmcm9tIFwiLi9rZXl3b3Jkcy9zdHJpbmcta2V5d29yZHNcIjtcblxuZXhwb3J0IGNvbnN0IGtleXdvcmRzOiBSZWNvcmQ8c3RyaW5nLCBLZXl3b3JkRnVuY3Rpb24gfCBmYWxzZT4gPSB7XG4gIC4uLk9iamVjdEtleXdvcmRzLFxuICAuLi5BcnJheUtleXdvcmRzLFxuICAuLi5TdHJpbmdLZXl3b3JkcyxcbiAgLi4uTnVtYmVyS2V5d29yZHMsXG4gIC4uLk90aGVyS2V5d29yZHNcbn07XG4iLCJpbXBvcnQgeyBpc0NvbXBpbGVkU2NoZW1hLCBpc09iamVjdCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5pbXBvcnQgeyBLZXl3b3JkRnVuY3Rpb24gfSBmcm9tIFwiLi4vaW5kZXhcIjtcblxuZXhwb3J0IGNvbnN0IE9iamVjdEtleXdvcmRzOiBSZWNvcmQ8c3RyaW5nLCBLZXl3b3JkRnVuY3Rpb24gfCBmYWxzZT4gPSB7XG4gIC8vIE9iamVjdFxuICByZXF1aXJlZChzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hLnJlcXVpcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBzY2hlbWEucmVxdWlyZWRbaV07XG4gICAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJSZXF1aXJlZCBwcm9wZXJ0eSBpcyBtaXNzaW5nXCIsIHtcbiAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgZGF0YTogZGF0YVtrZXldXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBwcm9wZXJ0aWVzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoc2NoZW1hLnByb3BlcnRpZXMpKSB7XG4gICAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjb25zdCBzY2hlbWFQcm9wID0gc2NoZW1hLnByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNjaGVtYVByb3ApICYmIFwiZGVmYXVsdFwiIGluIHNjaGVtYVByb3ApIHtcbiAgICAgICAgICBkYXRhW2tleV0gPSBzY2hlbWFQcm9wLmRlZmF1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLnByb3BlcnRpZXNba2V5XSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgaWYgKHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiUHJvcGVydHkgaXMgbm90IGFsbG93ZWRcIiwge1xuICAgICAgICAgICAgaXRlbToga2V5LFxuICAgICAgICAgICAgZGF0YTogZGF0YVtrZXldXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChcIiR2YWxpZGF0ZVwiIGluIHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0pIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWEucHJvcGVydGllc1trZXldLiR2YWxpZGF0ZShkYXRhW2tleV0pO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJQcm9wZXJ0eSBpcyBpbnZhbGlkXCIsIHtcbiAgICAgICAgICAgIGl0ZW06IGtleSxcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgIGRhdGE6IGRhdGFba2V5XVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIHZhbHVlcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSB8fCAhaXNDb21waWxlZFNjaGVtYShzY2hlbWEudmFsdWVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS52YWx1ZXMuJHZhbGlkYXRlKGRhdGFba2V5XSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiUHJvcGVydHkgaXMgaW52YWxpZFwiLCB7XG4gICAgICAgICAgaXRlbToga2V5LFxuICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIG1heFByb3BlcnRpZXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkgfHwgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoIDw9IHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVG9vIG1hbnkgcHJvcGVydGllc1wiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgbWluUHJvcGVydGllcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSB8fCBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPj0gc2NoZW1hLm1pblByb3BlcnRpZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJUb28gZmV3IHByb3BlcnRpZXNcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIGFkZGl0aW9uYWxQcm9wZXJ0aWVzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICAgIGNvbnN0IGlzQ29tcGlsZWQgPSBpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyk7XG4gICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgaWYgKHNjaGVtYS5wcm9wZXJ0aWVzICYmIHNjaGVtYS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpIHtcbiAgICAgICAgbGV0IG1hdGNoID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgcGF0dGVybiBpbiBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpIHtcbiAgICAgICAgICBpZiAobmV3IFJlZ0V4cChwYXR0ZXJuLCBcInVcIikudGVzdChrZXkpKSB7XG4gICAgICAgICAgICBtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQWRkaXRpb25hbCBwcm9wZXJ0aWVzIGFyZSBub3QgYWxsb3dlZFwiLCB7XG4gICAgICAgICAgaXRlbToga2V5LFxuICAgICAgICAgIGRhdGE6IGRhdGFba2V5XVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQ29tcGlsZWQpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMuJHZhbGlkYXRlKGRhdGFba2V5XSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgaW52YWxpZFwiLCB7XG4gICAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBwYXR0ZXJuUHJvcGVydGllcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhdHRlcm5zID0gT2JqZWN0LmtleXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKTtcbiAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgcGF0dGVybnMpIHtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCBcInVcIik7XG4gICAgICBpZiAodHlwZW9mIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgaWYgKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICBpZiAocmVnZXgudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlByb3BlcnR5IGlzIG5vdCBhbGxvd2VkXCIsIHtcbiAgICAgICAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVtrZXldXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICBpZiAocmVnZXgudGVzdChrZXkpKSB7XG4gICAgICAgICAgaWYgKFwiJHZhbGlkYXRlXCIgaW4gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm5dKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXS4kdmFsaWRhdGUoXG4gICAgICAgICAgICAgIGRhdGFba2V5XVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJQcm9wZXJ0eSBpcyBpbnZhbGlkXCIsIHtcbiAgICAgICAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFba2V5XVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgcHJvcGVydHlOYW1lcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNjaGVtYS5wcm9wZXJ0eU5hbWVzID09PSBcImJvb2xlYW5cIikge1xuICAgICAgaWYgKHNjaGVtYS5wcm9wZXJ0eU5hbWVzID09PSBmYWxzZSAmJiBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlByb3BlcnRpZXMgYXJlIG5vdCBhbGxvd2VkXCIsIHsgZGF0YSB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hLnByb3BlcnR5TmFtZXMpKSB7XG4gICAgICBmb3IgKGxldCBrZXkgaW4gZGF0YSkge1xuICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5wcm9wZXJ0eU5hbWVzLiR2YWxpZGF0ZShrZXkpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJQcm9wZXJ0eSBuYW1lIGlzIGludmFsaWRcIiwge1xuICAgICAgICAgICAgaXRlbToga2V5LFxuICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgZGF0YTogZGF0YVtrZXldXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgZGVwZW5kZW5jaWVzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hLmRlcGVuZGVuY2llcykge1xuICAgICAgaWYgKGtleSBpbiBkYXRhID09PSBmYWxzZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGVwZW5kZW5jeSA9IHNjaGVtYS5kZXBlbmRlbmNpZXNba2V5XTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRlcGVuZGVuY3kpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwZW5kZW5jeS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICghKGRlcGVuZGVuY3lbaV0gaW4gZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkRlcGVuZGVuY3kgaXMgbm90IHNhdGlzZmllZFwiLCB7XG4gICAgICAgICAgICAgIGl0ZW06IGksXG4gICAgICAgICAgICAgIGRhdGE6IGRlcGVuZGVuY3lbaV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZGVwZW5kZW5jeSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgaWYgKGRlcGVuZGVuY3kpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJEZXBlbmRlbmN5IGlzIG5vdCBzYXRpc2ZpZWRcIiwgeyBkYXRhOiBkZXBlbmRlbmN5IH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGRlcGVuZGVuY3kgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKGRlcGVuZGVuY3kgaW4gZGF0YSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkRlcGVuZGVuY3kgaXMgbm90IHNhdGlzZmllZFwiLCB7IGRhdGE6IGRlcGVuZGVuY3kgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBlcnJvciA9IGRlcGVuZGVuY3kuJHZhbGlkYXRlKGRhdGEpO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkRlcGVuZGVuY3kgaXMgbm90IHNhdGlzZmllZFwiLCB7XG4gICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgIGRhdGFcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIC8vIFJlcXVpcmVkIGJ5IG90aGVyIGtleXdvcmRzIGJ1dCBub3QgdXNlZCBhcyBhIGZ1bmN0aW9uIGl0c2VsZlxuICB0aGVuOiBmYWxzZSxcbiAgZWxzZTogZmFsc2UsXG4gIGRlZmF1bHQ6IGZhbHNlLFxuXG4gIC8vIE5vdCBpbXBsZW1lbnRlZCB5ZXRcbiAgJHJlZjogZmFsc2UsXG4gIGRlZmluaXRpb25zOiBmYWxzZSxcbiAgJGlkOiBmYWxzZSxcbiAgJHNjaGVtYTogZmFsc2UsXG5cbiAgLy8gTWV0YWRhdGEga2V5d29yZHMgKG5vdCB1c2VkIGFzIGEgZnVuY3Rpb24pXG4gIHRpdGxlOiBmYWxzZSxcbiAgZGVzY3JpcHRpb246IGZhbHNlLFxuICAkY29tbWVudDogZmFsc2UsXG4gIGV4YW1wbGVzOiBmYWxzZSxcbiAgY29udGVudE1lZGlhVHlwZTogZmFsc2UsXG4gIGNvbnRlbnRFbmNvZGluZzogZmFsc2UsXG5cbiAgLy8gTm90IHN1cHBvcnRlZCBPcGVuIEFQSSBrZXl3b3Jkc1xuICBkaXNjcmltaW5hdG9yOiBmYWxzZSxcbiAgbnVsbGFibGU6IGZhbHNlXG59O1xuIiwiaW1wb3J0IHsgaXNDb21waWxlZFNjaGVtYSwgaXNPYmplY3QgfSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuaW1wb3J0IHsgS2V5d29yZEZ1bmN0aW9uIH0gZnJvbSBcIi4uL2luZGV4XCI7XG5cbmV4cG9ydCBjb25zdCBBcnJheUtleXdvcmRzOiBSZWNvcmQ8c3RyaW5nLCBLZXl3b3JkRnVuY3Rpb24+ID0ge1xuICBpdGVtcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2NoZW1hSXRlbXMgPSBzY2hlbWEuaXRlbXM7XG4gICAgY29uc3QgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gICAgaWYgKHR5cGVvZiBzY2hlbWFJdGVtcyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIGlmIChzY2hlbWFJdGVtcyA9PT0gZmFsc2UgJiYgZGF0YUxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgaXRlbXMgYXJlIG5vdCBhbGxvd2VkXCIsIHsgZGF0YSB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYUl0ZW1zKSkge1xuICAgICAgY29uc3Qgc2NoZW1hSXRlbXNMZW5ndGggPSBzY2hlbWFJdGVtcy5sZW5ndGg7XG4gICAgICBjb25zdCBpdGVtc0xlbmd0aCA9IE1hdGgubWluKHNjaGVtYUl0ZW1zTGVuZ3RoLCBkYXRhTGVuZ3RoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXNMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzY2hlbWFJdGVtID0gc2NoZW1hSXRlbXNbaV07XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hSXRlbSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICBpZiAoc2NoZW1hSXRlbSA9PT0gZmFsc2UgJiYgdHlwZW9mIGRhdGFbaV0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGl0ZW0gaXMgbm90IGFsbG93ZWRcIiwge1xuICAgICAgICAgICAgICBpdGVtOiBpLFxuICAgICAgICAgICAgICBkYXRhOiBkYXRhW2ldXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNDb21waWxlZFNjaGVtYShzY2hlbWFJdGVtKSkge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hSXRlbS4kdmFsaWRhdGUoZGF0YVtpXSk7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpdGVtIGlzIGludmFsaWRcIiwge1xuICAgICAgICAgICAgICBpdGVtOiBpLFxuICAgICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgICAgIGRhdGE6IGRhdGFbaV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hSXRlbXMpKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYUl0ZW1zLiR2YWxpZGF0ZShkYXRhW2ldKTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgaXRlbSBpcyBpbnZhbGlkXCIsIHtcbiAgICAgICAgICAgIGl0ZW06IGksXG4gICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgICBkYXRhOiBkYXRhW2ldXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgZWxlbWVudHMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSB8fCAhaXNDb21waWxlZFNjaGVtYShzY2hlbWEuZWxlbWVudHMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5lbGVtZW50cy4kdmFsaWRhdGUoZGF0YVtpXSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgaXRlbSBpcyBpbnZhbGlkXCIsIHtcbiAgICAgICAgICBpdGVtOiBpLFxuICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICBkYXRhOiBkYXRhW2ldXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBtaW5JdGVtcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpIHx8IGRhdGEubGVuZ3RoID49IHNjaGVtYS5taW5JdGVtcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGlzIHRvbyBzaG9ydFwiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgbWF4SXRlbXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSB8fCBkYXRhLmxlbmd0aCA8PSBzY2hlbWEubWF4SXRlbXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpcyB0b28gbG9uZ1wiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgYWRkaXRpb25hbEl0ZW1zKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkgfHwgIXNjaGVtYS5pdGVtcyB8fCAhQXJyYXkuaXNBcnJheShzY2hlbWEuaXRlbXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgPT09IGZhbHNlKSB7XG4gICAgICBpZiAoZGF0YS5sZW5ndGggPiBzY2hlbWEuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGlzIHRvbyBsb25nXCIsIHsgZGF0YSB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNPYmplY3Qoc2NoZW1hLmFkZGl0aW9uYWxJdGVtcykpIHtcbiAgICAgIGlmIChpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBzY2hlbWEuaXRlbXMubGVuZ3RoOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLmFkZGl0aW9uYWxJdGVtcy4kdmFsaWRhdGUoZGF0YVtpXSk7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpdGVtIGlzIGludmFsaWRcIiwge1xuICAgICAgICAgICAgICBpdGVtOiBpLFxuICAgICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgICAgIGRhdGE6IGRhdGFbaV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgdW5pcXVlSXRlbXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSB8fCAhc2NoZW1hLnVuaXF1ZUl0ZW1zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdW5pcXVlID0gbmV3IFNldCgpO1xuXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGRhdGEpIHtcbiAgICAgIGxldCBpdGVtU3RyO1xuXG4gICAgICAvLyBDaGFuZ2Ugc3RyaW5nIHRvIFwic3RyaW5nXCIgdG8gYXZvaWQgZmFsc2UgcG9zaXRpdmVzXG4gICAgICBpZiAodHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaXRlbVN0ciA9IGBzOiR7aXRlbX1gO1xuICAgICAgICAvLyBTb3J0IG9iamVjdCBrZXlzIHRvIGF2b2lkIGZhbHNlIHBvc2l0aXZlc1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChpdGVtKSkge1xuICAgICAgICBpdGVtU3RyID0gYG86JHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhpdGVtKS5zb3J0KChbYV0sIFtiXSkgPT4gYS5sb2NhbGVDb21wYXJlKGIpKVxuICAgICAgICAgIClcbiAgICAgICAgKX1gO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgIGl0ZW1TdHIgPSBKU09OLnN0cmluZ2lmeShpdGVtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW1TdHIgPSBTdHJpbmcoaXRlbSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh1bmlxdWUuaGFzKGl0ZW1TdHIpKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGl0ZW1zIGFyZSBub3QgdW5pcXVlXCIsIHsgZGF0YTogaXRlbSB9KTtcbiAgICAgIH1cbiAgICAgIHVuaXF1ZS5hZGQoaXRlbVN0cik7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIGNvbnRhaW5zKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEuY29udGFpbnMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICBpZiAoc2NoZW1hLmNvbnRhaW5zKSB7XG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbVwiLCB7IGRhdGEgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBtdXN0IG5vdCBjb250YWluIGFueSBpdGVtc1wiLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5jb250YWlucy4kdmFsaWRhdGUoZGF0YVtpXSk7XG4gICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbVwiLCB7IGRhdGEgfSk7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBLZXl3b3JkRnVuY3Rpb24gfSBmcm9tIFwiLi4vaW5kZXhcIjtcblxuZXhwb3J0IGNvbnN0IFN0cmluZ0tleXdvcmRzOiBSZWNvcmQ8c3RyaW5nLCBLZXl3b3JkRnVuY3Rpb24+ID0ge1xuICBtaW5MZW5ndGgoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiB8fCBkYXRhLmxlbmd0aCA+PSBzY2hlbWEubWluTGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgc2hvcnRlciB0aGFuIHRoZSBtaW5pbXVtIGxlbmd0aFwiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgbWF4TGVuZ3RoKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgfHwgZGF0YS5sZW5ndGggPD0gc2NoZW1hLm1heExlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIGxvbmdlciB0aGFuIHRoZSBtYXhpbXVtIGxlbmd0aFwiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgcGF0dGVybihzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGF0dGVyblJlZ2V4cCA9IG5ldyBSZWdFeHAoc2NoZW1hLnBhdHRlcm4sIFwidVwiKTtcblxuICAgIGlmIChwYXR0ZXJuUmVnZXhwIGluc3RhbmNlb2YgUmVnRXhwID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiSW52YWxpZCByZWd1bGFyIGV4cHJlc3Npb25cIiwgeyBkYXRhIH0pO1xuICAgIH1cblxuICAgIGlmIChwYXR0ZXJuUmVnZXhwLnRlc3QoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBkb2VzIG5vdCBtYXRjaCB0aGUgcGF0dGVyblwiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgZm9ybWF0KHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IsIGluc3RhbmNlKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZm9ybWF0VmFsaWRhdGUgPSBpbnN0YW5jZS5nZXRGb3JtYXQoc2NoZW1hLmZvcm1hdCk7XG4gICAgaWYgKGZvcm1hdFZhbGlkYXRlID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXRWYWxpZGF0ZSkge1xuICAgICAgaWYgKGZvcm1hdFZhbGlkYXRlKGRhdGEpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlIGZvcm1hdFwiLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiRm9ybWF0IGlzIG5vdCBzdXBwb3J0ZWRcIiwgeyBkYXRhIH0pO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgS2V5d29yZEZ1bmN0aW9uIH0gZnJvbSBcIi4uL2luZGV4XCI7XG5pbXBvcnQgeyBhcmVDbG9zZUVub3VnaCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgTnVtYmVyS2V5d29yZHM6IFJlY29yZDxzdHJpbmcsIEtleXdvcmRGdW5jdGlvbj4gPSB7XG4gIG1pbmltdW0oc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvciwgaW5zdGFuY2UpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbWluID0gc2NoZW1hLm1pbmltdW07XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgbWluID0gc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0gKyAxZS0xNTtcbiAgICB9IGVsc2UgaWYgKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtID09PSB0cnVlKSB7XG4gICAgICBtaW4gKz0gMWUtMTU7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgPCBtaW4pIHtcbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIGxlc3MgdGhhbiB0aGUgbWluaW11bVwiLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIG1heGltdW0oc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvciwgaW5zdGFuY2UpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbWF4ID0gc2NoZW1hLm1heGltdW07XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgbWF4ID0gc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gLSAxZS0xNTtcbiAgICB9IGVsc2UgaWYgKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtID09PSB0cnVlKSB7XG4gICAgICBtYXggLT0gMWUtMTU7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgPiBtYXgpIHtcbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgbWF4aW11bVwiLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIG11bHRpcGxlT2Yoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvciwgaW5zdGFuY2UpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBxdW90aWVudCA9IGRhdGEgLyBzY2hlbWEubXVsdGlwbGVPZjtcblxuICAgIGlmICghaXNGaW5pdGUocXVvdGllbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFhcmVDbG9zZUVub3VnaChxdW90aWVudCwgTWF0aC5yb3VuZChxdW90aWVudCkpKSB7XG4gICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgYSBtdWx0aXBsZSBvZiB0aGUgbXVsdGlwbGVPZlwiLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIGV4Y2x1c2l2ZU1pbmltdW0oc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvciwgaW5zdGFuY2UpIHtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgZGF0YSAhPT0gXCJudW1iZXJcIiB8fFxuICAgICAgdHlwZW9mIHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtICE9PSBcIm51bWJlclwiIHx8XG4gICAgICBcIm1pbmltdW1cIiBpbiBzY2hlbWFcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSA8PSBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSArIDFlLTE1KSB7XG4gICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGV4Y2x1c2l2ZU1pbmltdW1cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIGV4Y2x1c2l2ZU1heGltdW0oc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvciwgaW5zdGFuY2UpIHtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgZGF0YSAhPT0gXCJudW1iZXJcIiB8fFxuICAgICAgdHlwZW9mIHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtICE9PSBcIm51bWJlclwiIHx8XG4gICAgICBcIm1heGltdW1cIiBpbiBzY2hlbWFcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSA+PSBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkge1xuICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFxuICAgICAgICBcIlZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgZXhjbHVzaXZlTWF4aW11bVwiLFxuICAgICAgICB7IGRhdGEgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBkZWVwRXF1YWwsIGlzQ29tcGlsZWRTY2hlbWEsIGlzT2JqZWN0IH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmltcG9ydCB7IEtleXdvcmRGdW5jdGlvbiB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5leHBvcnQgY29uc3QgT3RoZXJLZXl3b3JkczogUmVjb3JkPHN0cmluZywgS2V5d29yZEZ1bmN0aW9uPiA9IHtcbiAgZW51bShzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgLy8gQ2hlY2sgaWYgZGF0YSBpcyBhbiBhcnJheSBvciBhbiBvYmplY3RcbiAgICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShkYXRhKTtcbiAgICBjb25zdCBpc09iamVjdCA9IHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmIGRhdGEgIT09IG51bGw7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYS5lbnVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbnVtSXRlbSA9IHNjaGVtYS5lbnVtW2ldO1xuXG4gICAgICAvLyBTaW1wbGUgZXF1YWxpdHkgY2hlY2tcbiAgICAgIGlmIChlbnVtSXRlbSA9PT0gZGF0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGRhdGEgaXMgYW4gYXJyYXkgb3IgYW4gb2JqZWN0LCBjaGVjayBmb3IgZGVlcCBlcXVhbGl0eVxuICAgICAgaWYgKFxuICAgICAgICAoaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KGVudW1JdGVtKSkgfHxcbiAgICAgICAgKGlzT2JqZWN0ICYmIHR5cGVvZiBlbnVtSXRlbSA9PT0gXCJvYmplY3RcIiAmJiBlbnVtSXRlbSAhPT0gbnVsbClcbiAgICAgICkge1xuICAgICAgICBpZiAoZGVlcEVxdWFsKGVudW1JdGVtLCBkYXRhKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCBvbmUgb2YgdGhlIGFsbG93ZWQgdmFsdWVzXCIsIHsgZGF0YSB9KTtcbiAgfSxcblxuICBhbGxPZihzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEuYWxsT2YubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpc09iamVjdChzY2hlbWEuYWxsT2ZbaV0pKSB7XG4gICAgICAgIGlmIChcIiR2YWxpZGF0ZVwiIGluIHNjaGVtYS5hbGxPZltpXSkge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLmFsbE9mW2ldLiR2YWxpZGF0ZShkYXRhKTtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGNhdXNlOiBlcnJvciwgZGF0YSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLmFsbE9mW2ldID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBpZiAoQm9vbGVhbihkYXRhKSAhPT0gc2NoZW1hLmFsbE9mW2ldKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgZGF0YSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGEgIT09IHNjaGVtYS5hbGxPZltpXSkge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBkYXRhIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBhbnlPZihzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEuYW55T2YubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpc09iamVjdChzY2hlbWEuYW55T2ZbaV0pKSB7XG4gICAgICAgIGlmIChcIiR2YWxpZGF0ZVwiIGluIHNjaGVtYS5hbnlPZltpXSkge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLmFueU9mW2ldLiR2YWxpZGF0ZShkYXRhKTtcbiAgICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLmFueU9mW2ldID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgIGlmIChCb29sZWFuKGRhdGEpID09PSBzY2hlbWEuYW55T2ZbaV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YSA9PT0gc2NoZW1hLmFueU9mW2ldKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgZGF0YSB9KTtcbiAgfSxcblxuICBvbmVPZihzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgbGV0IHZhbGlkQ291bnQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hLm9uZU9mLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qoc2NoZW1hLm9uZU9mW2ldKSkge1xuICAgICAgICBpZiAoXCIkdmFsaWRhdGVcIiBpbiBzY2hlbWEub25lT2ZbaV0pIHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5vbmVPZltpXS4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgdmFsaWRDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YWxpZENvdW50Kys7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWEub25lT2ZbaV0gPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgaWYgKEJvb2xlYW4oZGF0YSkgPT09IHNjaGVtYS5vbmVPZltpXSkge1xuICAgICAgICAgICAgdmFsaWRDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhID09PSBzY2hlbWEub25lT2ZbaV0pIHtcbiAgICAgICAgICB2YWxpZENvdW50Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmFsaWRDb3VudCA9PT0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgY29uc3Qoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmIChcbiAgICAgIGRhdGEgPT09IHNjaGVtYS5jb25zdCB8fFxuICAgICAgKGlzT2JqZWN0KGRhdGEpICYmXG4gICAgICAgIGlzT2JqZWN0KHNjaGVtYS5jb25zdCkgJiZcbiAgICAgICAgZGVlcEVxdWFsKGRhdGEsIHNjaGVtYS5jb25zdCkpIHx8XG4gICAgICAoQXJyYXkuaXNBcnJheShkYXRhKSAmJlxuICAgICAgICBBcnJheS5pc0FycmF5KHNjaGVtYS5jb25zdCkgJiZcbiAgICAgICAgZGVlcEVxdWFsKGRhdGEsIHNjaGVtYS5jb25zdCkpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgaWYoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmIChcInRoZW5cIiBpbiBzY2hlbWEgPT09IGZhbHNlICYmIFwiZWxzZVwiIGluIHNjaGVtYSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEuaWYgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICBpZiAoc2NoZW1hLmlmKSB7XG4gICAgICAgIGlmIChpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS50aGVuKSkge1xuICAgICAgICAgIHJldHVybiBzY2hlbWEudGhlbi4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNDb21waWxlZFNjaGVtYShzY2hlbWEuZWxzZSkpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYS5lbHNlLiR2YWxpZGF0ZShkYXRhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hLmlmKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLmlmLiR2YWxpZGF0ZShkYXRhKTtcbiAgICBpZiAoIWVycm9yKSB7XG4gICAgICBpZiAoaXNDb21waWxlZFNjaGVtYShzY2hlbWEudGhlbikpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYS50aGVuLiR2YWxpZGF0ZShkYXRhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hLmVsc2UpKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWEuZWxzZS4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9LFxuXG4gIG5vdChzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEubm90ID09PSBcImJvb2xlYW5cIikge1xuICAgICAgaWYgKHNjaGVtYS5ub3QpIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgZGF0YSB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNPYmplY3Qoc2NoZW1hLm5vdCkpIHtcbiAgICAgIGlmIChcIiR2YWxpZGF0ZVwiIGluIHNjaGVtYS5ub3QpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWEubm90LiR2YWxpZGF0ZShkYXRhKTtcbiAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGNhdXNlOiBlcnJvciwgZGF0YSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBkYXRhIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gIH1cbn07XG4iLCJpbXBvcnQge1xuICBEZWZpbmVFcnJvckZ1bmN0aW9uLFxuICBWYWxpZGF0aW9uRXJyb3IsXG4gIGRlZXBDbG9uZSxcbiAgZ2V0RGVmaW5lZEVycm9yRnVuY3Rpb25Gb3JLZXksXG4gIGdldE5hbWVkRnVuY3Rpb24sXG4gIGlzT2JqZWN0XG59IGZyb20gXCIuL3V0aWxzXCI7XG5cbmltcG9ydCB7IEZvcm1hdHMgfSBmcm9tIFwiLi9mb3JtYXRzXCI7XG5pbXBvcnQgeyBUeXBlcyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBrZXl3b3JkcyB9IGZyb20gXCIuL2tleXdvcmRzXCI7XG5cbmV4cG9ydCB0eXBlIFJlc3VsdCA9IHZvaWQgfCBWYWxpZGF0aW9uRXJyb3I7XG5cbmV4cG9ydCBpbnRlcmZhY2UgS2V5d29yZEZ1bmN0aW9uIHtcbiAgKFxuICAgIHNjaGVtYTogQ29tcGlsZWRTY2hlbWEsXG4gICAgZGF0YTogYW55LFxuICAgIGRlZmluZUVycm9yOiBEZWZpbmVFcnJvckZ1bmN0aW9uLFxuICAgIGluc3RhbmNlOiBTY2hlbWFTaGllbGRcbiAgKTogUmVzdWx0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFR5cGVGdW5jdGlvbiB7XG4gIChkYXRhOiBhbnkpOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZvcm1hdEZ1bmN0aW9uIHtcbiAgKGRhdGE6IGFueSk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFsaWRhdGVGdW5jdGlvbiB7XG4gIChkYXRhOiBhbnkpOiBSZXN1bHQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRTY2hlbWEge1xuICAkdmFsaWRhdGU/OiBWYWxpZGF0ZUZ1bmN0aW9uO1xuICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFsaWRhdG9yIHtcbiAgKGRhdGE6IGFueSk6IHsgZGF0YTogYW55OyBlcnJvcjogVmFsaWRhdGlvbkVycm9yIHwgbnVsbDsgdmFsaWQ6IGJvb2xlYW4gfTtcbiAgY29tcGlsZWRTY2hlbWE6IENvbXBpbGVkU2NoZW1hO1xufVxuXG5leHBvcnQgY2xhc3MgU2NoZW1hU2hpZWxkIHtcbiAgcHJpdmF0ZSB0eXBlczogUmVjb3JkPHN0cmluZywgVHlwZUZ1bmN0aW9uIHwgZmFsc2U+ID0ge307XG4gIHByaXZhdGUgZm9ybWF0czogUmVjb3JkPHN0cmluZywgRm9ybWF0RnVuY3Rpb24gfCBmYWxzZT4gPSB7fTtcbiAgcHJpdmF0ZSBrZXl3b3JkczogUmVjb3JkPHN0cmluZywgS2V5d29yZEZ1bmN0aW9uIHwgZmFsc2U+ID0ge307XG4gIHByaXZhdGUgaW1tdXRhYmxlID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGltbXV0YWJsZSA9IGZhbHNlXG4gIH06IHtcbiAgICBpbW11dGFibGU/OiBib29sZWFuO1xuICB9ID0ge30pIHtcbiAgICB0aGlzLmltbXV0YWJsZSA9IGltbXV0YWJsZTtcblxuICAgIGZvciAoY29uc3QgW3R5cGUsIHZhbGlkYXRvcl0gb2YgT2JqZWN0LmVudHJpZXMoVHlwZXMpKSB7XG4gICAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICAgIHRoaXMuYWRkVHlwZSh0eXBlLCB2YWxpZGF0b3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgW2tleXdvcmQsIHZhbGlkYXRvcl0gb2YgT2JqZWN0LmVudHJpZXMoa2V5d29yZHMpKSB7XG4gICAgICB0aGlzLmFkZEtleXdvcmQoa2V5d29yZCwgdmFsaWRhdG9yIGFzIEtleXdvcmRGdW5jdGlvbik7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBbZm9ybWF0LCB2YWxpZGF0b3JdIG9mIE9iamVjdC5lbnRyaWVzKEZvcm1hdHMpKSB7XG4gICAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICAgIHRoaXMuYWRkRm9ybWF0KGZvcm1hdCwgdmFsaWRhdG9yIGFzIEZvcm1hdEZ1bmN0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhZGRUeXBlKG5hbWU6IHN0cmluZywgdmFsaWRhdG9yOiBUeXBlRnVuY3Rpb24sIG92ZXJ3cml0ZSA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMudHlwZXNbbmFtZV0gJiYgIW92ZXJ3cml0ZSkge1xuICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihgVHlwZSBcIiR7bmFtZX1cIiBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICB0aGlzLnR5cGVzW25hbWVdID0gdmFsaWRhdG9yO1xuICB9XG5cbiAgZ2V0VHlwZSh0eXBlOiBzdHJpbmcpOiBUeXBlRnVuY3Rpb24gfCBmYWxzZSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZXNbdHlwZV07XG4gIH1cblxuICBhZGRGb3JtYXQobmFtZTogc3RyaW5nLCB2YWxpZGF0b3I6IEZvcm1hdEZ1bmN0aW9uLCBvdmVyd3JpdGUgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLmZvcm1hdHNbbmFtZV0gJiYgIW92ZXJ3cml0ZSkge1xuICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihgRm9ybWF0IFwiJHtuYW1lfVwiIGFscmVhZHkgZXhpc3RzYCk7XG4gICAgfVxuICAgIHRoaXMuZm9ybWF0c1tuYW1lXSA9IHZhbGlkYXRvcjtcbiAgfVxuXG4gIGdldEZvcm1hdChmb3JtYXQ6IHN0cmluZyk6IEZvcm1hdEZ1bmN0aW9uIHwgZmFsc2Uge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdHNbZm9ybWF0XTtcbiAgfVxuXG4gIGFkZEtleXdvcmQobmFtZTogc3RyaW5nLCB2YWxpZGF0b3I6IEtleXdvcmRGdW5jdGlvbiwgb3ZlcndyaXRlID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy5rZXl3b3Jkc1tuYW1lXSAmJiAhb3ZlcndyaXRlKSB7XG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGBLZXl3b3JkIFwiJHtuYW1lfVwiIGFscmVhZHkgZXhpc3RzYCk7XG4gICAgfVxuICAgIHRoaXMua2V5d29yZHNbbmFtZV0gPSB2YWxpZGF0b3I7XG4gIH1cblxuICBnZXRLZXl3b3JkKGtleXdvcmQ6IHN0cmluZyk6IEtleXdvcmRGdW5jdGlvbiB8IGZhbHNlIHtcbiAgICByZXR1cm4gdGhpcy5rZXl3b3Jkc1trZXl3b3JkXTtcbiAgfVxuXG4gIGNvbXBpbGUoc2NoZW1hOiBhbnkpOiBWYWxpZGF0b3Ige1xuICAgIGNvbnN0IGNvbXBpbGVkU2NoZW1hID0gdGhpcy5jb21waWxlU2NoZW1hKHNjaGVtYSk7XG4gICAgaWYgKCFjb21waWxlZFNjaGVtYS4kdmFsaWRhdGUpIHtcbiAgICAgIGlmICh0aGlzLmlzU2NoZW1hTGlrZShzY2hlbWEpID09PSBmYWxzZSkge1xuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFwiSW52YWxpZCBzY2hlbWFcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbXBpbGVkU2NoZW1hLiR2YWxpZGF0ZSA9IGdldE5hbWVkRnVuY3Rpb248VmFsaWRhdGVGdW5jdGlvbj4oXG4gICAgICAgIFwiYW55XCIsXG4gICAgICAgICgpID0+IHt9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbGlkYXRlOiBWYWxpZGF0b3IgPSAoZGF0YTogYW55KSA9PiB7XG4gICAgICBjb25zdCBjbG9uZWREYXRhID0gdGhpcy5pbW11dGFibGUgPyBkZWVwQ2xvbmUoZGF0YSkgOiBkYXRhO1xuICAgICAgY29uc3QgZXJyb3IgPSBjb21waWxlZFNjaGVtYS4kdmFsaWRhdGUoY2xvbmVkRGF0YSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IGNsb25lZERhdGEsXG4gICAgICAgIGVycm9yOiBlcnJvciA/IGVycm9yIDogbnVsbCxcbiAgICAgICAgdmFsaWQ6ICFlcnJvclxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdGUuY29tcGlsZWRTY2hlbWEgPSBjb21waWxlZFNjaGVtYTtcblxuICAgIHJldHVybiB2YWxpZGF0ZTtcbiAgfVxuXG4gIHByaXZhdGUgY29tcGlsZVNjaGVtYShzY2hlbWE6IFBhcnRpYWw8Q29tcGlsZWRTY2hlbWE+IHwgYW55KTogQ29tcGlsZWRTY2hlbWEge1xuICAgIGlmICghaXNPYmplY3Qoc2NoZW1hKSkge1xuICAgICAgaWYgKHNjaGVtYSA9PT0gdHJ1ZSkge1xuICAgICAgICBzY2hlbWEgPSB7XG4gICAgICAgICAgYW55T2Y6IFt7fV1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoc2NoZW1hID09PSBmYWxzZSkge1xuICAgICAgICBzY2hlbWEgPSB7XG4gICAgICAgICAgb25lT2Y6IFtdXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY2hlbWEgPSB7XG4gICAgICAgICAgb25lT2Y6IFtzY2hlbWFdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY29tcGlsZWRTY2hlbWE6IENvbXBpbGVkU2NoZW1hID0geyAuLi5zY2hlbWEgfSBhcyBDb21waWxlZFNjaGVtYTtcbiAgICBjb25zdCBkZWZpbmVUeXBlRXJyb3IgPSBnZXREZWZpbmVkRXJyb3JGdW5jdGlvbkZvcktleShcInR5cGVcIiwgc2NoZW1hKTtcbiAgICBjb25zdCB0eXBlVmFsaWRhdGlvbnM6IFR5cGVGdW5jdGlvbltdID0gW107XG5cbiAgICBsZXQgbWV0aG9kTmFtZSA9IFwiXCI7XG5cbiAgICBpZiAoXCJ0eXBlXCIgaW4gc2NoZW1hKSB7XG4gICAgICBjb25zdCB0eXBlcyA9IEFycmF5LmlzQXJyYXkoc2NoZW1hLnR5cGUpXG4gICAgICAgID8gc2NoZW1hLnR5cGVcbiAgICAgICAgOiBzY2hlbWEudHlwZS5zcGxpdChcIixcIikubWFwKCh0KSA9PiB0LnRyaW0oKSk7XG5cbiAgICAgIGZvciAoY29uc3QgdHlwZSBvZiB0eXBlcykge1xuICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLmdldFR5cGUodHlwZSk7XG4gICAgICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgICAgICB0eXBlVmFsaWRhdGlvbnMucHVzaCh2YWxpZGF0b3IpO1xuICAgICAgICAgIG1ldGhvZE5hbWUgKz0gKG1ldGhvZE5hbWUgPyBcIl9PUl9cIiA6IFwiXCIpICsgdmFsaWRhdG9yLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgdHlwZVZhbGlkYXRpb25zTGVuZ3RoID0gdHlwZVZhbGlkYXRpb25zLmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVWYWxpZGF0aW9uc0xlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBkZWZpbmVUeXBlRXJyb3IoXCJJbnZhbGlkIHR5cGUgZm9yIHNjaGVtYVwiLCB7IGRhdGE6IHNjaGVtYS50eXBlIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZVZhbGlkYXRpb25zTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHR5cGVWYWxpZGF0aW9uID0gdHlwZVZhbGlkYXRpb25zWzBdO1xuICAgICAgICBjb21waWxlZFNjaGVtYS4kdmFsaWRhdGUgPSBnZXROYW1lZEZ1bmN0aW9uPFZhbGlkYXRlRnVuY3Rpb24+KFxuICAgICAgICAgIG1ldGhvZE5hbWUsXG4gICAgICAgICAgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlVmFsaWRhdGlvbihkYXRhKSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lVHlwZUVycm9yKFwiSW52YWxpZCB0eXBlXCIsIHsgZGF0YSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVWYWxpZGF0aW9uc0xlbmd0aCA+IDEpIHtcbiAgICAgICAgY29tcGlsZWRTY2hlbWEuJHZhbGlkYXRlID0gZ2V0TmFtZWRGdW5jdGlvbjxWYWxpZGF0ZUZ1bmN0aW9uPihcbiAgICAgICAgICBtZXRob2ROYW1lLFxuICAgICAgICAgIChkYXRhKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVWYWxpZGF0aW9uc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlVmFsaWRhdGlvbnNbaV0oZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWZpbmVUeXBlRXJyb3IoXCJJbnZhbGlkIHR5cGVcIiwgeyBkYXRhIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhzY2hlbWEpKSB7XG4gICAgICBpZiAoa2V5ID09PSBcInR5cGVcIikge1xuICAgICAgICBjb21waWxlZFNjaGVtYS50eXBlID0gc2NoZW1hLnR5cGU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXl3b3JkVmFsaWRhdG9yID0gdGhpcy5nZXRLZXl3b3JkKGtleSk7XG4gICAgICBpZiAoa2V5d29yZFZhbGlkYXRvcikge1xuICAgICAgICBjb25zdCBkZWZpbmVFcnJvciA9IGdldERlZmluZWRFcnJvckZ1bmN0aW9uRm9yS2V5KGtleSwgc2NoZW1hW2tleV0pO1xuICAgICAgICBjb25zdCBleGVjdXRlS2V5d29yZFZhbGlkYXRvciA9IChkYXRhOiBhbnkpID0+XG4gICAgICAgICAgKGtleXdvcmRWYWxpZGF0b3IgYXMgS2V5d29yZEZ1bmN0aW9uKShcbiAgICAgICAgICAgIGNvbXBpbGVkU2NoZW1hLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGRlZmluZUVycm9yLFxuICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICk7XG5cbiAgICAgICAgaWYgKGNvbXBpbGVkU2NoZW1hLiR2YWxpZGF0ZSkge1xuICAgICAgICAgIGNvbnN0IHByZXZWYWxpZGF0b3IgPSBjb21waWxlZFNjaGVtYS4kdmFsaWRhdGU7XG4gICAgICAgICAgbWV0aG9kTmFtZSArPSBgX0FORF8ke2tleXdvcmRWYWxpZGF0b3IubmFtZX1gO1xuICAgICAgICAgIGNvbXBpbGVkU2NoZW1hLiR2YWxpZGF0ZSA9IGdldE5hbWVkRnVuY3Rpb248VmFsaWRhdGVGdW5jdGlvbj4oXG4gICAgICAgICAgICBtZXRob2ROYW1lLFxuICAgICAgICAgICAgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBwcmV2VmFsaWRhdG9yKGRhdGEpO1xuICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3Qga2V5d29yZEVycm9yID0gZXhlY3V0ZUtleXdvcmRWYWxpZGF0b3IoZGF0YSk7XG4gICAgICAgICAgICAgIGlmIChrZXl3b3JkRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5d29yZEVycm9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZXRob2ROYW1lID0ga2V5d29yZFZhbGlkYXRvci5uYW1lO1xuICAgICAgICAgIGNvbXBpbGVkU2NoZW1hLiR2YWxpZGF0ZSA9IGdldE5hbWVkRnVuY3Rpb248VmFsaWRhdGVGdW5jdGlvbj4oXG4gICAgICAgICAgICBtZXRob2ROYW1lLFxuICAgICAgICAgICAgZXhlY3V0ZUtleXdvcmRWYWxpZGF0b3JcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc09iamVjdChzY2hlbWFba2V5XSkpIHtcbiAgICAgICAgY29tcGlsZWRTY2hlbWFba2V5XSA9IHRoaXMuY29tcGlsZVNjaGVtYShzY2hlbWFba2V5XSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWFba2V5XSkpIHtcbiAgICAgICAgY29tcGlsZWRTY2hlbWFba2V5XSA9IHNjaGVtYVtrZXldLm1hcCgoc3ViU2NoZW1hLCBpbmRleCkgPT5cbiAgICAgICAgICB0aGlzLmlzU2NoZW1hTGlrZShzdWJTY2hlbWEpXG4gICAgICAgICAgICA/IHRoaXMuY29tcGlsZVNjaGVtYShzdWJTY2hlbWEpXG4gICAgICAgICAgICA6IHN1YlNjaGVtYVxuICAgICAgICApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29tcGlsZWRTY2hlbWFba2V5XSA9IHNjaGVtYVtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBjb21waWxlZFNjaGVtYSBhcyBDb21waWxlZFNjaGVtYTtcbiAgfVxuXG4gIGlzU2NoZW1hTGlrZShzdWJTY2hlbWE6IGFueSk6IGJvb2xlYW4ge1xuICAgIGlmIChpc09iamVjdChzdWJTY2hlbWEpKSB7XG4gICAgICBpZiAoXCJ0eXBlXCIgaW4gc3ViU2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBzdWJLZXkgaW4gc3ViU2NoZW1hKSB7XG4gICAgICAgIGlmIChzdWJLZXkgaW4gdGhpcy5rZXl3b3Jkcykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxu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