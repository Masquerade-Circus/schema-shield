//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlX2lzX215X2lwX3ZhbGlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlSXB2NEZpcnN0UGFzcyIsInJlU3VibmV0U3RyaW5nIiwicmVGb3J3YXJkU2xhc2giLCJyZVpvbmUiLCJyZUJhZENoYXJhY3RlcnMiLCJyZUJhZEFkZHJlc3MiLCJWYWxpZGF0aW9uRXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJpdGVtIiwia2V5d29yZCIsImNhdXNlIiwicGF0aCIsImRhdGEiLCJzY2hlbWEiLCJfZ2V0Q2F1c2UiLCJwb2ludGVyIiwidGhpcyIsImdldENhdXNlIiwiZ2V0RGVmaW5lZEVycm9yRnVuY3Rpb25Gb3JLZXkiLCJrZXkiLCJLZXl3b3JkRXJyb3IiLCJnZXROYW1lZEZ1bmN0aW9uIiwib3B0aW9ucyIsImRlZXBFcXVhbCIsIm9iaiIsIm90aGVyIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiaSIsImtleXMiLCJPYmplY3QiLCJpc09iamVjdCIsImRlZXBDbG9uZSIsInJlc3VsdCIsImNvbnN0cnVjdG9yIiwibmFtZSIsImlzQ29tcGlsZWRTY2hlbWEiLCJzdWJTY2hlbWEiLCJmbiIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJpbXBvcnRfaXNfbXlfaXBfdmFsaWQiLCJfX3RvRVNNIiwiUmVnRXhwcyIsInRpbWUiLCJ1cmkiLCJob3N0bmFtZSIsImRhdGUiLCJkYXlzSW5Nb250aCIsIkZvcm1hdHMiLCJtYXRjaCIsImRheSIsIk51bWJlciIsInllYXJTdHIiLCJtb250aFN0ciIsImhvdXJTdHIiLCJtaW51dGVTdHIiLCJzZWNvbmRTdHIiLCJ0aW1lem9uZVNpZ24iLCJ0aW1lem9uZUhvdXJTdHIiLCJ0aW1lem9uZU1pbnV0ZVN0ciIsInllYXIiLCJtb250aCIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJ0aW1lem9uZUhvdXIiLCJ0aW1lem9uZU1pbnV0ZSIsInRlc3QiLCJlbWFpbCIsImlwdjQiLCJpc015SXBWYWxpZCIsInZlcnNpb24iLCJpcHY2IiwiaXNOYU4iLCJEYXRlIiwiZ2V0VGltZSIsInJlZ2V4IiwiUmVnRXhwIiwiZSIsImR1cmF0aW9uIiwidXVpZCIsImlyaSIsIlR5cGVzIiwib2JqZWN0IiwiYXJyYXkiLCJzdHJpbmciLCJudW1iZXIiLCJpbnRlZ2VyIiwiYm9vbGVhbiIsIm51bGwiLCJ0aW1lc3RhbXAiLCJpbnQ4IiwidW5pdDgiLCJpbnQxNiIsInVuaXQxNiIsImludDMyIiwidW5pdDMyIiwiZmxvYXQzMiIsImZsb2F0NjQiLCJrZXl3b3JkcyIsInJlcXVpcmVkIiwiZGVmaW5lRXJyb3IiLCJoYXNPd25Qcm9wZXJ0eSIsInByb3BlcnRpZXMiLCJlcnJvciIsIiR2YWxpZGF0ZSIsInNjaGVtYVByb3AiLCJkZWZhdWx0IiwidmFsdWVzIiwibWF4UHJvcGVydGllcyIsIm1pblByb3BlcnRpZXMiLCJhZGRpdGlvbmFsUHJvcGVydGllcyIsImlzQ29tcGlsZWQiLCJwYXR0ZXJuUHJvcGVydGllcyIsInBhdHRlcm4iLCJwYXR0ZXJucyIsInByb3BlcnR5TmFtZXMiLCJkZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmN5IiwidGhlbiIsImVsc2UiLCIkcmVmIiwiZGVmaW5pdGlvbnMiLCIkaWQiLCIkc2NoZW1hIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIiRjb21tZW50IiwiZXhhbXBsZXMiLCJjb250ZW50TWVkaWFUeXBlIiwiY29udGVudEVuY29kaW5nIiwiZGlzY3JpbWluYXRvciIsIm51bGxhYmxlIiwiaXRlbXMiLCJzY2hlbWFJdGVtcyIsImRhdGFMZW5ndGgiLCJzY2hlbWFJdGVtc0xlbmd0aCIsIml0ZW1zTGVuZ3RoIiwiTWF0aCIsIm1pbiIsInNjaGVtYUl0ZW0iLCJlbGVtZW50cyIsIm1pbkl0ZW1zIiwibWF4SXRlbXMiLCJhZGRpdGlvbmFsSXRlbXMiLCJ1bmlxdWVJdGVtcyIsInVuaXF1ZSIsIlNldCIsIml0ZW1TdHIiLCJKU09OIiwic3RyaW5naWZ5IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwic29ydCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsIlN0cmluZyIsImhhcyIsImFkZCIsImNvbnRhaW5zIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwicGF0dGVyblJlZ2V4cCIsImZvcm1hdCIsImluc3RhbmNlIiwiZm9ybWF0VmFsaWRhdGUiLCJnZXRGb3JtYXQiLCJtaW5pbXVtIiwiZXhjbHVzaXZlTWluaW11bSIsIm1heGltdW0iLCJtYXgiLCJleGNsdXNpdmVNYXhpbXVtIiwibXVsdGlwbGVPZiIsInF1b3RpZW50IiwiaXNGaW5pdGUiLCJlcHNpbG9uIiwiYWJzIiwiYXJlQ2xvc2VFbm91Z2giLCJyb3VuZCIsImVudW0iLCJlbnVtSXRlbSIsImFsbE9mIiwiQm9vbGVhbiIsImFueU9mIiwib25lT2YiLCJ2YWxpZENvdW50IiwiY29uc3QiLCJpZiIsIm5vdCIsInR5cGVzIiwiZm9ybWF0cyIsImltbXV0YWJsZSIsInR5cGUiLCJ2YWxpZGF0b3IiLCJhZGRUeXBlIiwiYWRkS2V5d29yZCIsImFkZEZvcm1hdCIsIm92ZXJ3cml0ZSIsImdldFR5cGUiLCJnZXRLZXl3b3JkIiwiY29tcGlsZSIsImNvbXBpbGVkU2NoZW1hIiwiY29tcGlsZVNjaGVtYSIsImlzU2NoZW1hTGlrZSIsInZhbGlkYXRlIiwiY2xvbmVkRGF0YSIsInZhbGlkIiwiZGVmaW5lVHlwZUVycm9yIiwidHlwZVZhbGlkYXRpb25zIiwibWV0aG9kTmFtZSIsInNwbGl0IiwibWFwIiwidCIsInRyaW0iLCJwdXNoIiwidHlwZVZhbGlkYXRpb25zTGVuZ3RoIiwidHlwZVZhbGlkYXRpb24iLCJrZXl3b3JkVmFsaWRhdG9yIiwiZXhlY3V0ZUtleXdvcmRWYWxpZGF0b3IiLCJwcmV2VmFsaWRhdG9yIiwia2V5d29yZEVycm9yIiwiaW5kZXgiLCJzdWJLZXkiXSwic291cmNlcyI6WyIuLi9ub2RlX21vZHVsZXMvaXMtbXktaXAtdmFsaWQvaW5kZXguanMiLCIuLi9saWIvdXRpbHMudHMiLCIuLi9saWIvZm9ybWF0cy50cyIsIi4uL2xpYi90eXBlcy50cyIsIi4uL2xpYi9rZXl3b3Jkcy50cyIsIi4uL2xpYi9rZXl3b3Jkcy9vYmplY3Qta2V5d29yZHMudHMiLCIuLi9saWIva2V5d29yZHMvYXJyYXkta2V5d29yZHMudHMiLCIuLi9saWIva2V5d29yZHMvc3RyaW5nLWtleXdvcmRzLnRzIiwiLi4vbGliL2tleXdvcmRzL251bWJlci1rZXl3b3Jkcy50cyIsIi4uL2xpYi9rZXl3b3Jkcy9vdGhlci1rZXl3b3Jkcy50cyIsIi4uL2xpYi9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVJcHY0Rmlyc3RQYXNzID0gL15cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfSQvXG5cbnZhciByZVN1Ym5ldFN0cmluZyA9IC9cXC9cXGR7MSwzfSg/PSV8JCkvXG52YXIgcmVGb3J3YXJkU2xhc2ggPSAvXFwvL1xudmFyIHJlWm9uZSA9IC8lLiokL1xudmFyIHJlQmFkQ2hhcmFjdGVycyA9IC8oW14wLTlhLWY6LyVdKS9pXG52YXIgcmVCYWRBZGRyZXNzID0gLyhbMC05YS1mXXs1LH18OnszLH18W146XTokfF46W146XXxcXC8kKS9pXG5cbmZ1bmN0aW9uIHZhbGlkYXRlNCAoaW5wdXQpIHtcbiAgaWYgKCEocmVJcHY0Rmlyc3RQYXNzLnRlc3QoaW5wdXQpKSkgcmV0dXJuIGZhbHNlXG5cbiAgdmFyIHBhcnRzID0gaW5wdXQuc3BsaXQoJy4nKVxuXG4gIGlmIChwYXJ0cy5sZW5ndGggIT09IDQpIHJldHVybiBmYWxzZVxuXG4gIGlmIChwYXJ0c1swXVswXSA9PT0gJzAnICYmIHBhcnRzWzBdLmxlbmd0aCA+IDEpIHJldHVybiBmYWxzZVxuICBpZiAocGFydHNbMV1bMF0gPT09ICcwJyAmJiBwYXJ0c1sxXS5sZW5ndGggPiAxKSByZXR1cm4gZmFsc2VcbiAgaWYgKHBhcnRzWzJdWzBdID09PSAnMCcgJiYgcGFydHNbMl0ubGVuZ3RoID4gMSkgcmV0dXJuIGZhbHNlXG4gIGlmIChwYXJ0c1szXVswXSA9PT0gJzAnICYmIHBhcnRzWzNdLmxlbmd0aCA+IDEpIHJldHVybiBmYWxzZVxuXG4gIHZhciBuMCA9IE51bWJlcihwYXJ0c1swXSlcbiAgdmFyIG4xID0gTnVtYmVyKHBhcnRzWzFdKVxuICB2YXIgbjIgPSBOdW1iZXIocGFydHNbMl0pXG4gIHZhciBuMyA9IE51bWJlcihwYXJ0c1szXSlcblxuICByZXR1cm4gKG4wID49IDAgJiYgbjAgPCAyNTYgJiYgbjEgPj0gMCAmJiBuMSA8IDI1NiAmJiBuMiA+PSAwICYmIG4yIDwgMjU2ICYmIG4zID49IDAgJiYgbjMgPCAyNTYpXG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlNiAoaW5wdXQpIHtcbiAgdmFyIHdpdGhvdXRTdWJuZXQgPSBpbnB1dC5yZXBsYWNlKHJlU3VibmV0U3RyaW5nLCAnJylcbiAgdmFyIGhhc1N1Ym5ldCA9IChpbnB1dC5sZW5ndGggIT09IHdpdGhvdXRTdWJuZXQubGVuZ3RoKVxuXG4gIC8vIEZJWE1FOiB0aGlzIHNob3VsZCBwcm9iYWJseSBiZSBhbiBvcHRpb24gaW4gdGhlIGZ1dHVyZVxuICBpZiAoaGFzU3VibmV0KSByZXR1cm4gZmFsc2VcblxuICBpZiAoIWhhc1N1Ym5ldCkge1xuICAgIGlmIChyZUZvcndhcmRTbGFzaC50ZXN0KGlucHV0KSkgcmV0dXJuIGZhbHNlXG4gIH1cblxuICB2YXIgd2l0aG91dFpvbmUgPSB3aXRob3V0U3VibmV0LnJlcGxhY2UocmVab25lLCAnJylcbiAgdmFyIGxhc3RQYXJ0U2VwYXJhdG9yID0gd2l0aG91dFpvbmUubGFzdEluZGV4T2YoJzonKVxuXG4gIGlmIChsYXN0UGFydFNlcGFyYXRvciA9PT0gLTEpIHJldHVybiBmYWxzZVxuXG4gIHZhciBsYXN0UGFydCA9IHdpdGhvdXRab25lLnN1YnN0cmluZyhsYXN0UGFydFNlcGFyYXRvciArIDEpXG4gIHZhciBoYXNWNFBhcnQgPSB2YWxpZGF0ZTQobGFzdFBhcnQpXG4gIHZhciBhZGRyZXNzID0gKGhhc1Y0UGFydCA/IHdpdGhvdXRab25lLnN1YnN0cmluZygwLCBsYXN0UGFydFNlcGFyYXRvciArIDEpICsgJzEyMzQ6NTY3OCcgOiB3aXRob3V0Wm9uZSlcblxuICBpZiAocmVCYWRDaGFyYWN0ZXJzLnRlc3QoYWRkcmVzcykpIHJldHVybiBmYWxzZVxuICBpZiAocmVCYWRBZGRyZXNzLnRlc3QoYWRkcmVzcykpIHJldHVybiBmYWxzZVxuXG4gIHZhciBoYWx2ZXMgPSBhZGRyZXNzLnNwbGl0KCc6OicpXG5cbiAgaWYgKGhhbHZlcy5sZW5ndGggPiAyKSByZXR1cm4gZmFsc2VcblxuICBpZiAoaGFsdmVzLmxlbmd0aCA9PT0gMikge1xuICAgIHZhciBmaXJzdCA9IChoYWx2ZXNbMF0gPT09ICcnID8gW10gOiBoYWx2ZXNbMF0uc3BsaXQoJzonKSlcbiAgICB2YXIgbGFzdCA9IChoYWx2ZXNbMV0gPT09ICcnID8gW10gOiBoYWx2ZXNbMV0uc3BsaXQoJzonKSlcbiAgICB2YXIgcmVtYWluaW5nTGVuZ3RoID0gOCAtIChmaXJzdC5sZW5ndGggKyBsYXN0Lmxlbmd0aClcblxuICAgIGlmIChyZW1haW5pbmdMZW5ndGggPD0gMCkgcmV0dXJuIGZhbHNlXG4gIH0gZWxzZSB7XG4gICAgaWYgKGFkZHJlc3Muc3BsaXQoJzonKS5sZW5ndGggIT09IDgpIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGUgKGlucHV0KSB7XG4gIHJldHVybiB2YWxpZGF0ZTQoaW5wdXQpIHx8IHZhbGlkYXRlNihpbnB1dClcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB2YWxpZGF0b3IgKG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge31cblxuICBpZiAob3B0aW9ucy52ZXJzaW9uID09PSA0KSByZXR1cm4gdmFsaWRhdGU0XG4gIGlmIChvcHRpb25zLnZlcnNpb24gPT09IDYpIHJldHVybiB2YWxpZGF0ZTZcbiAgaWYgKG9wdGlvbnMudmVyc2lvbiA9PSBudWxsKSByZXR1cm4gdmFsaWRhdGVcblxuICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdmVyc2lvbjogJyArIG9wdGlvbnMudmVyc2lvbilcbn1cblxubW9kdWxlLmV4cG9ydHNbJ19fYWxsX3JlZ2V4ZXNfXyddID0gW1xuICByZUlwdjRGaXJzdFBhc3MsXG4gIHJlU3VibmV0U3RyaW5nLFxuICByZUZvcndhcmRTbGFzaCxcbiAgcmVab25lLFxuICByZUJhZENoYXJhY3RlcnMsXG4gIHJlQmFkQWRkcmVzc1xuXVxuIiwiaW1wb3J0IHsgQ29tcGlsZWRTY2hlbWEgfSBmcm9tIFwiLi9pbmRleFwiO1xuXG5leHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGl0ZW06IHN0cmluZyB8IG51bWJlcjtcbiAga2V5d29yZDogc3RyaW5nO1xuICBjYXVzZTogVmFsaWRhdGlvbkVycm9yO1xuICBwYXRoOiBzdHJpbmcgPSBcIlwiO1xuICBkYXRhPzogYW55O1xuICBzY2hlbWE/OiBDb21waWxlZFNjaGVtYTtcblxuICBwcml2YXRlIF9nZXRDYXVzZShwb2ludGVyID0gXCIjXCIpIHtcbiAgICBjb25zdCBwYXRoID1cbiAgICAgIHBvaW50ZXIgK1xuICAgICAgXCIvXCIgK1xuICAgICAgdGhpcy5rZXl3b3JkICtcbiAgICAgICh0eXBlb2YgdGhpcy5pdGVtICE9PSBcInVuZGVmaW5lZFwiID8gXCIvXCIgKyB0aGlzLml0ZW0gOiBcIlwiKTtcblxuICAgIGlmICghdGhpcy5jYXVzZSkge1xuICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNhdXNlLl9nZXRDYXVzZShwYXRoKTtcbiAgfVxuXG4gIGdldENhdXNlKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRDYXVzZSgpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmaW5lRXJyb3JPcHRpb25zIHtcbiAgaXRlbT86IGFueTsgLy8gRmluYWwgaXRlbSBpbiB0aGUgcGF0aFxuICBjYXVzZT86IFZhbGlkYXRpb25FcnJvcjsgLy8gQ2F1c2Ugb2YgdGhlIGVycm9yXG4gIGRhdGE/OiBhbnk7IC8vIERhdGEgdGhhdCBjYXVzZWQgdGhlIGVycm9yXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmaW5lRXJyb3JGdW5jdGlvbiB7XG4gIChtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnM/OiBEZWZpbmVFcnJvck9wdGlvbnMpOiBWYWxpZGF0aW9uRXJyb3I7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZpbmVkRXJyb3JGdW5jdGlvbkZvcktleShcbiAga2V5OiBzdHJpbmcsXG4gIHNjaGVtYTogQ29tcGlsZWRTY2hlbWFcbikge1xuICBjb25zdCBLZXl3b3JkRXJyb3IgPSBuZXcgVmFsaWRhdGlvbkVycm9yKGBJbnZhbGlkICR7a2V5fWApO1xuICBLZXl3b3JkRXJyb3Iua2V5d29yZCA9IGtleTtcbiAgS2V5d29yZEVycm9yLnNjaGVtYSA9IHNjaGVtYTtcblxuICBjb25zdCBkZWZpbmVFcnJvcjogRGVmaW5lRXJyb3JGdW5jdGlvbiA9IChtZXNzYWdlLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBLZXl3b3JkRXJyb3IubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgS2V5d29yZEVycm9yLml0ZW0gPSBvcHRpb25zLml0ZW07XG4gICAgS2V5d29yZEVycm9yLmNhdXNlID0gb3B0aW9ucy5jYXVzZTtcbiAgICBLZXl3b3JkRXJyb3IuZGF0YSA9IG9wdGlvbnMuZGF0YTtcbiAgICByZXR1cm4gS2V5d29yZEVycm9yO1xuICB9O1xuXG4gIHJldHVybiBnZXROYW1lZEZ1bmN0aW9uPERlZmluZUVycm9yRnVuY3Rpb24+KFxuICAgIGBkZWZpbmVFcnJvcl8ke2tleX1gLFxuICAgIGRlZmluZUVycm9yXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXF1YWwoXG4gIG9iajogQXJyYXk8YW55PiB8IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gIG90aGVyOiBBcnJheTxhbnk+IHwgUmVjb3JkPHN0cmluZywgYW55PlxuKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikgJiYgQXJyYXkuaXNBcnJheShvdGhlcikpIHtcbiAgICBpZiAob2JqLmxlbmd0aCAhPT0gb3RoZXIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghZGVlcEVxdWFsKG9ialtpXSwgb3RoZXJbaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvdGhlciA9PT0gXCJvYmplY3RcIikge1xuICAgIGlmIChvYmogPT09IG51bGwgfHwgb3RoZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBvYmogPT09IG90aGVyO1xuICAgIH1cblxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIGlmIChrZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMob3RoZXIpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgIGlmICghZGVlcEVxdWFsKG9ialtrZXldLCBvdGhlcltrZXldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gb2JqID09PSBvdGhlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KGRhdGEpIHtcbiAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmIGRhdGEgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVDbG9zZUVub3VnaChhLCBiLCBlcHNpbG9uID0gMWUtMTUpIHtcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBlcHNpbG9uICogTWF0aC5tYXgoTWF0aC5hYnMoYSksIE1hdGguYWJzKGIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVURjE2TGVuZ3RoKHN0cikge1xuICBsZXQgbGVuZ3RoID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjb2RlUG9pbnQgPSBzdHIuY29kZVBvaW50QXQoaSk7XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4ZmZmZikge1xuICAgICAgaSsrO1xuICAgIH1cbiAgICBsZW5ndGgrKztcbiAgfVxuICByZXR1cm4gbGVuZ3RoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lKG9iajogYW55KTogYW55IHtcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRbaV0gPSBkZWVwQ2xvbmUob2JqW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIElzIGNsYXNzIGluc3RhbmNlIG9mIGFueSBraW5kXG4gIGlmIChvYmogJiYgb2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5uYW1lICE9PSBcIk9iamVjdFwiKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGlmIChpc09iamVjdChvYmopKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgLi4ub2JqXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVlcENsb25lKG9ialtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbXBpbGVkU2NoZW1hKHN1YlNjaGVtYTogYW55KTogc3ViU2NoZW1hIGlzIENvbXBpbGVkU2NoZW1hIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHN1YlNjaGVtYSkgJiYgXCIkdmFsaWRhdGVcIiBpbiBzdWJTY2hlbWE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROYW1lZEZ1bmN0aW9uPFQ+KG5hbWU6IHN0cmluZywgZm46IFQpOiBUIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSk7XG59XG4iLCJpbXBvcnQgeyBGb3JtYXRGdW5jdGlvbiB9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IGlzTXlJcFZhbGlkIGZyb20gXCJpcy1teS1pcC12YWxpZFwiO1xuXG4vLyBUaGUgZGF0ZXRpbWUgMTk5MC0wMi0zMVQxNTo1OTo2MC4xMjMtMDg6MDAgbXVzdCBiZSByZWplY3RlZC5cbmNvbnN0IFJlZ0V4cHMgPSB7XG4gIHRpbWU6IC9eKFxcZHsyfSk6KFxcZHsyfSk6KFxcZHsyfSkoXFwuXFxkKyk/KFp8KFsrLV0pKFxcZHsyfSk6KFxcZHsyfSkpJC8sXG4gIHVyaTogL15bYS16QS1aXVthLXpBLVowLTkrXFwtLl0qOlteXFxzXSokLyxcbiAgaG9zdG5hbWU6XG4gICAgL15bYS16QS1aMC05XVthLXpBLVowLTktXXswLDYyfShcXC5bYS16QS1aMC05XVthLXpBLVowLTktXXswLDYyfSkqW2EtekEtWjAtOV0kLyxcbiAgZGF0ZTogL14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KSQvLFxuICBcImpzb24tcG9pbnRlclwiOiAvXlxcLyg/Oltefl18fjB8fjEpKiQvLFxuICBcInJlbGF0aXZlLWpzb24tcG9pbnRlclwiOiAvXihbMC05XSspKCN8XFwvKD86W15+XXx+MHx+MSkqKT8kL1xufTtcblxuY29uc3QgZGF5c0luTW9udGggPSBbMzEsICwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdO1xuXG5leHBvcnQgY29uc3QgRm9ybWF0czogUmVjb3JkPHN0cmluZywgRm9ybWF0RnVuY3Rpb24gfCBmYWxzZT4gPSB7XG4gIFtcImRhdGUtdGltZVwiXShkYXRhKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBkYXRhLm1hdGNoKFxuICAgICAgL14oXFxkezR9KS0oMFswLTldfDFbMC0yXSktKFxcZHsyfSlUKDBbMC05XXwxXFxkfDJbMC0zXSk6KFswLTVdXFxkKTooKD86WzAtNV1cXGR8NjApKSg/Oi5cXGQrKT8oPzooWystXSkoMFswLTldfDFcXGR8MlswLTNdKTooWzAtNV1cXGQpfFopPyQvaVxuICAgICk7XG5cbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IGRheSA9IE51bWJlcihtYXRjaFszXSk7XG5cbiAgICBpZiAobWF0Y2hbMl0gPT09IFwiMDJcIiAmJiBkYXkgPiAyOSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IFtcbiAgICAgICxcbiAgICAgIHllYXJTdHIsXG4gICAgICBtb250aFN0cixcbiAgICAgICxcbiAgICAgIGhvdXJTdHIsXG4gICAgICBtaW51dGVTdHIsXG4gICAgICBzZWNvbmRTdHIsXG4gICAgICB0aW1lem9uZVNpZ24sXG4gICAgICB0aW1lem9uZUhvdXJTdHIsXG4gICAgICB0aW1lem9uZU1pbnV0ZVN0clxuICAgIF0gPSBtYXRjaDtcblxuICAgIGxldCB5ZWFyID0gTnVtYmVyKHllYXJTdHIpO1xuICAgIGxldCBtb250aCA9IE51bWJlcihtb250aFN0cik7XG4gICAgbGV0IGhvdXIgPSBOdW1iZXIoaG91clN0cik7XG4gICAgbGV0IG1pbnV0ZSA9IE51bWJlcihtaW51dGVTdHIpO1xuICAgIGxldCBzZWNvbmQgPSBOdW1iZXIoc2Vjb25kU3RyKTtcblxuICAgIGlmICh0aW1lem9uZVNpZ24gPT09IFwiLVwiIHx8IHRpbWV6b25lU2lnbiA9PT0gXCIrXCIpIHtcbiAgICAgIGNvbnN0IHRpbWV6b25lSG91ciA9IE51bWJlcih0aW1lem9uZUhvdXJTdHIpO1xuICAgICAgY29uc3QgdGltZXpvbmVNaW51dGUgPSBOdW1iZXIodGltZXpvbmVNaW51dGVTdHIpO1xuXG4gICAgICBpZiAodGltZXpvbmVTaWduID09PSBcIi1cIikge1xuICAgICAgICBob3VyICs9IHRpbWV6b25lSG91cjtcbiAgICAgICAgbWludXRlICs9IHRpbWV6b25lTWludXRlO1xuICAgICAgfSBlbHNlIGlmICh0aW1lem9uZVNpZ24gPT09IFwiK1wiKSB7XG4gICAgICAgIGhvdXIgLT0gdGltZXpvbmVIb3VyO1xuICAgICAgICBtaW51dGUgLT0gdGltZXpvbmVNaW51dGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtaW51dGUgPiA1OSkge1xuICAgICAgICBob3VyICs9IDE7XG4gICAgICAgIG1pbnV0ZSAtPSA2MDtcbiAgICAgIH0gZWxzZSBpZiAobWludXRlIDwgMCkge1xuICAgICAgICBob3VyIC09IDE7XG4gICAgICAgIG1pbnV0ZSArPSA2MDtcbiAgICAgIH1cblxuICAgICAgaWYgKGhvdXIgPiAyMykge1xuICAgICAgICBkYXkgKz0gMTtcbiAgICAgICAgaG91ciAtPSAyNDtcbiAgICAgIH0gZWxzZSBpZiAoaG91ciA8IDApIHtcbiAgICAgICAgZGF5IC09IDE7XG4gICAgICAgIGhvdXIgKz0gMjQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXkgPiAzMSkge1xuICAgICAgICBtb250aCArPSAxO1xuICAgICAgICBkYXkgLT0gMzE7XG4gICAgICB9IGVsc2UgaWYgKGRheSA8IDEpIHtcbiAgICAgICAgbW9udGggLT0gMTtcbiAgICAgICAgZGF5ICs9IDMxO1xuICAgICAgfVxuXG4gICAgICBpZiAobW9udGggPiAxMikge1xuICAgICAgICB5ZWFyICs9IDE7XG4gICAgICAgIG1vbnRoIC09IDEyO1xuICAgICAgfSBlbHNlIGlmIChtb250aCA8IDEpIHtcbiAgICAgICAgeWVhciAtPSAxO1xuICAgICAgICBtb250aCArPSAxMjtcbiAgICAgIH1cblxuICAgICAgaWYgKHllYXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtYXhEYXlzID1cbiAgICAgIG1vbnRoID09PSAyXG4gICAgICAgID8geWVhciAlIDQgPT09IDAgJiYgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMClcbiAgICAgICAgICA/IDI5XG4gICAgICAgICAgOiAyOFxuICAgICAgICA6IGRheXNJbk1vbnRoW21vbnRoIC0gMV07XG5cbiAgICBpZiAoZGF5ID4gbWF4RGF5cykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIExlYXAgc2Vjb25kc1xuICAgIGlmIChzZWNvbmQgPT09IDYwICYmIChtaW51dGUgIT09IDU5IHx8IGhvdXIgIT09IDIzKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICB1cmkoZGF0YSkge1xuICAgIHJldHVybiBSZWdFeHBzLnVyaS50ZXN0KGRhdGEpO1xuICB9LFxuICBlbWFpbChkYXRhKSB7XG4gICAgcmV0dXJuIC9eKD8hXFwuKSg/IS4qXFwuJClbYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV17MSwyMH0oPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV17MSwyMX0pezAsMn1AW2EtejAtOV0oPzpbYS16MC05LV17MCw2MX1bYS16MC05XSk/KD86XFwuW2EtejAtOV0oPzpbYS16MC05LV17MCw2MH1bYS16MC05XSk/KXswLDN9JC9pLnRlc3QoXG4gICAgICBkYXRhXG4gICAgKTtcbiAgfSxcbiAgaXB2NDogaXNNeUlwVmFsaWQoeyB2ZXJzaW9uOiA0IH0pLFxuICBpcHY2OiBpc015SXBWYWxpZCh7IHZlcnNpb246IDYgfSksXG5cbiAgaG9zdG5hbWUoZGF0YSkge1xuICAgIHJldHVybiBSZWdFeHBzLmhvc3RuYW1lLnRlc3QoZGF0YSk7XG4gIH0sXG4gIGRhdGUoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChSZWdFeHBzLmRhdGUudGVzdChkYXRhKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gIWlzTmFOKG5ldyBEYXRlKGRhdGEpLmdldFRpbWUoKSk7XG4gIH0sXG4gIHJlZ2V4KGRhdGEpIHtcbiAgICB0cnkge1xuICAgICAgbmV3IFJlZ0V4cChkYXRhKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIFwianNvbi1wb2ludGVyXCIoZGF0YSkge1xuICAgIGlmIChkYXRhID09PSBcIlwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVnRXhwc1tcImpzb24tcG9pbnRlclwiXS50ZXN0KGRhdGEpO1xuICB9LFxuICBcInJlbGF0aXZlLWpzb24tcG9pbnRlclwiKGRhdGEpIHtcbiAgICBpZiAoZGF0YSA9PT0gXCJcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlZ0V4cHNbXCJyZWxhdGl2ZS1qc29uLXBvaW50ZXJcIl0udGVzdChkYXRhKTtcbiAgfSxcbiAgdGltZShkYXRhKSB7XG4gICAgcmV0dXJuIFJlZ0V4cHMudGltZS50ZXN0KGRhdGEpO1xuICB9LFxuXG4gIC8vIE5vdCBzdXBwb3J0ZWQgeWV0XG4gIGR1cmF0aW9uOiBmYWxzZSxcbiAgXCJpZG4tZW1haWxcIjogZmFsc2UsXG4gIFwiaWRuLWhvc3RuYW1lXCI6IGZhbHNlLFxuICB1dWlkOiBmYWxzZSxcbiAgXCJ1cmktcmVmZXJlbmNlXCI6IGZhbHNlLFxuICBpcmk6IGZhbHNlLFxuICBcImlyaS1yZWZlcmVuY2VcIjogZmFsc2UsXG4gIFwidXJpLXRlbXBsYXRlXCI6IGZhbHNlXG59O1xuIiwiaW1wb3J0IHsgVHlwZUZ1bmN0aW9uIH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IFR5cGVzOiBSZWNvcmQ8c3RyaW5nLCBUeXBlRnVuY3Rpb24gfCBmYWxzZT4gPSB7XG4gIG9iamVjdChkYXRhKSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KGRhdGEpO1xuICB9LFxuICBhcnJheShkYXRhKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgZGF0YSAhPT0gbnVsbCAmJlxuICAgICAgXCJsZW5ndGhcIiBpbiBkYXRhICYmXG4gICAgICBcIjBcIiBpbiBkYXRhICYmXG4gICAgICBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggLSAxID09PSBkYXRhLmxlbmd0aFxuICAgICk7XG4gIH0sXG4gIHN0cmluZyhkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiO1xuICB9LFxuICBudW1iZXIoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJudW1iZXJcIjtcbiAgfSxcbiAgaW50ZWdlcihkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcIm51bWJlclwiICYmIGRhdGEgJSAxID09PSAwO1xuICB9LFxuICBib29sZWFuKGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwiYm9vbGVhblwiO1xuICB9LFxuICBudWxsKGRhdGEpIHtcbiAgICByZXR1cm4gZGF0YSA9PT0gbnVsbDtcbiAgfSxcblxuICAvLyBOb3QgaW1wbGVtZW50ZWQgeWV0XG4gIHRpbWVzdGFtcDogZmFsc2UsXG4gIGludDg6IGZhbHNlLFxuICB1bml0ODogZmFsc2UsXG4gIGludDE2OiBmYWxzZSxcbiAgdW5pdDE2OiBmYWxzZSxcbiAgaW50MzI6IGZhbHNlLFxuICB1bml0MzI6IGZhbHNlLFxuICBmbG9hdDMyOiBmYWxzZSxcbiAgZmxvYXQ2NDogZmFsc2VcblxuXG59O1xuIiwiaW1wb3J0IHsgQXJyYXlLZXl3b3JkcyB9IGZyb20gXCIuL2tleXdvcmRzL2FycmF5LWtleXdvcmRzXCI7XG5pbXBvcnQgeyBLZXl3b3JkRnVuY3Rpb24gfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHsgTnVtYmVyS2V5d29yZHMgfSBmcm9tIFwiLi9rZXl3b3Jkcy9udW1iZXIta2V5d29yZHNcIjtcbmltcG9ydCB7IE9iamVjdEtleXdvcmRzIH0gZnJvbSBcIi4va2V5d29yZHMvb2JqZWN0LWtleXdvcmRzXCI7XG5pbXBvcnQgeyBPdGhlcktleXdvcmRzIH0gZnJvbSBcIi4va2V5d29yZHMvb3RoZXIta2V5d29yZHNcIjtcbmltcG9ydCB7IFN0cmluZ0tleXdvcmRzIH0gZnJvbSBcIi4va2V5d29yZHMvc3RyaW5nLWtleXdvcmRzXCI7XG5cbmV4cG9ydCBjb25zdCBrZXl3b3JkczogUmVjb3JkPHN0cmluZywgS2V5d29yZEZ1bmN0aW9uIHwgZmFsc2U+ID0ge1xuICAuLi5PYmplY3RLZXl3b3JkcyxcbiAgLi4uQXJyYXlLZXl3b3JkcyxcbiAgLi4uU3RyaW5nS2V5d29yZHMsXG4gIC4uLk51bWJlcktleXdvcmRzLFxuICAuLi5PdGhlcktleXdvcmRzXG59O1xuIiwiaW1wb3J0IHsgaXNDb21waWxlZFNjaGVtYSwgaXNPYmplY3QgfSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuaW1wb3J0IHsgS2V5d29yZEZ1bmN0aW9uIH0gZnJvbSBcIi4uL2luZGV4XCI7XG5cbmV4cG9ydCBjb25zdCBPYmplY3RLZXl3b3JkczogUmVjb3JkPHN0cmluZywgS2V5d29yZEZ1bmN0aW9uIHwgZmFsc2U+ID0ge1xuICAvLyBPYmplY3RcbiAgcmVxdWlyZWQoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYS5yZXF1aXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qga2V5ID0gc2NoZW1hLnJlcXVpcmVkW2ldO1xuICAgICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiUmVxdWlyZWQgcHJvcGVydHkgaXMgbWlzc2luZ1wiLCB7XG4gICAgICAgICAgaXRlbToga2V5LFxuICAgICAgICAgIGRhdGE6IGRhdGFba2V5XVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgcHJvcGVydGllcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHNjaGVtYS5wcm9wZXJ0aWVzKSkge1xuICAgICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgY29uc3Qgc2NoZW1hUHJvcCA9IHNjaGVtYS5wcm9wZXJ0aWVzW2tleV07XG4gICAgICAgIGlmIChpc09iamVjdChzY2hlbWFQcm9wKSAmJiBcImRlZmF1bHRcIiBpbiBzY2hlbWFQcm9wKSB7XG4gICAgICAgICAgZGF0YVtrZXldID0gc2NoZW1hUHJvcC5kZWZhdWx0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0gPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIGlmIChzY2hlbWEucHJvcGVydGllc1trZXldID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlByb3BlcnR5IGlzIG5vdCBhbGxvd2VkXCIsIHtcbiAgICAgICAgICAgIGl0ZW06IGtleSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFba2V5XVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoXCIkdmFsaWRhdGVcIiBpbiBzY2hlbWEucHJvcGVydGllc1trZXldKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLnByb3BlcnRpZXNba2V5XS4kdmFsaWRhdGUoZGF0YVtrZXldKTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiUHJvcGVydHkgaXMgaW52YWxpZFwiLCB7XG4gICAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICB2YWx1ZXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkgfHwgIWlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hLnZhbHVlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWEudmFsdWVzLiR2YWxpZGF0ZShkYXRhW2tleV0pO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlByb3BlcnR5IGlzIGludmFsaWRcIiwge1xuICAgICAgICAgIGl0ZW06IGtleSxcbiAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgZGF0YTogZGF0YVtrZXldXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBtYXhQcm9wZXJ0aWVzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpIHx8IE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA8PSBzY2hlbWEubWF4UHJvcGVydGllcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlRvbyBtYW55IHByb3BlcnRpZXNcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIG1pblByb3BlcnRpZXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkgfHwgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID49IHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVG9vIGZldyBwcm9wZXJ0aWVzXCIsIHsgZGF0YSB9KTtcbiAgfSxcblxuICBhZGRpdGlvbmFsUHJvcGVydGllcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcbiAgICBjb25zdCBpc0NvbXBpbGVkID0gaXNDb21waWxlZFNjaGVtYShzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgIGlmIChzY2hlbWEucHJvcGVydGllcyAmJiBzY2hlbWEucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKSB7XG4gICAgICAgIGxldCBtYXRjaCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gaW4gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgaWYgKG5ldyBSZWdFeHAocGF0dGVybiwgXCJ1XCIpLnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgbm90IGFsbG93ZWRcIiwge1xuICAgICAgICAgIGl0ZW06IGtleSxcbiAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0NvbXBpbGVkKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLiR2YWxpZGF0ZShkYXRhW2tleV0pO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBZGRpdGlvbmFsIHByb3BlcnRpZXMgYXJlIGludmFsaWRcIiwge1xuICAgICAgICAgICAgaXRlbToga2V5LFxuICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgZGF0YTogZGF0YVtrZXldXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgcGF0dGVyblByb3BlcnRpZXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXR0ZXJucyA9IE9iamVjdC5rZXlzKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyk7XG4gICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIHBhdHRlcm5zKSB7XG4gICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAocGF0dGVybiwgXCJ1XCIpO1xuICAgICAgaWYgKHR5cGVvZiBzY2hlbWEucGF0dGVyblByb3BlcnRpZXNbcGF0dGVybl0gPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIGlmIChzY2hlbWEucGF0dGVyblByb3BlcnRpZXNbcGF0dGVybl0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJQcm9wZXJ0eSBpcyBub3QgYWxsb3dlZFwiLCB7XG4gICAgICAgICAgICAgICAgaXRlbToga2V5LFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFba2V5XVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgaWYgKHJlZ2V4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgIGlmIChcIiR2YWxpZGF0ZVwiIGluIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWEucGF0dGVyblByb3BlcnRpZXNbcGF0dGVybl0uJHZhbGlkYXRlKFxuICAgICAgICAgICAgICBkYXRhW2tleV1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiUHJvcGVydHkgaXMgaW52YWxpZFwiLCB7XG4gICAgICAgICAgICAgICAgaXRlbToga2V5LFxuICAgICAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIHByb3BlcnR5TmFtZXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEucHJvcGVydHlOYW1lcyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIGlmIChzY2hlbWEucHJvcGVydHlOYW1lcyA9PT0gZmFsc2UgJiYgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJQcm9wZXJ0aWVzIGFyZSBub3QgYWxsb3dlZFwiLCB7IGRhdGEgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS5wcm9wZXJ0eU5hbWVzKSkge1xuICAgICAgZm9yIChsZXQga2V5IGluIGRhdGEpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWEucHJvcGVydHlOYW1lcy4kdmFsaWRhdGUoa2V5KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiUHJvcGVydHkgbmFtZSBpcyBpbnZhbGlkXCIsIHtcbiAgICAgICAgICAgIGl0ZW06IGtleSxcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgIGRhdGE6IGRhdGFba2V5XVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIGRlcGVuZGVuY2llcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYS5kZXBlbmRlbmNpZXMpIHtcbiAgICAgIGlmIChrZXkgaW4gZGF0YSA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlcGVuZGVuY3kgPSBzY2hlbWEuZGVwZW5kZW5jaWVzW2tleV07XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkZXBlbmRlbmN5KSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcGVuZGVuY3kubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoIShkZXBlbmRlbmN5W2ldIGluIGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJEZXBlbmRlbmN5IGlzIG5vdCBzYXRpc2ZpZWRcIiwge1xuICAgICAgICAgICAgICBpdGVtOiBpLFxuICAgICAgICAgICAgICBkYXRhOiBkZXBlbmRlbmN5W2ldXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGRlcGVuZGVuY3kgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIGlmIChkZXBlbmRlbmN5KSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiRGVwZW5kZW5jeSBpcyBub3Qgc2F0aXNmaWVkXCIsIHsgZGF0YTogZGVwZW5kZW5jeSB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBkZXBlbmRlbmN5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChkZXBlbmRlbmN5IGluIGRhdGEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJEZXBlbmRlbmN5IGlzIG5vdCBzYXRpc2ZpZWRcIiwgeyBkYXRhOiBkZXBlbmRlbmN5IH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgZXJyb3IgPSBkZXBlbmRlbmN5LiR2YWxpZGF0ZShkYXRhKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJEZXBlbmRlbmN5IGlzIG5vdCBzYXRpc2ZpZWRcIiwge1xuICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICBkYXRhXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICAvLyBSZXF1aXJlZCBieSBvdGhlciBrZXl3b3JkcyBidXQgbm90IHVzZWQgYXMgYSBmdW5jdGlvbiBpdHNlbGZcbiAgdGhlbjogZmFsc2UsXG4gIGVsc2U6IGZhbHNlLFxuICBkZWZhdWx0OiBmYWxzZSxcblxuICAvLyBOb3QgaW1wbGVtZW50ZWQgeWV0XG4gICRyZWY6IGZhbHNlLFxuICBkZWZpbml0aW9uczogZmFsc2UsXG4gICRpZDogZmFsc2UsXG4gICRzY2hlbWE6IGZhbHNlLFxuXG4gIC8vIE1ldGFkYXRhIGtleXdvcmRzIChub3QgdXNlZCBhcyBhIGZ1bmN0aW9uKVxuICB0aXRsZTogZmFsc2UsXG4gIGRlc2NyaXB0aW9uOiBmYWxzZSxcbiAgJGNvbW1lbnQ6IGZhbHNlLFxuICBleGFtcGxlczogZmFsc2UsXG4gIGNvbnRlbnRNZWRpYVR5cGU6IGZhbHNlLFxuICBjb250ZW50RW5jb2Rpbmc6IGZhbHNlLFxuXG4gIC8vIE5vdCBzdXBwb3J0ZWQgT3BlbiBBUEkga2V5d29yZHNcbiAgZGlzY3JpbWluYXRvcjogZmFsc2UsXG4gIG51bGxhYmxlOiBmYWxzZVxufTtcbiIsImltcG9ydCB7IGlzQ29tcGlsZWRTY2hlbWEsIGlzT2JqZWN0IH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmltcG9ydCB7IEtleXdvcmRGdW5jdGlvbiB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5leHBvcnQgY29uc3QgQXJyYXlLZXl3b3JkczogUmVjb3JkPHN0cmluZywgS2V5d29yZEZ1bmN0aW9uPiA9IHtcbiAgaXRlbXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNjaGVtYUl0ZW1zID0gc2NoZW1hLml0ZW1zO1xuICAgIGNvbnN0IGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDtcblxuICAgIGlmICh0eXBlb2Ygc2NoZW1hSXRlbXMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICBpZiAoc2NoZW1hSXRlbXMgPT09IGZhbHNlICYmIGRhdGFMZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGl0ZW1zIGFyZSBub3QgYWxsb3dlZFwiLCB7IGRhdGEgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWFJdGVtcykpIHtcbiAgICAgIGNvbnN0IHNjaGVtYUl0ZW1zTGVuZ3RoID0gc2NoZW1hSXRlbXMubGVuZ3RoO1xuICAgICAgY29uc3QgaXRlbXNMZW5ndGggPSBNYXRoLm1pbihzY2hlbWFJdGVtc0xlbmd0aCwgZGF0YUxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2NoZW1hSXRlbSA9IHNjaGVtYUl0ZW1zW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYUl0ZW0gPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgaWYgKHNjaGVtYUl0ZW0gPT09IGZhbHNlICYmIHR5cGVvZiBkYXRhW2ldICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpdGVtIGlzIG5vdCBhbGxvd2VkXCIsIHtcbiAgICAgICAgICAgICAgaXRlbTogaSxcbiAgICAgICAgICAgICAgZGF0YTogZGF0YVtpXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hSXRlbSkpIHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYUl0ZW0uJHZhbGlkYXRlKGRhdGFbaV0pO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgaXRlbSBpcyBpbnZhbGlkXCIsIHtcbiAgICAgICAgICAgICAgaXRlbTogaSxcbiAgICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgICBkYXRhOiBkYXRhW2ldXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYUl0ZW1zKSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWFJdGVtcy4kdmFsaWRhdGUoZGF0YVtpXSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGl0ZW0gaXMgaW52YWxpZFwiLCB7XG4gICAgICAgICAgICBpdGVtOiBpLFxuICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgZGF0YTogZGF0YVtpXVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIGVsZW1lbnRzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkgfHwgIWlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hLmVsZW1lbnRzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWEuZWxlbWVudHMuJHZhbGlkYXRlKGRhdGFbaV0pO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGl0ZW0gaXMgaW52YWxpZFwiLCB7XG4gICAgICAgICAgaXRlbTogaSxcbiAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgZGF0YTogZGF0YVtpXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgbWluSXRlbXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSB8fCBkYXRhLmxlbmd0aCA+PSBzY2hlbWEubWluSXRlbXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpcyB0b28gc2hvcnRcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIG1heEl0ZW1zKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkgfHwgZGF0YS5sZW5ndGggPD0gc2NoZW1hLm1heEl0ZW1zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgaXMgdG9vIGxvbmdcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIGFkZGl0aW9uYWxJdGVtcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpIHx8ICFzY2hlbWEuaXRlbXMgfHwgIUFycmF5LmlzQXJyYXkoc2NoZW1hLml0ZW1zKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzY2hlbWEuYWRkaXRpb25hbEl0ZW1zID09PSBmYWxzZSkge1xuICAgICAgaWYgKGRhdGEubGVuZ3RoID4gc2NoZW1hLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpcyB0b28gbG9uZ1wiLCB7IGRhdGEgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0KHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMpKSB7XG4gICAgICBpZiAoaXNDb21waWxlZFNjaGVtYShzY2hlbWEuYWRkaXRpb25hbEl0ZW1zKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gc2NoZW1hLml0ZW1zLmxlbmd0aDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMuJHZhbGlkYXRlKGRhdGFbaV0pO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgaXRlbSBpcyBpbnZhbGlkXCIsIHtcbiAgICAgICAgICAgICAgaXRlbTogaSxcbiAgICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgICBkYXRhOiBkYXRhW2ldXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIHVuaXF1ZUl0ZW1zKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkgfHwgIXNjaGVtYS51bmlxdWVJdGVtcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVuaXF1ZSA9IG5ldyBTZXQoKTtcblxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBkYXRhKSB7XG4gICAgICBsZXQgaXRlbVN0cjtcblxuICAgICAgLy8gQ2hhbmdlIHN0cmluZyB0byBcInN0cmluZ1wiIHRvIGF2b2lkIGZhbHNlIHBvc2l0aXZlc1xuICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGl0ZW1TdHIgPSBgczoke2l0ZW19YDtcbiAgICAgICAgLy8gU29ydCBvYmplY3Qga2V5cyB0byBhdm9pZCBmYWxzZSBwb3NpdGl2ZXNcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoaXRlbSkpIHtcbiAgICAgICAgaXRlbVN0ciA9IGBvOiR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoaXRlbSkuc29ydCgoW2FdLCBbYl0pID0+IGEubG9jYWxlQ29tcGFyZShiKSlcbiAgICAgICAgICApXG4gICAgICAgICl9YDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICBpdGVtU3RyID0gSlNPTi5zdHJpbmdpZnkoaXRlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtU3RyID0gU3RyaW5nKGl0ZW0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodW5pcXVlLmhhcyhpdGVtU3RyKSkge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpdGVtcyBhcmUgbm90IHVuaXF1ZVwiLCB7IGRhdGE6IGl0ZW0gfSk7XG4gICAgICB9XG4gICAgICB1bmlxdWUuYWRkKGl0ZW1TdHIpO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBjb250YWlucyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2NoZW1hLmNvbnRhaW5zID09PSBcImJvb2xlYW5cIikge1xuICAgICAgaWYgKHNjaGVtYS5jb250YWlucykge1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGl0ZW1cIiwgeyBkYXRhIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgbXVzdCBub3QgY29udGFpbiBhbnkgaXRlbXNcIiwgeyBkYXRhIH0pO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWEuY29udGFpbnMuJHZhbGlkYXRlKGRhdGFbaV0pO1xuICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGl0ZW1cIiwgeyBkYXRhIH0pO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgS2V5d29yZEZ1bmN0aW9uIH0gZnJvbSBcIi4uL2luZGV4XCI7XG5cbmV4cG9ydCBjb25zdCBTdHJpbmdLZXl3b3JkczogUmVjb3JkPHN0cmluZywgS2V5d29yZEZ1bmN0aW9uPiA9IHtcbiAgbWluTGVuZ3RoKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgfHwgZGF0YS5sZW5ndGggPj0gc2NoZW1hLm1pbkxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIHNob3J0ZXIgdGhhbiB0aGUgbWluaW11bSBsZW5ndGhcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIG1heExlbmd0aChzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiIHx8IGRhdGEubGVuZ3RoIDw9IHNjaGVtYS5tYXhMZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBsb25nZXIgdGhhbiB0aGUgbWF4aW11bSBsZW5ndGhcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIHBhdHRlcm4oc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhdHRlcm5SZWdleHAgPSBuZXcgUmVnRXhwKHNjaGVtYS5wYXR0ZXJuLCBcInVcIik7XG5cbiAgICBpZiAocGF0dGVyblJlZ2V4cCBpbnN0YW5jZW9mIFJlZ0V4cCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkludmFsaWQgcmVndWxhciBleHByZXNzaW9uXCIsIHsgZGF0YSB9KTtcbiAgICB9XG5cbiAgICBpZiAocGF0dGVyblJlZ2V4cC50ZXN0KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlIHBhdHRlcm5cIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIGZvcm1hdChzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yLCBpbnN0YW5jZSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZvcm1hdFZhbGlkYXRlID0gaW5zdGFuY2UuZ2V0Rm9ybWF0KHNjaGVtYS5mb3JtYXQpO1xuICAgIGlmIChmb3JtYXRWYWxpZGF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0VmFsaWRhdGUpIHtcbiAgICAgIGlmIChmb3JtYXRWYWxpZGF0ZShkYXRhKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGRvZXMgbm90IG1hdGNoIHRoZSBmb3JtYXRcIiwgeyBkYXRhIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkXCIsIHsgZGF0YSB9KTtcbiAgfVxufTtcbiIsImltcG9ydCB7IEtleXdvcmRGdW5jdGlvbiB9IGZyb20gXCIuLi9pbmRleFwiO1xuaW1wb3J0IHsgYXJlQ2xvc2VFbm91Z2ggfSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IE51bWJlcktleXdvcmRzOiBSZWNvcmQ8c3RyaW5nLCBLZXl3b3JkRnVuY3Rpb24+ID0ge1xuICBtaW5pbXVtKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IsIGluc3RhbmNlKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IG1pbiA9IHNjaGVtYS5taW5pbXVtO1xuICAgIGlmICh0eXBlb2Ygc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIG1pbiA9IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtICsgMWUtMTU7XG4gICAgfSBlbHNlIGlmIChzY2hlbWEuZXhjbHVzaXZlTWluaW11bSA9PT0gdHJ1ZSkge1xuICAgICAgbWluICs9IDFlLTE1O1xuICAgIH1cblxuICAgIGlmIChkYXRhIDwgbWluKSB7XG4gICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBsZXNzIHRoYW4gdGhlIG1pbmltdW1cIiwgeyBkYXRhIH0pO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBtYXhpbXVtKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IsIGluc3RhbmNlKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IG1heCA9IHNjaGVtYS5tYXhpbXVtO1xuICAgIGlmICh0eXBlb2Ygc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIG1heCA9IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtIC0gMWUtMTU7XG4gICAgfSBlbHNlIGlmIChzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSA9PT0gdHJ1ZSkge1xuICAgICAgbWF4IC09IDFlLTE1O1xuICAgIH1cblxuICAgIGlmIChkYXRhID4gbWF4KSB7XG4gICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBncmVhdGVyIHRoYW4gdGhlIG1heGltdW1cIiwgeyBkYXRhIH0pO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBtdWx0aXBsZU9mKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IsIGluc3RhbmNlKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcXVvdGllbnQgPSBkYXRhIC8gc2NoZW1hLm11bHRpcGxlT2Y7XG5cbiAgICBpZiAoIWlzRmluaXRlKHF1b3RpZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghYXJlQ2xvc2VFbm91Z2gocXVvdGllbnQsIE1hdGgucm91bmQocXVvdGllbnQpKSkge1xuICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IGEgbXVsdGlwbGUgb2YgdGhlIG11bHRpcGxlT2ZcIiwgeyBkYXRhIH0pO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBleGNsdXNpdmVNaW5pbXVtKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IsIGluc3RhbmNlKSB7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGRhdGEgIT09IFwibnVtYmVyXCIgfHxcbiAgICAgIHR5cGVvZiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSAhPT0gXCJudW1iZXJcIiB8fFxuICAgICAgXCJtaW5pbXVtXCIgaW4gc2NoZW1hXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgPD0gc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0gKyAxZS0xNSkge1xuICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBleGNsdXNpdmVNaW5pbXVtXCIpO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBleGNsdXNpdmVNYXhpbXVtKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IsIGluc3RhbmNlKSB7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGRhdGEgIT09IFwibnVtYmVyXCIgfHxcbiAgICAgIHR5cGVvZiBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSAhPT0gXCJudW1iZXJcIiB8fFxuICAgICAgXCJtYXhpbXVtXCIgaW4gc2NoZW1hXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgPj0gc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0pIHtcbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcbiAgICAgICAgXCJWYWx1ZSBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGV4Y2x1c2l2ZU1heGltdW1cIixcbiAgICAgICAgeyBkYXRhIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgZGVlcEVxdWFsLCBpc0NvbXBpbGVkU2NoZW1hLCBpc09iamVjdCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5pbXBvcnQgeyBLZXl3b3JkRnVuY3Rpb24gfSBmcm9tIFwiLi4vaW5kZXhcIjtcblxuZXhwb3J0IGNvbnN0IE90aGVyS2V5d29yZHM6IFJlY29yZDxzdHJpbmcsIEtleXdvcmRGdW5jdGlvbj4gPSB7XG4gIGVudW0oc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIC8vIENoZWNrIGlmIGRhdGEgaXMgYW4gYXJyYXkgb3IgYW4gb2JqZWN0XG4gICAgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoZGF0YSk7XG4gICAgY29uc3QgaXNPYmplY3QgPSB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBkYXRhICE9PSBudWxsO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEuZW51bS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZW51bUl0ZW0gPSBzY2hlbWEuZW51bVtpXTtcblxuICAgICAgLy8gU2ltcGxlIGVxdWFsaXR5IGNoZWNrXG4gICAgICBpZiAoZW51bUl0ZW0gPT09IGRhdGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBkYXRhIGlzIGFuIGFycmF5IG9yIGFuIG9iamVjdCwgY2hlY2sgZm9yIGRlZXAgZXF1YWxpdHlcbiAgICAgIGlmIChcbiAgICAgICAgKGlzQXJyYXkgJiYgQXJyYXkuaXNBcnJheShlbnVtSXRlbSkpIHx8XG4gICAgICAgIChpc09iamVjdCAmJiB0eXBlb2YgZW51bUl0ZW0gPT09IFwib2JqZWN0XCIgJiYgZW51bUl0ZW0gIT09IG51bGwpXG4gICAgICApIHtcbiAgICAgICAgaWYgKGRlZXBFcXVhbChlbnVtSXRlbSwgZGF0YSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3Qgb25lIG9mIHRoZSBhbGxvd2VkIHZhbHVlc1wiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgYWxsT2Yoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hLmFsbE9mLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qoc2NoZW1hLmFsbE9mW2ldKSkge1xuICAgICAgICBpZiAoXCIkdmFsaWRhdGVcIiBpbiBzY2hlbWEuYWxsT2ZbaV0pIHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5hbGxPZltpXS4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBjYXVzZTogZXJyb3IsIGRhdGEgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNjaGVtYS5hbGxPZltpXSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgaWYgKEJvb2xlYW4oZGF0YSkgIT09IHNjaGVtYS5hbGxPZltpXSkge1xuICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhICE9PSBzY2hlbWEuYWxsT2ZbaV0pIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgZGF0YSB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgYW55T2Yoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hLmFueU9mLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qoc2NoZW1hLmFueU9mW2ldKSkge1xuICAgICAgICBpZiAoXCIkdmFsaWRhdGVcIiBpbiBzY2hlbWEuYW55T2ZbaV0pIHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5hbnlPZltpXS4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYS5hbnlPZltpXSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICBpZiAoQm9vbGVhbihkYXRhKSA9PT0gc2NoZW1hLmFueU9mW2ldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEgPT09IHNjaGVtYS5hbnlPZltpXSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgb25lT2Yoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGxldCB2YWxpZENvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYS5vbmVPZi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGlzT2JqZWN0KHNjaGVtYS5vbmVPZltpXSkpIHtcbiAgICAgICAgaWYgKFwiJHZhbGlkYXRlXCIgaW4gc2NoZW1hLm9uZU9mW2ldKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWEub25lT2ZbaV0uJHZhbGlkYXRlKGRhdGEpO1xuICAgICAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgICAgIHZhbGlkQ291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFsaWRDb3VudCsrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLm9uZU9mW2ldID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgIGlmIChCb29sZWFuKGRhdGEpID09PSBzY2hlbWEub25lT2ZbaV0pIHtcbiAgICAgICAgICAgIHZhbGlkQ291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YSA9PT0gc2NoZW1hLm9uZU9mW2ldKSB7XG4gICAgICAgICAgdmFsaWRDb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZhbGlkQ291bnQgPT09IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIGNvbnN0KHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoXG4gICAgICBkYXRhID09PSBzY2hlbWEuY29uc3QgfHxcbiAgICAgIChpc09iamVjdChkYXRhKSAmJlxuICAgICAgICBpc09iamVjdChzY2hlbWEuY29uc3QpICYmXG4gICAgICAgIGRlZXBFcXVhbChkYXRhLCBzY2hlbWEuY29uc3QpKSB8fFxuICAgICAgKEFycmF5LmlzQXJyYXkoZGF0YSkgJiZcbiAgICAgICAgQXJyYXkuaXNBcnJheShzY2hlbWEuY29uc3QpICYmXG4gICAgICAgIGRlZXBFcXVhbChkYXRhLCBzY2hlbWEuY29uc3QpKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIGlmKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoXCJ0aGVuXCIgaW4gc2NoZW1hID09PSBmYWxzZSAmJiBcImVsc2VcIiBpbiBzY2hlbWEgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2NoZW1hLmlmID09PSBcImJvb2xlYW5cIikge1xuICAgICAgaWYgKHNjaGVtYS5pZikge1xuICAgICAgICBpZiAoaXNDb21waWxlZFNjaGVtYShzY2hlbWEudGhlbikpIHtcbiAgICAgICAgICByZXR1cm4gc2NoZW1hLnRoZW4uJHZhbGlkYXRlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hLmVsc2UpKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWEuZWxzZS4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS5pZikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5pZi4kdmFsaWRhdGUoZGF0YSk7XG4gICAgaWYgKCFlcnJvcikge1xuICAgICAgaWYgKGlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hLnRoZW4pKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWEudGhlbi4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS5lbHNlKSkge1xuICAgICAgICByZXR1cm4gc2NoZW1hLmVsc2UuJHZhbGlkYXRlKGRhdGEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSxcblxuICBub3Qoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICh0eXBlb2Ygc2NoZW1hLm5vdCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIGlmIChzY2hlbWEubm90KSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0KHNjaGVtYS5ub3QpKSB7XG4gICAgICBpZiAoXCIkdmFsaWRhdGVcIiBpbiBzY2hlbWEubm90KSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLm5vdC4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBjYXVzZTogZXJyb3IsIGRhdGEgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgZGF0YSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBkYXRhIH0pO1xuICB9XG59O1xuIiwiaW1wb3J0IHtcbiAgRGVmaW5lRXJyb3JGdW5jdGlvbixcbiAgVmFsaWRhdGlvbkVycm9yLFxuICBkZWVwQ2xvbmUsXG4gIGdldERlZmluZWRFcnJvckZ1bmN0aW9uRm9yS2V5LFxuICBnZXROYW1lZEZ1bmN0aW9uLFxuICBpc09iamVjdFxufSBmcm9tIFwiLi91dGlsc1wiO1xuXG5pbXBvcnQgeyBGb3JtYXRzIH0gZnJvbSBcIi4vZm9ybWF0c1wiO1xuaW1wb3J0IHsgVHlwZXMgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsga2V5d29yZHMgfSBmcm9tIFwiLi9rZXl3b3Jkc1wiO1xuXG5leHBvcnQgdHlwZSBSZXN1bHQgPSB2b2lkIHwgVmFsaWRhdGlvbkVycm9yO1xuXG5leHBvcnQgaW50ZXJmYWNlIEtleXdvcmRGdW5jdGlvbiB7XG4gIChcbiAgICBzY2hlbWE6IENvbXBpbGVkU2NoZW1hLFxuICAgIGRhdGE6IGFueSxcbiAgICBkZWZpbmVFcnJvcjogRGVmaW5lRXJyb3JGdW5jdGlvbixcbiAgICBpbnN0YW5jZTogU2NoZW1hU2hpZWxkXG4gICk6IFJlc3VsdDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUeXBlRnVuY3Rpb24ge1xuICAoZGF0YTogYW55KTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGb3JtYXRGdW5jdGlvbiB7XG4gIChkYXRhOiBhbnkpOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRlRnVuY3Rpb24ge1xuICAoZGF0YTogYW55KTogUmVzdWx0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkU2NoZW1hIHtcbiAgJHZhbGlkYXRlPzogVmFsaWRhdGVGdW5jdGlvbjtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRvciB7XG4gIChkYXRhOiBhbnkpOiB7IGRhdGE6IGFueTsgZXJyb3I6IFZhbGlkYXRpb25FcnJvciB8IG51bGw7IHZhbGlkOiBib29sZWFuIH07XG4gIGNvbXBpbGVkU2NoZW1hOiBDb21waWxlZFNjaGVtYTtcbn1cblxuZXhwb3J0IGNsYXNzIFNjaGVtYVNoaWVsZCB7XG4gIHByaXZhdGUgdHlwZXM6IFJlY29yZDxzdHJpbmcsIFR5cGVGdW5jdGlvbiB8IGZhbHNlPiA9IHt9O1xuICBwcml2YXRlIGZvcm1hdHM6IFJlY29yZDxzdHJpbmcsIEZvcm1hdEZ1bmN0aW9uIHwgZmFsc2U+ID0ge307XG4gIHByaXZhdGUga2V5d29yZHM6IFJlY29yZDxzdHJpbmcsIEtleXdvcmRGdW5jdGlvbiB8IGZhbHNlPiA9IHt9O1xuICBwcml2YXRlIGltbXV0YWJsZSA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBpbW11dGFibGUgPSBmYWxzZVxuICB9OiB7XG4gICAgaW1tdXRhYmxlPzogYm9vbGVhbjtcbiAgfSA9IHt9KSB7XG4gICAgdGhpcy5pbW11dGFibGUgPSBpbW11dGFibGU7XG5cbiAgICBmb3IgKGNvbnN0IFt0eXBlLCB2YWxpZGF0b3JdIG9mIE9iamVjdC5lbnRyaWVzKFR5cGVzKSkge1xuICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICB0aGlzLmFkZFR5cGUodHlwZSwgdmFsaWRhdG9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFtrZXl3b3JkLCB2YWxpZGF0b3JdIG9mIE9iamVjdC5lbnRyaWVzKGtleXdvcmRzKSkge1xuICAgICAgdGhpcy5hZGRLZXl3b3JkKGtleXdvcmQsIHZhbGlkYXRvciBhcyBLZXl3b3JkRnVuY3Rpb24pO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgW2Zvcm1hdCwgdmFsaWRhdG9yXSBvZiBPYmplY3QuZW50cmllcyhGb3JtYXRzKSkge1xuICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICB0aGlzLmFkZEZvcm1hdChmb3JtYXQsIHZhbGlkYXRvciBhcyBGb3JtYXRGdW5jdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYWRkVHlwZShuYW1lOiBzdHJpbmcsIHZhbGlkYXRvcjogVHlwZUZ1bmN0aW9uLCBvdmVyd3JpdGUgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLnR5cGVzW25hbWVdICYmICFvdmVyd3JpdGUpIHtcbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYFR5cGUgXCIke25hbWV9XCIgYWxyZWFkeSBleGlzdHNgKTtcbiAgICB9XG4gICAgdGhpcy50eXBlc1tuYW1lXSA9IHZhbGlkYXRvcjtcbiAgfVxuXG4gIGdldFR5cGUodHlwZTogc3RyaW5nKTogVHlwZUZ1bmN0aW9uIHwgZmFsc2Uge1xuICAgIHJldHVybiB0aGlzLnR5cGVzW3R5cGVdO1xuICB9XG5cbiAgYWRkRm9ybWF0KG5hbWU6IHN0cmluZywgdmFsaWRhdG9yOiBGb3JtYXRGdW5jdGlvbiwgb3ZlcndyaXRlID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy5mb3JtYXRzW25hbWVdICYmICFvdmVyd3JpdGUpIHtcbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYEZvcm1hdCBcIiR7bmFtZX1cIiBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICB0aGlzLmZvcm1hdHNbbmFtZV0gPSB2YWxpZGF0b3I7XG4gIH1cblxuICBnZXRGb3JtYXQoZm9ybWF0OiBzdHJpbmcpOiBGb3JtYXRGdW5jdGlvbiB8IGZhbHNlIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXRzW2Zvcm1hdF07XG4gIH1cblxuICBhZGRLZXl3b3JkKG5hbWU6IHN0cmluZywgdmFsaWRhdG9yOiBLZXl3b3JkRnVuY3Rpb24sIG92ZXJ3cml0ZSA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMua2V5d29yZHNbbmFtZV0gJiYgIW92ZXJ3cml0ZSkge1xuICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihgS2V5d29yZCBcIiR7bmFtZX1cIiBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICB0aGlzLmtleXdvcmRzW25hbWVdID0gdmFsaWRhdG9yO1xuICB9XG5cbiAgZ2V0S2V5d29yZChrZXl3b3JkOiBzdHJpbmcpOiBLZXl3b3JkRnVuY3Rpb24gfCBmYWxzZSB7XG4gICAgcmV0dXJuIHRoaXMua2V5d29yZHNba2V5d29yZF07XG4gIH1cblxuICBjb21waWxlKHNjaGVtYTogYW55KTogVmFsaWRhdG9yIHtcbiAgICBjb25zdCBjb21waWxlZFNjaGVtYSA9IHRoaXMuY29tcGlsZVNjaGVtYShzY2hlbWEpO1xuICAgIGlmICghY29tcGlsZWRTY2hlbWEuJHZhbGlkYXRlKSB7XG4gICAgICBpZiAodGhpcy5pc1NjaGVtYUxpa2Uoc2NoZW1hKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcIkludmFsaWQgc2NoZW1hXCIpO1xuICAgICAgfVxuXG4gICAgICBjb21waWxlZFNjaGVtYS4kdmFsaWRhdGUgPSBnZXROYW1lZEZ1bmN0aW9uPFZhbGlkYXRlRnVuY3Rpb24+KFxuICAgICAgICBcImFueVwiLFxuICAgICAgICAoKSA9PiB7fVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB2YWxpZGF0ZTogVmFsaWRhdG9yID0gKGRhdGE6IGFueSkgPT4ge1xuICAgICAgY29uc3QgY2xvbmVkRGF0YSA9IHRoaXMuaW1tdXRhYmxlID8gZGVlcENsb25lKGRhdGEpIDogZGF0YTtcbiAgICAgIGNvbnN0IGVycm9yID0gY29tcGlsZWRTY2hlbWEuJHZhbGlkYXRlKGNsb25lZERhdGEpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiBjbG9uZWREYXRhLFxuICAgICAgICBlcnJvcjogZXJyb3IgPyBlcnJvciA6IG51bGwsXG4gICAgICAgIHZhbGlkOiAhZXJyb3JcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHZhbGlkYXRlLmNvbXBpbGVkU2NoZW1hID0gY29tcGlsZWRTY2hlbWE7XG5cbiAgICByZXR1cm4gdmFsaWRhdGU7XG4gIH1cblxuICBwcml2YXRlIGNvbXBpbGVTY2hlbWEoc2NoZW1hOiBQYXJ0aWFsPENvbXBpbGVkU2NoZW1hPiB8IGFueSk6IENvbXBpbGVkU2NoZW1hIHtcbiAgICBpZiAoIWlzT2JqZWN0KHNjaGVtYSkpIHtcbiAgICAgIGlmIChzY2hlbWEgPT09IHRydWUpIHtcbiAgICAgICAgc2NoZW1hID0ge1xuICAgICAgICAgIGFueU9mOiBbe31dXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHNjaGVtYSA9PT0gZmFsc2UpIHtcbiAgICAgICAgc2NoZW1hID0ge1xuICAgICAgICAgIG9uZU9mOiBbXVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2NoZW1hID0ge1xuICAgICAgICAgIG9uZU9mOiBbc2NoZW1hXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNvbXBpbGVkU2NoZW1hOiBDb21waWxlZFNjaGVtYSA9IHsgLi4uc2NoZW1hIH0gYXMgQ29tcGlsZWRTY2hlbWE7XG4gICAgY29uc3QgZGVmaW5lVHlwZUVycm9yID0gZ2V0RGVmaW5lZEVycm9yRnVuY3Rpb25Gb3JLZXkoXCJ0eXBlXCIsIHNjaGVtYSk7XG4gICAgY29uc3QgdHlwZVZhbGlkYXRpb25zOiBUeXBlRnVuY3Rpb25bXSA9IFtdO1xuXG4gICAgbGV0IG1ldGhvZE5hbWUgPSBcIlwiO1xuXG4gICAgaWYgKFwidHlwZVwiIGluIHNjaGVtYSkge1xuICAgICAgY29uc3QgdHlwZXMgPSBBcnJheS5pc0FycmF5KHNjaGVtYS50eXBlKVxuICAgICAgICA/IHNjaGVtYS50eXBlXG4gICAgICAgIDogc2NoZW1hLnR5cGUuc3BsaXQoXCIsXCIpLm1hcCgodCkgPT4gdC50cmltKCkpO1xuXG4gICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgdHlwZXMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy5nZXRUeXBlKHR5cGUpO1xuICAgICAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICAgICAgdHlwZVZhbGlkYXRpb25zLnB1c2godmFsaWRhdG9yKTtcbiAgICAgICAgICBtZXRob2ROYW1lICs9IChtZXRob2ROYW1lID8gXCJfT1JfXCIgOiBcIlwiKSArIHZhbGlkYXRvci5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHR5cGVWYWxpZGF0aW9uc0xlbmd0aCA9IHR5cGVWYWxpZGF0aW9ucy5sZW5ndGg7XG5cbiAgICAgIGlmICh0eXBlVmFsaWRhdGlvbnNMZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgZGVmaW5lVHlwZUVycm9yKFwiSW52YWxpZCB0eXBlIGZvciBzY2hlbWFcIiwgeyBkYXRhOiBzY2hlbWEudHlwZSB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVWYWxpZGF0aW9uc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb25zdCB0eXBlVmFsaWRhdGlvbiA9IHR5cGVWYWxpZGF0aW9uc1swXTtcbiAgICAgICAgY29tcGlsZWRTY2hlbWEuJHZhbGlkYXRlID0gZ2V0TmFtZWRGdW5jdGlvbjxWYWxpZGF0ZUZ1bmN0aW9uPihcbiAgICAgICAgICBtZXRob2ROYW1lLFxuICAgICAgICAgIChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZVZhbGlkYXRpb24oZGF0YSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZmluZVR5cGVFcnJvcihcIkludmFsaWQgdHlwZVwiLCB7IGRhdGEgfSk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh0eXBlVmFsaWRhdGlvbnNMZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbXBpbGVkU2NoZW1hLiR2YWxpZGF0ZSA9IGdldE5hbWVkRnVuY3Rpb248VmFsaWRhdGVGdW5jdGlvbj4oXG4gICAgICAgICAgbWV0aG9kTmFtZSxcbiAgICAgICAgICAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlVmFsaWRhdGlvbnNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAodHlwZVZhbGlkYXRpb25zW2ldKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lVHlwZUVycm9yKFwiSW52YWxpZCB0eXBlXCIsIHsgZGF0YSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoc2NoZW1hKSkge1xuICAgICAgaWYgKGtleSA9PT0gXCJ0eXBlXCIpIHtcbiAgICAgICAgY29tcGlsZWRTY2hlbWEudHlwZSA9IHNjaGVtYS50eXBlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qga2V5d29yZFZhbGlkYXRvciA9IHRoaXMuZ2V0S2V5d29yZChrZXkpO1xuICAgICAgaWYgKGtleXdvcmRWYWxpZGF0b3IpIHtcbiAgICAgICAgY29uc3QgZGVmaW5lRXJyb3IgPSBnZXREZWZpbmVkRXJyb3JGdW5jdGlvbkZvcktleShrZXksIHNjaGVtYVtrZXldKTtcbiAgICAgICAgY29uc3QgZXhlY3V0ZUtleXdvcmRWYWxpZGF0b3IgPSAoZGF0YTogYW55KSA9PlxuICAgICAgICAgIChrZXl3b3JkVmFsaWRhdG9yIGFzIEtleXdvcmRGdW5jdGlvbikoXG4gICAgICAgICAgICBjb21waWxlZFNjaGVtYSxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBkZWZpbmVFcnJvcixcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICApO1xuXG4gICAgICAgIGlmIChjb21waWxlZFNjaGVtYS4kdmFsaWRhdGUpIHtcbiAgICAgICAgICBjb25zdCBwcmV2VmFsaWRhdG9yID0gY29tcGlsZWRTY2hlbWEuJHZhbGlkYXRlO1xuICAgICAgICAgIG1ldGhvZE5hbWUgKz0gYF9BTkRfJHtrZXl3b3JkVmFsaWRhdG9yLm5hbWV9YDtcbiAgICAgICAgICBjb21waWxlZFNjaGVtYS4kdmFsaWRhdGUgPSBnZXROYW1lZEZ1bmN0aW9uPFZhbGlkYXRlRnVuY3Rpb24+KFxuICAgICAgICAgICAgbWV0aG9kTmFtZSxcbiAgICAgICAgICAgIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gcHJldlZhbGlkYXRvcihkYXRhKTtcbiAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IGtleXdvcmRFcnJvciA9IGV4ZWN1dGVLZXl3b3JkVmFsaWRhdG9yKGRhdGEpO1xuICAgICAgICAgICAgICBpZiAoa2V5d29yZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXdvcmRFcnJvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWV0aG9kTmFtZSA9IGtleXdvcmRWYWxpZGF0b3IubmFtZTtcbiAgICAgICAgICBjb21waWxlZFNjaGVtYS4kdmFsaWRhdGUgPSBnZXROYW1lZEZ1bmN0aW9uPFZhbGlkYXRlRnVuY3Rpb24+KFxuICAgICAgICAgICAgbWV0aG9kTmFtZSxcbiAgICAgICAgICAgIGV4ZWN1dGVLZXl3b3JkVmFsaWRhdG9yXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNPYmplY3Qoc2NoZW1hW2tleV0pKSB7XG4gICAgICAgIGNvbXBpbGVkU2NoZW1hW2tleV0gPSB0aGlzLmNvbXBpbGVTY2hlbWEoc2NoZW1hW2tleV0pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hW2tleV0pKSB7XG4gICAgICAgIGNvbXBpbGVkU2NoZW1hW2tleV0gPSBzY2hlbWFba2V5XS5tYXAoKHN1YlNjaGVtYSwgaW5kZXgpID0+XG4gICAgICAgICAgdGhpcy5pc1NjaGVtYUxpa2Uoc3ViU2NoZW1hKVxuICAgICAgICAgICAgPyB0aGlzLmNvbXBpbGVTY2hlbWEoc3ViU2NoZW1hKVxuICAgICAgICAgICAgOiBzdWJTY2hlbWFcbiAgICAgICAgKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbXBpbGVkU2NoZW1hW2tleV0gPSBzY2hlbWFba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29tcGlsZWRTY2hlbWEgYXMgQ29tcGlsZWRTY2hlbWE7XG4gIH1cblxuICBpc1NjaGVtYUxpa2Uoc3ViU2NoZW1hOiBhbnkpOiBib29sZWFuIHtcbiAgICBpZiAoaXNPYmplY3Qoc3ViU2NoZW1hKSkge1xuICAgICAgaWYgKFwidHlwZVwiIGluIHN1YlNjaGVtYSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgc3ViS2V5IGluIHN1YlNjaGVtYSkge1xuICAgICAgICBpZiAoc3ViS2V5IGluIHRoaXMua2V5d29yZHMpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IitLQUFBQSxHLEVBQUEsd0NBQUFDLEVBQUFDLEdBQUEsSUFBSUMsRUFBa0IsdUNBRWxCQyxFQUFpQixtQkFDakJDLEVBQWlCLEtBQ2pCQyxFQUFTLE9BQ1RDLEVBQWtCLGtCQUNsQkMsRUFBZSwwQ0E0RW5CTixFQUFPRCxRQUF5QixnQkFBSSxDQUNsQ0UsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDRixHLDRFQ3ZGYUMsRUFBTixjQUE4QkMsTUFDbkNDLFFBQ0FDLEtBQ0FDLFFBQ0FDLE1BQ0FDLEtBQWUsR0FDZkMsS0FDQUMsT0FFUUMsVUFBVUMsRUFBVSxLQUMxQixNQUFNSixFQUNKSSxFQUNBLElBQ0FDLEtBQUtQLGNBQ2lCLElBQWRPLEtBQUtSLEtBQXVCLElBQU1RLEtBQUtSLEtBQU8sSUFFeEQsT0FBS1EsS0FBS04sTUFLSE0sS0FBS04sTUFBTUksVUFBVUgsSUFKMUJLLEtBQUtMLEtBQU9BLEVBQ0xLLEtBSVgsQ0FFQUMsV0FDRSxPQUFPRCxLQUFLRixXQUNkLEdBYUssU0FBU0ksRUFDZEMsRUFDQU4sR0FFQSxNQUFNTyxFQUFlLElBQUlmLEVBQWdCLFdBQVdjLEtBQ3BEQyxFQUFhWCxRQUFVVSxFQUN2QkMsRUFBYVAsT0FBU0EsRUFVdEIsT0FBT1EsRUFDTCxlQUFlRixJQVR3QixDQUFDWixFQUFTZSxFQUFVLENBQUMsS0FDNURGLEVBQWFiLFFBQVVBLEVBQ3ZCYSxFQUFhWixLQUFPYyxFQUFRZCxLQUM1QlksRUFBYVYsTUFBUVksRUFBUVosTUFDN0JVLEVBQWFSLEtBQU9VLEVBQVFWLEtBQ3JCUSxHQU9YLENBRU8sU0FBU0csRUFDZEMsRUFDQUMsR0FFQSxHQUFJQyxNQUFNQyxRQUFRSCxJQUFRRSxNQUFNQyxRQUFRRixHQUFRLENBQzlDLEdBQUlELEVBQUlJLFNBQVdILEVBQU1HLE9BQ3ZCLE9BQU8sRUFHVCxRQUFTQyxFQUFJLEVBQUdBLEVBQUlMLEVBQUlJLE9BQVFDLElBQzlCLElBQUtOLEVBQVVDLEVBQUlLLEdBQUlKLEVBQU1JLElBQzNCLE9BQU8sRUFJWCxPQUFPLENBQ1QsQ0FFQSxHQUFtQixpQkFBUkwsR0FBcUMsaUJBQVZDLEVBQW9CLENBQ3hELEdBQVksT0FBUkQsR0FBMEIsT0FBVkMsRUFDbEIsT0FBT0QsSUFBUUMsRUFHakIsTUFBTUssRUFBT0MsT0FBT0QsS0FBS04sR0FDekIsR0FBSU0sRUFBS0YsU0FBV0csT0FBT0QsS0FBS0wsR0FBT0csT0FDckMsT0FBTyxFQUdULFVBQVdULEtBQU9XLEVBQ2hCLElBQUtQLEVBQVVDLEVBQUlMLEdBQU1NLEVBQU1OLElBQzdCLE9BQU8sRUFJWCxPQUFPLENBQ1QsQ0FFQSxPQUFPSyxJQUFRQyxDQUNqQixDQUVPLFNBQVNPLEVBQVNwQixHQUN2QixNQUF1QixpQkFBVEEsR0FBOEIsT0FBVEEsSUFBa0JjLE1BQU1DLFFBQVFmLEVBQ3JFLENBa0JPLFNBQVNxQixFQUFVVCxHQUN4QixHQUFJRSxNQUFNQyxRQUFRSCxHQUFNLENBQ3RCLE1BQU1VLEVBQVMsR0FDZixRQUFTTCxFQUFJLEVBQUdBLEVBQUlMLEVBQUlJLE9BQVFDLElBQzlCSyxFQUFPTCxHQUFLSSxFQUFVVCxFQUFJSyxJQUU1QixPQUFPSyxDQUNULENBR0EsR0FBSVYsR0FBT0EsRUFBSVcsYUFBd0MsV0FBekJYLEVBQUlXLFlBQVlDLEtBQzVDLE9BQU9aLEVBR1QsR0FBSVEsRUFBU1IsR0FBTSxDQUNqQixNQUFNVSxFQUFTLElBQ1ZWLEdBRUwsVUFBV0wsS0FBT0ssRUFDaEJVLEVBQU9mLEdBQU9jLEVBQVVULEVBQUlMLElBRTlCLE9BQU9lLENBQ1QsQ0FFQSxPQUFPVixDQUNULENBRU8sU0FBU2EsRUFBaUJDLEdBQy9CLE9BQU9OLEVBQVNNLElBQWMsY0FBZUEsQ0FDL0MsQ0FFTyxTQUFTakIsRUFBb0JlLEVBQWNHLEdBQ2hELE9BQU9SLE9BQU9TLGVBQWVELEVBQUksT0FBUSxDQUFFRSxNQUFPTCxHQUNwRCxDQzFKQSxJQUFBTSxFLHlRQUF3QkMsQ0FBQS9DLEtBR2xCZ0QsRUFBVSxDQUNkQyxLQUFNLDZEQUNOQyxJQUFLLG9DQUNMQyxTQUNFLCtFQUNGQyxLQUFNLDRCQUNOLGVBQWdCLHNCQUNoQix3QkFBeUIsb0NBR3JCQyxFQUFjLENBQUMsR0FBSSxDQUFFLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBRWxEQyxFQUFrRCxDQUM3RCxZQUFjdEMsR0FDWixNQUFNdUMsRUFBUXZDLEVBQUt1QyxNQUNqQix3SUFHRixJQUFLQSxFQUNILE9BQU8sRUFHVCxJQUFJQyxFQUFNQyxPQUFPRixFQUFNLElBRXZCLEdBQWlCLE9BQWJBLEVBQU0sSUFBZUMsRUFBTSxHQUM3QixPQUFPLEVBR1QsTUFDRSxDQUNBRSxFQUNBQyxFQUNBLENBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBQ0VWLEVBRUosSUFBSVcsRUFBT1QsT0FBT0MsR0FDZFMsRUFBUVYsT0FBT0UsR0FDZlMsRUFBT1gsT0FBT0csR0FDZFMsRUFBU1osT0FBT0ksR0FDaEJTLEVBQVNiLE9BQU9LLEdBRXBCLEdBQXFCLE1BQWpCQyxHQUF5QyxNQUFqQkEsRUFBc0IsQ0FDaEQsTUFBTVEsRUFBZWQsT0FBT08sR0FDdEJRLEVBQWlCZixPQUFPUSxHQTBDOUIsR0F4Q3FCLE1BQWpCRixHQUNGSyxHQUFRRyxFQUNSRixHQUFVRyxHQUNnQixNQUFqQlQsSUFDVEssR0FBUUcsRUFDUkYsR0FBVUcsR0FHUkgsRUFBUyxJQUNYRCxHQUFRLEVBQ1JDLEdBQVUsSUFDREEsRUFBUyxJQUNsQkQsR0FBUSxFQUNSQyxHQUFVLElBR1JELEVBQU8sSUFDVFosR0FBTyxFQUNQWSxHQUFRLElBQ0NBLEVBQU8sSUFDaEJaLEdBQU8sRUFDUFksR0FBUSxJQUdOWixFQUFNLElBQ1JXLEdBQVMsRUFDVFgsR0FBTyxJQUNFQSxFQUFNLElBQ2ZXLEdBQVMsRUFDVFgsR0FBTyxJQUdMVyxFQUFRLElBQ1ZELEdBQVEsRUFDUkMsR0FBUyxJQUNBQSxFQUFRLElBQ2pCRCxHQUFRLEVBQ1JDLEdBQVMsSUFHUEQsRUFBTyxFQUNULE9BQU8sQ0FFWCxDQVNBLFFBQUlWLEdBTlEsSUFBVlcsRUFDSUQsRUFBTyxHQUFNLEdBQU1BLEVBQU8sS0FBUSxHQUFLQSxFQUFPLEtBQVEsRUFFcEQsR0FEQSxHQUVGYixFQUFZYyxFQUFRLE9BT1gsS0FBWEcsR0FBNkIsS0FBWEQsR0FBMEIsS0FBVEQsRUFLekMsRUFDQWxCLElBQUlsQyxHQUNLZ0MsRUFBUUUsSUFBSXVCLEtBQUt6RCxHQUUxQjBELE1BQU0xRCxHQUNHLHNMQUFzTHlELEtBQzNMekQsR0FHSjJELE1BQUEsRUFBTTdCLEVBQUE4QixTQUFZLENBQUVDLFFBQVMsSUFDN0JDLE1BQUEsRUFBTWhDLEVBQUE4QixTQUFZLENBQUVDLFFBQVMsSUFFN0IxQixTQUFTbkMsR0FDQWdDLEVBQVFHLFNBQVNzQixLQUFLekQsR0FFL0JvQyxLQUFLcEMsR0FDaUIsaUJBQVRBLEtBSXFCLElBQTVCZ0MsRUFBUUksS0FBS3FCLEtBQUt6RCxLQUlkK0QsTUFBTSxJQUFJQyxLQUFLaEUsR0FBTWlFLFlBRS9CQyxNQUFNbEUsR0FDSixJQUVFLE9BREEsSUFBSW1FLE9BQU9uRSxJQUNKLENBQ1QsT0FBU29FLEdBQ1AsT0FBTyxDQUNULENBQ0YsRUFDQSxlQUFlcEUsR0FDQSxLQUFUQSxHQUlHZ0MsRUFBUSxnQkFBZ0J5QixLQUFLekQsR0FFdEMsd0JBQXdCQSxHQUNULEtBQVRBLEdBSUdnQyxFQUFRLHlCQUF5QnlCLEtBQUt6RCxHQUUvQ2lDLEtBQUtqQyxHQUNJZ0MsRUFBUUMsS0FBS3dCLEtBQUt6RCxHQUkzQnFFLFVBQVUsRUFDVixhQUFhLEVBQ2IsZ0JBQWdCLEVBQ2hCQyxNQUFNLEVBQ04saUJBQWlCLEVBQ2pCQyxLQUFLLEVBQ0wsaUJBQWlCLEVBQ2pCLGdCQUFnQixHQy9LTEMsRUFBOEMsQ0FDekRDLE9BQU96RSxHQUNFb0IsRUFBU3BCLEdBRWxCMEUsTUFBTTFFLEtBQ0FjLE1BQU1DLFFBQVFmLElBS0EsaUJBQVRBLEdBQ0UsT0FBVEEsR0FDQSxXQUFZQSxHQUNaLE1BQU9BLEdBQ1BtQixPQUFPRCxLQUFLbEIsR0FBTWdCLE9BQVMsSUFBTWhCLEVBQUtnQixPQUcxQzJELE9BQU8zRSxHQUNrQixpQkFBVEEsRUFFaEI0RSxPQUFPNUUsR0FDa0IsaUJBQVRBLEVBRWhCNkUsUUFBUTdFLEdBQ2lCLGlCQUFUQSxHQUFxQkEsRUFBTyxHQUFNLEVBRWxEOEUsUUFBUTlFLEdBQ2lCLGtCQUFUQSxFQUVoQitFLEtBQUsvRSxHQUNhLE9BQVRBLEVBSVRnRixXQUFXLEVBQ1hDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxPQUFPLEVBQ1BDLFFBQVEsRUFDUkMsT0FBTyxFQUNQQyxRQUFRLEVBQ1JDLFNBQVMsRUFDVEMsU0FBUyxHQ3RDRUMsRUFBb0QsSUNITSxDQUVyRUMsU0FBU3pGLEVBQVFELEVBQU0yRixHQUNyQixHQUFLdkUsRUFBU3BCLEdBSWQsUUFBU2lCLEVBQUksRUFBR0EsRUFBSWhCLEVBQU95RixTQUFTMUUsT0FBUUMsSUFBSyxDQUMvQyxNQUFNVixFQUFNTixFQUFPeUYsU0FBU3pFLEdBQzVCLElBQUtqQixFQUFLNEYsZUFBZXJGLEdBQ3ZCLE9BQU9vRixFQUFZLCtCQUFnQyxDQUNqRC9GLEtBQU1XLEVBQ05QLEtBQU1BLEVBQUtPLElBR2pCLENBR0YsRUFFQXNGLFdBQVc1RixFQUFRRCxFQUFNMkYsR0FDdkIsR0FBS3ZFLEVBQVNwQixHQUlkLFVBQVdPLEtBQU9ZLE9BQU9ELEtBQUtqQixFQUFPNEYsWUFDbkMsR0FBSzdGLEVBQUs0RixlQUFlckYsSUFRekIsR0FBc0Msa0JBQTNCTixFQUFPNEYsV0FBV3RGLElBVTdCLEdBQUksY0FBZU4sRUFBTzRGLFdBQVd0RixHQUFNLENBQ3pDLE1BQU11RixFQUFRN0YsRUFBTzRGLFdBQVd0RixHQUFLd0YsVUFBVS9GLEVBQUtPLElBQ3BELEdBQUl1RixFQUNGLE9BQU9ILEVBQVksc0JBQXVCLENBQ3hDL0YsS0FBTVcsRUFDTlQsTUFBT2dHLEVBQ1A5RixLQUFNQSxFQUFLTyxJQUdqQixPQWxCRSxJQUErQixJQUEzQk4sRUFBTzRGLFdBQVd0RixHQUNwQixPQUFPb0YsRUFBWSwwQkFBMkIsQ0FDNUMvRixLQUFNVyxFQUNOUCxLQUFNQSxFQUFLTyxTQVpqQixDQUNFLE1BQU15RixFQUFhL0YsRUFBTzRGLFdBQVd0RixHQUNqQ2EsRUFBUzRFLElBQWUsWUFBYUEsSUFDdkNoRyxFQUFLTyxHQUFPeUYsRUFBV0MsUUFHM0IsQ0F5QkosRUFFQUMsT0FBT2pHLEVBQVFELEVBQU0yRixHQUNuQixJQUFLdkUsRUFBU3BCLEtBQVV5QixFQUFpQnhCLEVBQU9pRyxRQUM5QyxPQUdGLE1BQU1oRixFQUFPQyxPQUFPRCxLQUFLbEIsR0FDekIsVUFBV08sS0FBT1csRUFBTSxDQUN0QixNQUFNNEUsRUFBUTdGLEVBQU9pRyxPQUFPSCxVQUFVL0YsRUFBS08sSUFDM0MsR0FBSXVGLEVBQ0YsT0FBT0gsRUFBWSxzQkFBdUIsQ0FDeEMvRixLQUFNVyxFQUNOVCxNQUFPZ0csRUFDUDlGLEtBQU1BLEVBQUtPLElBR2pCLENBR0YsRUFFQTRGLGNBQWNsRyxFQUFRRCxFQUFNMkYsR0FDMUIsR0FBS3ZFLEVBQVNwQixNQUFTbUIsT0FBT0QsS0FBS2xCLEdBQU1nQixRQUFVZixFQUFPa0csZUFJMUQsT0FBT1IsRUFBWSxzQkFBdUIsQ0FBRTNGLFFBQzlDLEVBRUFvRyxjQUFjbkcsRUFBUUQsRUFBTTJGLEdBQzFCLEdBQUt2RSxFQUFTcEIsTUFBU21CLE9BQU9ELEtBQUtsQixHQUFNZ0IsUUFBVWYsRUFBT21HLGVBSTFELE9BQU9ULEVBQVkscUJBQXNCLENBQUUzRixRQUM3QyxFQUVBcUcscUJBQXFCcEcsRUFBUUQsRUFBTTJGLEdBQ2pDLElBQUt2RSxFQUFTcEIsR0FDWixPQUdGLE1BQU1rQixFQUFPQyxPQUFPRCxLQUFLbEIsR0FDbkJzRyxFQUFhN0UsRUFBaUJ4QixFQUFPb0csc0JBQzNDLFVBQVc5RixLQUFPVyxFQUNoQixJQUFJakIsRUFBTzRGLGFBQWM1RixFQUFPNEYsV0FBV0QsZUFBZXJGLEdBQTFELENBSUEsR0FBSU4sRUFBT3NHLGtCQUFtQixDQUM1QixJQUFJaEUsR0FBUSxFQUNaLFVBQVdpRSxLQUFXdkcsRUFBT3NHLGtCQUMzQixHQUFJLElBQUlwQyxPQUFPcUMsRUFBUyxLQUFLL0MsS0FBS2xELEdBQU0sQ0FDdENnQyxHQUFRLEVBQ1IsS0FDRixDQUVGLEdBQUlBLEVBQ0YsUUFFSixDQUVBLElBQW9DLElBQWhDdEMsRUFBT29HLHFCQUNULE9BQU9WLEVBQVksd0NBQXlDLENBQzFEL0YsS0FBTVcsRUFDTlAsS0FBTUEsRUFBS08sS0FJZixHQUFJK0YsRUFBWSxDQUNkLE1BQU1SLEVBQVE3RixFQUFPb0cscUJBQXFCTixVQUFVL0YsRUFBS08sSUFDekQsR0FBSXVGLEVBQ0YsT0FBT0gsRUFBWSxvQ0FBcUMsQ0FDdEQvRixLQUFNVyxFQUNOVCxNQUFPZ0csRUFDUDlGLEtBQU1BLEVBQUtPLElBR2pCLENBL0JBLENBbUNKLEVBRUFnRyxrQkFBa0J0RyxFQUFRRCxFQUFNMkYsR0FDOUIsSUFBS3ZFLEVBQVNwQixHQUNaLE9BR0YsTUFBTXlHLEVBQVd0RixPQUFPRCxLQUFLakIsRUFBT3NHLG1CQUNwQyxVQUFXQyxLQUFXQyxFQUFVLENBQzlCLE1BQU12QyxFQUFRLElBQUlDLE9BQU9xQyxFQUFTLEtBQ2xDLEdBQWlELGtCQUF0Q3ZHLEVBQU9zRyxrQkFBa0JDLEdBQXdCLENBQzFELElBQTBDLElBQXRDdkcsRUFBT3NHLGtCQUFrQkMsR0FDM0IsVUFBV2pHLEtBQU9QLEVBQ2hCLEdBQUlrRSxFQUFNVCxLQUFLbEQsR0FDYixPQUFPb0YsRUFBWSwwQkFBMkIsQ0FDNUMvRixLQUFNVyxFQUNOUCxLQUFNQSxFQUFLTyxLQUtuQixRQUNGLENBRUEsTUFBTVcsRUFBT0MsT0FBT0QsS0FBS2xCLEdBQ3pCLFVBQVdPLEtBQU9XLEVBQ2hCLEdBQUlnRCxFQUFNVCxLQUFLbEQsSUFDVCxjQUFlTixFQUFPc0csa0JBQWtCQyxHQUFVLENBQ3BELE1BQU1WLEVBQVE3RixFQUFPc0csa0JBQWtCQyxHQUFTVCxVQUM5Qy9GLEVBQUtPLElBRVAsR0FBSXVGLEVBQ0YsT0FBT0gsRUFBWSxzQkFBdUIsQ0FDeEMvRixLQUFNVyxFQUNOVCxNQUFPZ0csRUFDUDlGLEtBQU1BLEVBQUtPLElBR2pCLENBR04sQ0FHRixFQUVBbUcsY0FBY3pHLEVBQVFELEVBQU0yRixHQUMxQixHQUFLdkUsRUFBU3BCLEdBQWQsQ0FHQSxHQUFvQyxrQkFBekJDLEVBQU95RyxnQkFDYSxJQUF6QnpHLEVBQU95RyxlQUEyQnZGLE9BQU9ELEtBQUtsQixHQUFNZ0IsT0FBUyxFQUMvRCxPQUFPMkUsRUFBWSw2QkFBOEIsQ0FBRTNGLFNBR3ZELEdBQUl5QixFQUFpQnhCLEVBQU95RyxlQUMxQixRQUFTbkcsS0FBT1AsRUFBTSxDQUNwQixNQUFNOEYsRUFBUTdGLEVBQU95RyxjQUFjWCxVQUFVeEYsR0FDN0MsR0FBSXVGLEVBQ0YsT0FBT0gsRUFBWSwyQkFBNEIsQ0FDN0MvRixLQUFNVyxFQUNOVCxNQUFPZ0csRUFDUDlGLEtBQU1BLEVBQUtPLElBR2pCLENBaEJGLENBb0JGLEVBRUFvRyxhQUFhMUcsRUFBUUQsRUFBTTJGLEdBQ3pCLEdBQUt2RSxFQUFTcEIsR0FJZCxVQUFXTyxLQUFPTixFQUFPMEcsYUFBYyxDQUNyQyxHQUFJcEcsS0FBT1AsSUFBUyxFQUNsQixTQUdGLE1BQU00RyxFQUFhM0csRUFBTzBHLGFBQWFwRyxHQUN2QyxHQUFJTyxNQUFNQyxRQUFRNkYsR0FBYSxDQUM3QixRQUFTM0YsRUFBSSxFQUFHQSxFQUFJMkYsRUFBVzVGLE9BQVFDLElBQ3JDLEtBQU0yRixFQUFXM0YsS0FBTWpCLEdBQ3JCLE9BQU8yRixFQUFZLDhCQUErQixDQUNoRC9GLEtBQU1xQixFQUNOakIsS0FBTTRHLEVBQVczRixLQUl2QixRQUNGLENBQ0EsR0FBMEIsa0JBQWYyRixFQUEwQixDQUNuQyxHQUFJQSxFQUNGLFNBRUYsT0FBT2pCLEVBQVksOEJBQStCLENBQUUzRixLQUFNNEcsR0FDNUQsQ0FFQSxHQUEwQixpQkFBZkEsRUFBeUIsQ0FDbEMsR0FBSUEsS0FBYzVHLEVBQ2hCLFNBRUYsT0FBTzJGLEVBQVksOEJBQStCLENBQUUzRixLQUFNNEcsR0FDNUQsQ0FDQSxNQUFNZCxFQUFRYyxFQUFXYixVQUFVL0YsR0FDbkMsR0FBSThGLEVBQ0YsT0FBT0gsRUFBWSw4QkFBK0IsQ0FDaEQ3RixNQUFPZ0csRUFDUDlGLFFBR04sQ0FHRixFQUdBNkcsTUFBTSxFQUNOQyxNQUFNLEVBQ05iLFNBQVMsRUFHVGMsTUFBTSxFQUNOQyxhQUFhLEVBQ2JDLEtBQUssRUFDTEMsU0FBUyxFQUdUQyxPQUFPLEVBQ1BDLGFBQWEsRUFDYkMsVUFBVSxFQUNWQyxVQUFVLEVBQ1ZDLGtCQUFrQixFQUNsQkMsaUJBQWlCLEVBR2pCQyxlQUFlLEVBQ2ZDLFVBQVUsTUN2UmtELENBQzVEQyxNQUFNMUgsRUFBUUQsRUFBTTJGLEdBQ2xCLElBQUs3RSxNQUFNQyxRQUFRZixHQUNqQixPQUdGLE1BQU00SCxFQUFjM0gsRUFBTzBILE1BQ3JCRSxFQUFhN0gsRUFBS2dCLE9BRXhCLEdBQTJCLGtCQUFoQjRHLEVBQ1QsT0FBb0IsSUFBaEJBLEdBQXlCQyxFQUFhLEVBQ2pDbEMsRUFBWSw4QkFBK0IsQ0FBRTNGLGNBR3RELEVBR0YsR0FBSWMsTUFBTUMsUUFBUTZHLEdBQWxCLENBQ0UsTUFBTUUsRUFBb0JGLEVBQVk1RyxPQUNoQytHLEVBQWNDLEtBQUtDLElBQUlILEVBQW1CRCxHQUNoRCxRQUFTNUcsRUFBSSxFQUFHQSxFQUFJOEcsRUFBYTlHLElBQUssQ0FDcEMsTUFBTWlILEVBQWFOLEVBQVkzRyxHQUMvQixHQUEwQixrQkFBZmlILEdBVVgsR0FBSXpHLEVBQWlCeUcsR0FBYSxDQUNoQyxNQUFNcEMsRUFBUW9DLEVBQVduQyxVQUFVL0YsRUFBS2lCLElBQ3hDLEdBQUk2RSxFQUNGLE9BQU9ILEVBQVksd0JBQXlCLENBQzFDL0YsS0FBTXFCLEVBQ05uQixNQUFPZ0csRUFDUDlGLEtBQU1BLEVBQUtpQixJQUdqQixPQWxCRSxJQUFtQixJQUFmaUgsUUFBMkMsSUFBWmxJLEVBQUtpQixHQUN0QyxPQUFPMEUsRUFBWSw0QkFBNkIsQ0FDOUMvRixLQUFNcUIsRUFDTmpCLEtBQU1BLEVBQUtpQixJQWdCbkIsQ0FHRixNQUVBLEdBQUlRLEVBQWlCbUcsR0FDbkIsUUFBUzNHLEVBQUksRUFBR0EsRUFBSTRHLEVBQVk1RyxJQUFLLENBQ25DLE1BQU02RSxFQUFROEIsRUFBWTdCLFVBQVUvRixFQUFLaUIsSUFDekMsR0FBSTZFLEVBQ0YsT0FBT0gsRUFBWSx3QkFBeUIsQ0FDMUMvRixLQUFNcUIsRUFDTm5CLE1BQU9nRyxFQUNQOUYsS0FBTUEsRUFBS2lCLElBR2pCLENBSUosRUFFQWtILFNBQVNsSSxFQUFRRCxFQUFNMkYsR0FDckIsR0FBSzdFLE1BQU1DLFFBQVFmLElBQVV5QixFQUFpQnhCLEVBQU9rSSxVQUlyRCxRQUFTbEgsRUFBSSxFQUFHQSxFQUFJakIsRUFBS2dCLE9BQVFDLElBQUssQ0FDcEMsTUFBTTZFLEVBQVE3RixFQUFPa0ksU0FBU3BDLFVBQVUvRixFQUFLaUIsSUFDN0MsR0FBSTZFLEVBQ0YsT0FBT0gsRUFBWSx3QkFBeUIsQ0FDMUMvRixLQUFNcUIsRUFDTm5CLE1BQU9nRyxFQUNQOUYsS0FBTUEsRUFBS2lCLElBR2pCLENBR0YsRUFFQW1ILFNBQVNuSSxFQUFRRCxFQUFNMkYsR0FDckIsR0FBSzdFLE1BQU1DLFFBQVFmLE1BQVNBLEVBQUtnQixRQUFVZixFQUFPbUksVUFJbEQsT0FBT3pDLEVBQVkscUJBQXNCLENBQUUzRixRQUM3QyxFQUVBcUksU0FBU3BJLEVBQVFELEVBQU0yRixHQUNyQixHQUFLN0UsTUFBTUMsUUFBUWYsTUFBU0EsRUFBS2dCLFFBQVVmLEVBQU9vSSxVQUlsRCxPQUFPMUMsRUFBWSxvQkFBcUIsQ0FBRTNGLFFBQzVDLEVBRUFzSSxnQkFBZ0JySSxFQUFRRCxFQUFNMkYsR0FDNUIsR0FBSzdFLE1BQU1DLFFBQVFmLElBQVVDLEVBQU8wSCxPQUFVN0csTUFBTUMsUUFBUWQsRUFBTzBILE9BQW5FLENBSUEsSUFBK0IsSUFBM0IxSCxFQUFPcUksZ0JBQ1QsT0FBSXRJLEVBQUtnQixPQUFTZixFQUFPMEgsTUFBTTNHLE9BQ3RCMkUsRUFBWSxvQkFBcUIsQ0FBRTNGLGNBRTVDLEVBR0YsR0FBSW9CLEVBQVNuQixFQUFPcUksa0JBQ2xCLEdBQUk3RyxFQUFpQnhCLEVBQU9xSSxpQkFBa0IsQ0FDNUMsUUFBU3JILEVBQUloQixFQUFPMEgsTUFBTTNHLE9BQVFDLEVBQUlqQixFQUFLZ0IsT0FBUUMsSUFBSyxDQUN0RCxNQUFNNkUsRUFBUTdGLEVBQU9xSSxnQkFBZ0J2QyxVQUFVL0YsRUFBS2lCLElBQ3BELEdBQUk2RSxFQUNGLE9BQU9ILEVBQVksd0JBQXlCLENBQzFDL0YsS0FBTXFCLEVBQ05uQixNQUFPZ0csRUFDUDlGLEtBQU1BLEVBQUtpQixJQUdqQixDQUNBLE1BQ0YsT0F0QkYsQ0E0QkYsRUFFQXNILFlBQVl0SSxFQUFRRCxFQUFNMkYsR0FDeEIsSUFBSzdFLE1BQU1DLFFBQVFmLEtBQVVDLEVBQU9zSSxZQUNsQyxPQUdGLE1BQU1DLEVBQVMsSUFBSUMsSUFFbkIsVUFBVzdJLEtBQVFJLEVBQU0sQ0FDdkIsSUFBSTBJLEVBa0JKLEdBZEVBLEVBRGtCLGlCQUFUOUksRUFDQyxLQUFLQSxJQUVOd0IsRUFBU3hCLEdBQ1IsS0FBSytJLEtBQUtDLFVBQ2xCekgsT0FBTzBILFlBQ0wxSCxPQUFPMkgsUUFBUWxKLEdBQU1tSixLQUFLLEVBQUVDLElBQUtDLEtBQU9ELEVBQUVFLGNBQWNELFFBR25EbkksTUFBTUMsUUFBUW5CLEdBQ2IrSSxLQUFLQyxVQUFVaEosR0FFZnVKLE9BQU92SixHQUdmNEksRUFBT1ksSUFBSVYsR0FDYixPQUFPL0MsRUFBWSw2QkFBOEIsQ0FBRTNGLEtBQU1KLElBRTNENEksRUFBT2EsSUFBSVgsRUFDYixDQUdGLEVBRUFZLFNBQVNySixFQUFRRCxFQUFNMkYsR0FDckIsR0FBSzdFLE1BQU1DLFFBQVFmLEdBQW5CLENBR0EsR0FBK0Isa0JBQXBCQyxFQUFPcUosU0FDaEIsT0FBSXJKLEVBQU9xSixTQUNXLElBQWhCdEosRUFBS2dCLE9BQ0EyRSxFQUFZLHVDQUF3QyxDQUFFM0YsY0FFL0QsRUFHSzJGLEVBQVksbUNBQW9DLENBQUUzRixTQUczRCxRQUFTaUIsRUFBSSxFQUFHQSxFQUFJakIsRUFBS2dCLE9BQVFDLElBQUssQ0FFcEMsSUFEY2hCLEVBQU9xSixTQUFTdkQsVUFBVS9GLEVBQUtpQixJQUUzQyxNQUdKLENBRUEsT0FBTzBFLEVBQVksdUNBQXdDLENBQUUzRixRQXBCN0QsQ0FxQkYsTUNoTTZELENBQzdEdUosVUFBVXRKLEVBQVFELEVBQU0yRixHQUN0QixLQUFvQixpQkFBVDNGLEdBQXFCQSxFQUFLZ0IsUUFBVWYsRUFBT3NKLFdBSXRELE9BQU81RCxFQUFZLDJDQUE0QyxDQUFFM0YsUUFDbkUsRUFFQXdKLFVBQVV2SixFQUFRRCxFQUFNMkYsR0FDdEIsS0FBb0IsaUJBQVQzRixHQUFxQkEsRUFBS2dCLFFBQVVmLEVBQU91SixXQUl0RCxPQUFPN0QsRUFBWSwwQ0FBMkMsQ0FBRTNGLFFBQ2xFLEVBRUF3RyxRQUFRdkcsRUFBUUQsRUFBTTJGLEdBQ3BCLEdBQW9CLGlCQUFUM0YsRUFDVCxPQUdGLE1BQU15SixFQUFnQixJQUFJdEYsT0FBT2xFLEVBQU91RyxRQUFTLEtBRWpELE9BQUlpRCxhQUF5QnRGLFNBQVcsRUFDL0J3QixFQUFZLDZCQUE4QixDQUFFM0YsU0FHakR5SixFQUFjaEcsS0FBS3pELFFBQXZCLEVBSU8yRixFQUFZLG1DQUFvQyxDQUFFM0YsUUFDM0QsRUFFQTBKLE9BQU96SixFQUFRRCxFQUFNMkYsRUFBYWdFLEdBQ2hDLEdBQW9CLGlCQUFUM0osRUFDVCxPQUdGLE1BQU00SixFQUFpQkQsRUFBU0UsVUFBVTVKLEVBQU95SixRQUNqRCxJQUF1QixJQUFuQkUsRUFBSixDQUlBLEdBQUlBLEVBQWdCLENBQ2xCLEdBQUlBLEVBQWU1SixHQUNqQixPQUdGLE9BQU8yRixFQUFZLGtDQUFtQyxDQUFFM0YsUUFDMUQsQ0FFQSxPQUFPMkYsRUFBWSwwQkFBMkIsQ0FBRTNGLFFBVmhELENBV0YsTUNyRDZELENBQzdEOEosUUFBUTdKLEVBQVFELEVBQU0yRixFQUFhZ0UsR0FDakMsR0FBb0IsaUJBQVQzSixFQUNULE9BR0YsSUFBSWlJLEVBQU1oSSxFQUFPNkosUUFPakIsTUFOdUMsaUJBQTVCN0osRUFBTzhKLGlCQUNoQjlCLEVBQU1oSSxFQUFPOEosaUJBQW1CLE9BQ0ssSUFBNUI5SixFQUFPOEosbUJBQ2hCOUIsR0FBTyxPQUdMakksRUFBT2lJLEVBQ0Z0QyxFQUFZLGlDQUFrQyxDQUFFM0YsY0FEekQsQ0FLRixFQUVBZ0ssUUFBUS9KLEVBQVFELEVBQU0yRixFQUFhZ0UsR0FDakMsR0FBb0IsaUJBQVQzSixFQUNULE9BR0YsSUFBSWlLLEVBQU1oSyxFQUFPK0osUUFPakIsTUFOdUMsaUJBQTVCL0osRUFBT2lLLGlCQUNoQkQsRUFBTWhLLEVBQU9pSyxpQkFBbUIsT0FDSyxJQUE1QmpLLEVBQU9pSyxtQkFDaEJELEdBQU8sT0FHTGpLLEVBQU9pSyxFQUNGdEUsRUFBWSxvQ0FBcUMsQ0FBRTNGLGNBRDVELENBS0YsRUFFQW1LLFdBQVdsSyxFQUFRRCxFQUFNMkYsRUFBYWdFLEdBQ3BDLEdBQW9CLGlCQUFUM0osRUFDVCxPQUdGLE1BQU1vSyxFQUFXcEssRUFBT0MsRUFBT2tLLFdBRS9CLE9BQUtFLFNBQVNELEdQMERYLFNBQXdCcEIsRUFBR0MsRUFBR3FCLEVBQVUsT0FDN0MsT0FBT3RDLEtBQUt1QyxJQUFJdkIsRUFBSUMsSUFBTXFCLEVBQVV0QyxLQUFLaUMsSUFBSWpDLEtBQUt1QyxJQUFJdkIsR0FBSWhCLEtBQUt1QyxJQUFJdEIsR0FDckUsQ094RFN1QixDQUFlSixFQUFVcEMsS0FBS3lDLE1BQU1MLFNBQXpDLEVBQ1N6RSxFQUFZLDRDQUE2QyxDQUFFM0YsY0FMcEUsQ0FTRixFQUVBK0osaUJBQWlCOUosRUFBUUQsRUFBTTJGLEVBQWFnRSxHQUMxQyxHQUNrQixpQkFBVDNKLEdBQzRCLGlCQUE1QkMsRUFBTzhKLG9CQUNkLFlBQWE5SixHQUtmLE9BQUlELEdBQVFDLEVBQU84SixpQkFBbUIsTUFDN0JwRSxFQUFZLDREQURyQixDQUtGLEVBRUF1RSxpQkFBaUJqSyxFQUFRRCxFQUFNMkYsRUFBYWdFLEdBQzFDLEdBQ2tCLGlCQUFUM0osR0FDNEIsaUJBQTVCQyxFQUFPaUssb0JBQ2QsWUFBYWpLLEdBS2YsT0FBSUQsR0FBUUMsRUFBT2lLLGlCQUNWdkUsRUFDTCx5REFDQSxDQUFFM0YsY0FITixDQVFGLE1DekY0RCxDQUM1RDBLLEtBQUt6SyxFQUFRRCxFQUFNMkYsR0FFakIsTUFBTTVFLEVBQVVELE1BQU1DLFFBQVFmLEdBQ3hCb0IsRUFBMkIsaUJBQVRwQixHQUE4QixPQUFUQSxFQUU3QyxRQUFTaUIsRUFBSSxFQUFHQSxFQUFJaEIsRUFBT3lLLEtBQUsxSixPQUFRQyxJQUFLLENBQzNDLE1BQU0wSixFQUFXMUssRUFBT3lLLEtBQUt6SixHQUc3QixHQUFJMEosSUFBYTNLLEVBQ2YsT0FJRixJQUNHZSxHQUFXRCxNQUFNQyxRQUFRNEosSUFDekJ2SixHQUFnQyxpQkFBYnVKLEdBQXNDLE9BQWJBLElBRXpDaEssRUFBVWdLLEVBQVUzSyxHQUN0QixNQUdOLENBRUEsT0FBTzJGLEVBQVkseUNBQTBDLENBQUUzRixRQUNqRSxFQUVBNEssTUFBTTNLLEVBQVFELEVBQU0yRixHQUNsQixRQUFTMUUsRUFBSSxFQUFHQSxFQUFJaEIsRUFBTzJLLE1BQU01SixPQUFRQyxJQUN2QyxHQUFJRyxFQUFTbkIsRUFBTzJLLE1BQU0zSixLQUN4QixHQUFJLGNBQWVoQixFQUFPMkssTUFBTTNKLEdBQUksQ0FDbEMsTUFBTTZFLEVBQVE3RixFQUFPMkssTUFBTTNKLEdBQUc4RSxVQUFVL0YsR0FDeEMsR0FBSThGLEVBQ0YsT0FBT0gsRUFBWSxxQkFBc0IsQ0FBRTdGLE1BQU9nRyxFQUFPOUYsUUFFN0QsT0FJRixHQUErQixrQkFBcEJDLEVBQU8ySyxNQUFNM0osSUFPeEIsR0FBSWpCLElBQVNDLEVBQU8ySyxNQUFNM0osR0FDeEIsT0FBTzBFLEVBQVkscUJBQXNCLENBQUUzRixjQVAzQyxHQUFJNkssUUFBUTdLLEtBQVVDLEVBQU8ySyxNQUFNM0osR0FDakMsT0FBTzBFLEVBQVkscUJBQXNCLENBQUUzRixRQVduRCxFQUVBOEssTUFBTTdLLEVBQVFELEVBQU0yRixHQUNsQixRQUFTMUUsRUFBSSxFQUFHQSxFQUFJaEIsRUFBTzZLLE1BQU05SixPQUFRQyxJQUFLLENBQzVDLEdBQUlHLEVBQVNuQixFQUFPNkssTUFBTTdKLElBQUssQ0FDN0IsR0FBSSxjQUFlaEIsRUFBTzZLLE1BQU03SixHQUFJLENBRWxDLElBRGNoQixFQUFPNkssTUFBTTdKLEdBQUc4RSxVQUFVL0YsR0FFdEMsT0FFRixRQUNGLENBQ0EsTUFDRixDQUNFLEdBQStCLGtCQUFwQkMsRUFBTzZLLE1BQU03SixJQUNsQjRKLFFBQVE3SyxLQUFVQyxFQUFPNkssTUFBTTdKLEdBQ2pDLE9BSUosR0FBSWpCLElBQVNDLEVBQU82SyxNQUFNN0osR0FDeEIsTUFHTixDQUVBLE9BQU8wRSxFQUFZLHFCQUFzQixDQUFFM0YsUUFDN0MsRUFFQStLLE1BQU05SyxFQUFRRCxFQUFNMkYsR0FDbEIsSUFBSXFGLEVBQWEsRUFDakIsUUFBUy9KLEVBQUksRUFBR0EsRUFBSWhCLEVBQU84SyxNQUFNL0osT0FBUUMsSUFDdkMsR0FBSUcsRUFBU25CLEVBQU84SyxNQUFNOUosSUFBMUIsQ0FDRSxHQUFJLGNBQWVoQixFQUFPOEssTUFBTTlKLEdBQUksQ0FDcEJoQixFQUFPOEssTUFBTTlKLEdBQUc4RSxVQUFVL0YsSUFFdENnTCxJQUVGLFFBQ0YsQ0FDQUEsR0FhRixLQVZpQyxrQkFBcEIvSyxFQUFPOEssTUFBTTlKLEdBT3BCakIsSUFBU0MsRUFBTzhLLE1BQU05SixJQUN4QitKLElBUElILFFBQVE3SyxLQUFVQyxFQUFPOEssTUFBTTlKLElBQ2pDK0osSUFXUixHQUFtQixJQUFmQSxFQUlKLE9BQU9yRixFQUFZLHFCQUFzQixDQUFFM0YsUUFDN0MsRUFFQWlMLE1BQU1oTCxFQUFRRCxFQUFNMkYsR0FDbEIsS0FDRTNGLElBQVNDLEVBQU9nTCxPQUNmN0osRUFBU3BCLElBQ1JvQixFQUFTbkIsRUFBT2dMLFFBQ2hCdEssRUFBVVgsRUFBTUMsRUFBT2dMLFFBQ3hCbkssTUFBTUMsUUFBUWYsSUFDYmMsTUFBTUMsUUFBUWQsRUFBT2dMLFFBQ3JCdEssRUFBVVgsRUFBTUMsRUFBT2dMLFFBSTNCLE9BQU90RixFQUFZLHFCQUFzQixDQUFFM0YsUUFDN0MsRUFFQWtMLEdBQUdqTCxFQUFRRCxFQUFNMkYsR0FDZixHQUFJLFNBQVUxRixJQUFXLEdBQVMsU0FBVUEsSUFBVyxFQUNyRCxPQUVGLEdBQXlCLGtCQUFkQSxFQUFPaUwsR0FBa0IsQ0FDbEMsR0FBSWpMLEVBQU9pTCxJQUNULEdBQUl6SixFQUFpQnhCLEVBQU80RyxNQUMxQixPQUFPNUcsRUFBTzRHLEtBQUtkLFVBQVUvRixRQUVqQyxHQUFXeUIsRUFBaUJ4QixFQUFPNkcsTUFDakMsT0FBTzdHLEVBQU82RyxLQUFLZixVQUFVL0YsR0FFL0IsTUFDRixDQUVBLElBQUt5QixFQUFpQnhCLEVBQU9pTCxJQUMzQixPQUlGLE9BRGNqTCxFQUFPaUwsR0FBR25GLFVBQVUvRixHQU81QnlCLEVBQWlCeEIsRUFBTzZHLE1BQ25CN0csRUFBTzZHLEtBQUtmLFVBQVUvRixRQUUvQixFQVJJeUIsRUFBaUJ4QixFQUFPNEcsTUFDbkI1RyxFQUFPNEcsS0FBS2QsVUFBVS9GLFFBRS9CLENBT0osRUFFQW1MLElBQUlsTCxFQUFRRCxFQUFNMkYsR0FDaEIsR0FBMEIsa0JBQWYxRixFQUFPa0wsSUFDaEIsT0FBSWxMLEVBQU9rTCxJQUNGeEYsRUFBWSxxQkFBc0IsQ0FBRTNGLGNBRTdDLEVBR0YsR0FBSW9CLEVBQVNuQixFQUFPa0wsS0FBTSxDQUN4QixHQUFJLGNBQWVsTCxFQUFPa0wsSUFBSyxDQUM3QixNQUFNckYsRUFBUTdGLEVBQU9rTCxJQUFJcEYsVUFBVS9GLEdBQ25DLE9BQUs4RixPQUdMLEVBRlNILEVBQVkscUJBQXNCLENBQUU3RixNQUFPZ0csRUFBTzlGLFFBRzdELENBQ0EsT0FBTzJGLEVBQVkscUJBQXNCLENBQUUzRixRQUM3QyxDQUVBLE9BQU8yRixFQUFZLHFCQUFzQixDQUFFM0YsUUFDN0MsSSxnQkM5SUssTUFDR29MLE1BQThDLENBQUMsRUFDL0NDLFFBQWtELENBQUMsRUFDbkQ1RixTQUFvRCxDQUFDLEVBQ3JENkYsV0FBWSxFQUVwQi9KLGFBQVkrSixVQUNWQSxHQUFZLEdBR1YsQ0FBQyxHQUNIbEwsS0FBS2tMLFVBQVlBLEVBRWpCLFVBQVlDLEVBQU1DLEtBQWNySyxPQUFPMkgsUUFBUXRFLEdBQ3pDZ0gsR0FDRnBMLEtBQUtxTCxRQUFRRixFQUFNQyxHQUl2QixVQUFZM0wsRUFBUzJMLEtBQWNySyxPQUFPMkgsUUFBUXJELEdBQ2hEckYsS0FBS3NMLFdBQVc3TCxFQUFTMkwsR0FHM0IsVUFBWTlCLEVBQVE4QixLQUFjckssT0FBTzJILFFBQVF4RyxHQUMzQ2tKLEdBQ0ZwTCxLQUFLdUwsVUFBVWpDLEVBQVE4QixFQUc3QixDQUVBQyxRQUFRakssRUFBY2dLLEVBQXlCSSxHQUFZLEdBQ3pELEdBQUl4TCxLQUFLZ0wsTUFBTTVKLEtBQVVvSyxFQUN2QixNQUFNLElBQUluTSxFQUFnQixTQUFTK0IscUJBRXJDcEIsS0FBS2dMLE1BQU01SixHQUFRZ0ssQ0FDckIsQ0FFQUssUUFBUU4sR0FDTixPQUFPbkwsS0FBS2dMLE1BQU1HLEVBQ3BCLENBRUFJLFVBQVVuSyxFQUFjZ0ssRUFBMkJJLEdBQVksR0FDN0QsR0FBSXhMLEtBQUtpTCxRQUFRN0osS0FBVW9LLEVBQ3pCLE1BQU0sSUFBSW5NLEVBQWdCLFdBQVcrQixxQkFFdkNwQixLQUFLaUwsUUFBUTdKLEdBQVFnSyxDQUN2QixDQUVBM0IsVUFBVUgsR0FDUixPQUFPdEosS0FBS2lMLFFBQVEzQixFQUN0QixDQUVBZ0MsV0FBV2xLLEVBQWNnSyxFQUE0QkksR0FBWSxHQUMvRCxHQUFJeEwsS0FBS3FGLFNBQVNqRSxLQUFVb0ssRUFDMUIsTUFBTSxJQUFJbk0sRUFBZ0IsWUFBWStCLHFCQUV4Q3BCLEtBQUtxRixTQUFTakUsR0FBUWdLLENBQ3hCLENBRUFNLFdBQVdqTSxHQUNULE9BQU9PLEtBQUtxRixTQUFTNUYsRUFDdkIsQ0FFQWtNLFFBQVE5TCxHQUNOLE1BQU0rTCxFQUFpQjVMLEtBQUs2TCxjQUFjaE0sR0FDMUMsSUFBSytMLEVBQWVqRyxVQUFXLENBQzdCLElBQWtDLElBQTlCM0YsS0FBSzhMLGFBQWFqTSxHQUNwQixNQUFNLElBQUlSLEVBQWdCLGtCQUc1QnVNLEVBQWVqRyxVQUFZdEYsRUFDekIsTUFDQSxPQUVKLENBRUEsTUFBTTBMLEVBQXVCbk0sSUFDM0IsTUFBTW9NLEVBQWFoTSxLQUFLa0wsVUFBWWpLLEVBQVVyQixHQUFRQSxFQUNoRDhGLEVBQVFrRyxFQUFlakcsVUFBVXFHLEdBRXZDLE1BQU8sQ0FDTHBNLEtBQU1vTSxFQUNOdEcsTUFBT0EsR0FBZ0IsS0FDdkJ1RyxPQUFRdkcsRUFDVixFQUtGLE9BRkFxRyxFQUFTSCxlQUFpQkEsRUFFbkJHLENBQ1QsQ0FFUUYsY0FBY2hNLEdBQ2ZtQixFQUFTbkIsS0FFVkEsR0FEYSxJQUFYQSxFQUNPLENBQ1A2SyxNQUFPLENBQUMsQ0FBQyxLQUVTLElBQVg3SyxFQUNBLENBQ1A4SyxNQUFPLElBR0EsQ0FDUEEsTUFBTyxDQUFDOUssS0FLZCxNQUFNK0wsRUFBaUMsSUFBSy9MLEdBQ3RDcU0sRUFBa0JoTSxFQUE4QixPQUFRTCxHQUN4RHNNLEVBQWtDLEdBRXhDLElBQUlDLEVBQWEsR0FFakIsR0FBSSxTQUFVdk0sRUFBUSxDQUNwQixNQUFNbUwsRUFBUXRLLE1BQU1DLFFBQVFkLEVBQU9zTCxNQUMvQnRMLEVBQU9zTCxLQUNQdEwsRUFBT3NMLEtBQUtrQixNQUFNLEtBQUtDLElBQUtDLEdBQU1BLEVBQUVDLFFBRXhDLFVBQVdyQixLQUFRSCxFQUFPLENBQ3hCLE1BQU1JLEVBQVlwTCxLQUFLeUwsUUFBUU4sR0FDM0JDLElBQ0ZlLEVBQWdCTSxLQUFLckIsR0FDckJnQixJQUFlQSxFQUFhLE9BQVMsSUFBTWhCLEVBQVVoSyxLQUV6RCxDQUVBLE1BQU1zTCxFQUF3QlAsRUFBZ0J2TCxPQUU5QyxHQUE4QixJQUExQjhMLEVBQ0YsTUFBTVIsRUFBZ0IsMEJBQTJCLENBQUV0TSxLQUFNQyxFQUFPc0wsT0FHbEUsR0FBOEIsSUFBMUJ1QixFQUE2QixDQUMvQixNQUFNQyxFQUFpQlIsRUFBZ0IsR0FDdkNQLEVBQWVqRyxVQUFZdEYsRUFDekIrTCxFQUNDeE0sSUFDQyxJQUFJK00sRUFBZS9NLEdBR25CLE9BQU9zTSxFQUFnQixlQUFnQixDQUFFdE0sUUFBTSxFQUdyRCxNQUFXOE0sRUFBd0IsSUFDakNkLEVBQWVqRyxVQUFZdEYsRUFDekIrTCxFQUNDeE0sSUFDQyxRQUFTaUIsRUFBSSxFQUFHQSxFQUFJNkwsRUFBdUI3TCxJQUN6QyxHQUFJc0wsRUFBZ0J0TCxHQUFHakIsR0FDckIsT0FHSixPQUFPc00sRUFBZ0IsZUFBZ0IsQ0FBRXRNLFFBQU0sR0FJdkQsQ0FFQSxVQUFXTyxLQUFPWSxPQUFPRCxLQUFLakIsR0FBUyxDQUNyQyxHQUFZLFNBQVJNLEVBQWdCLENBQ2xCeUwsRUFBZVQsS0FBT3RMLEVBQU9zTCxLQUM3QixRQUNGLENBRUEsTUFBTXlCLEVBQW1CNU0sS0FBSzBMLFdBQVd2TCxHQUN6QyxHQUFJeU0sRUFBa0IsQ0FDcEIsTUFBTXJILEVBQWNyRixFQUE4QkMsRUFBS04sRUFBT00sSUFDeEQwTSxFQUEyQmpOLEdBQzlCZ04sRUFDQ2hCLEVBQ0FoTSxFQUNBMkYsRUFDQXZGLE1BR0osR0FBSTRMLEVBQWVqRyxVQUFXLENBQzVCLE1BQU1tSCxFQUFnQmxCLEVBQWVqRyxVQUNyQ3lHLEdBQWMsUUFBUVEsRUFBaUJ4TCxPQUN2Q3dLLEVBQWVqRyxVQUFZdEYsRUFDekIrTCxFQUNDeE0sSUFDQyxNQUFNOEYsRUFBUW9ILEVBQWNsTixHQUM1QixHQUFJOEYsRUFDRixPQUFPQSxFQUVULE1BQU1xSCxFQUFlRixFQUF3QmpOLEdBQzdDLE9BQUltTixRQUFKLENBRUEsRUFHTixNQUNFWCxFQUFhUSxFQUFpQnhMLEtBQzlCd0ssRUFBZWpHLFVBQVl0RixFQUN6QitMLEVBQ0FTLEVBR04sQ0FFSTdMLEVBQVNuQixFQUFPTSxJQUNsQnlMLEVBQWV6TCxHQUFPSCxLQUFLNkwsY0FBY2hNLEVBQU9NLElBSTlDTyxNQUFNQyxRQUFRZCxFQUFPTSxJQUN2QnlMLEVBQWV6TCxHQUFPTixFQUFPTSxHQUFLbU0sSUFBSSxDQUFDaEwsRUFBVzBMLElBQ2hEaE4sS0FBSzhMLGFBQWF4SyxHQUNkdEIsS0FBSzZMLGNBQWN2SyxHQUNuQkEsR0FLUnNLLEVBQWV6TCxHQUFPTixFQUFPTSxFQUMvQixDQUVBLE9BQU95TCxDQUNULENBRUFFLGFBQWF4SyxHQUNYLEdBQUlOLEVBQVNNLEdBQVksQ0FDdkIsR0FBSSxTQUFVQSxFQUNaLE9BQU8sRUFHVCxRQUFTMkwsS0FBVTNMLEVBQ2pCLEdBQUkyTCxLQUFVak4sS0FBS3FGLFNBQ2pCLE9BQU8sQ0FHYixDQUNBLE9BQU8sQ0FDVCxJIn0=