//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWYWxpZGF0aW9uRXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJpdGVtIiwia2V5d29yZCIsImNhdXNlIiwic2NoZW1hUGF0aCIsImluc3RhbmNlUGF0aCIsImRhdGEiLCJzY2hlbWEiLCJfZ2V0Q2F1c2UiLCJwb2ludGVyIiwiaW5zdGFuY2VQb2ludGVyIiwidGhpcyIsImdldENhdXNlIiwiX2dldFRyZWUiLCJ0cmVlIiwiZ2V0VHJlZSIsImdldFBhdGgiLCJGQUlMX0ZBU1RfREVGSU5FX0VSUk9SIiwiZ2V0RGVmaW5lZEVycm9yRnVuY3Rpb25Gb3JLZXkiLCJrZXkiLCJmYWlsRmFzdCIsIktleXdvcmRFcnJvciIsImdldE5hbWVkRnVuY3Rpb24iLCJvcHRpb25zIiwiaGFzQ2hhbmdlZCIsInByZXYiLCJjdXJyZW50IiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiaSIsIk9iamVjdCIsImlzIiwiaXNPYmplY3QiLCJkZWVwQ2xvbmUiLCJvYmoiLCJjbG9uZUNsYXNzSW5zdGFuY2VzIiwic2VlbiIsIldlYWtNYXAiLCJoYXMiLCJnZXQiLCJjbG9uZSIsInN0cnVjdHVyZWRDbG9uZSIsInNldCIsImwiLCJEYXRlIiwiZ2V0VGltZSIsIlJlZ0V4cCIsInNvdXJjZSIsImZsYWdzIiwiTWFwIiwidmFsdWUiLCJlbnRyaWVzIiwiU2V0IiwidmFsdWVzIiwiYWRkIiwiQXJyYXlCdWZmZXIiLCJzbGljZSIsImlzVmlldyIsImNvbnN0cnVjdG9yIiwiYnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsIlByb21pc2UiLCJXZWFrU2V0IiwiY3JlYXRlIiwiZ2V0UHJvdG90eXBlT2YiLCJrZXlzIiwiUmVmbGVjdCIsIm93bktleXMiLCJkZXNjcmlwdG9ycyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZXNjcmlwdG9yIiwiZGVmaW5lUHJvcGVydHkiLCJpc0NvbXBpbGVkU2NoZW1hIiwic3ViU2NoZW1hIiwibmFtZSIsImZuIiwiVVVJRF9SRUdFWCIsIkRVUkFUSU9OX1JFR0VYIiwiREFURV9USU1FX1JFR0VYIiwiVVJJX1JFR0VYIiwiRU1BSUxfUkVHRVgiLCJJUFY0X1JFR0VYIiwiSVBWNl9SRUdFWCIsIklQVjZfU0hPUlRfUkVHRVgiLCJJUFY2X0ZVTExfUkVHRVgiLCJJUFY2X0lOVkFMSURfQ0hBUl9SRUdFWCIsIklQVjZfRkFTVF9GQUlMX1JFR0VYIiwiSE9TVE5BTUVfUkVHRVgiLCJEQVRFX1JFR0VYIiwiSlNPTl9QT0lOVEVSX1JFR0VYIiwiUkVMQVRJVkVfSlNPTl9QT0lOVEVSX1JFR0VYIiwiVElNRV9SRUdFWCIsIlVSSV9SRUZFUkVOQ0VfUkVHRVgiLCJVUklfVEVNUExBVEVfUkVHRVgiLCJJUklfUkVHRVgiLCJJUklfUkVGRVJFTkNFX1JFR0VYIiwiSUROX0VNQUlMX1JFR0VYIiwiSUROX0hPU1ROQU1FX1JFR0VYIiwiQkFDS19TTEFTSF9SRUdFWCIsIkRBWVNfSU5fTU9OVEgiLCJGb3JtYXRzIiwibWF0Y2giLCJ5ZWFyU3RyIiwibW9udGhTdHIiLCJkYXlTdHIiLCJob3VyU3RyIiwibWludXRlU3RyIiwic2Vjb25kU3RyIiwieWVhciIsIk51bWJlciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsIm1heERheXMiLCJ1cmkiLCJ0ZXN0IiwiZW1haWwiLCJpcHY0IiwiaXB2NiIsImluZGV4T2YiLCJoYXNJcHY0IiwiYWRkcmVzc1BhcnRzIiwic3BsaXQiLCJpcHY0UGFydCIsInBvcCIsImlzU2hvcnRlbmVkIiwiaXB2NlBhcnQiLCJqb2luIiwiaXNJcHY2VmFsaWQiLCJoYXNJbnZhbGlkQ2hhciIsImhvc3RuYW1lIiwiZGF0ZSIsImV4ZWMiLCJyZWdleCIsImUiLCJ0aW1lIiwiZHVyYXRpb24iLCJ1dWlkIiwiaXJpIiwiVHlwZXMiLCJvYmplY3QiLCJhcnJheSIsInN0cmluZyIsIm51bWJlciIsImludGVnZXIiLCJib29sZWFuIiwibnVsbCIsInRpbWVzdGFtcCIsImludDgiLCJ1bml0OCIsImludDE2IiwidW5pdDE2IiwiaW50MzIiLCJ1bml0MzIiLCJmbG9hdDMyIiwiZmxvYXQ2NCIsImtleXdvcmRzIiwicmVxdWlyZWQiLCJkZWZpbmVFcnJvciIsImhhc093blByb3BlcnR5IiwicHJvcGVydGllcyIsInByb3BLZXlzIiwiX3Byb3BLZXlzIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwicmVxdWlyZWRLZXlzIiwiX3JlcXVpcmVkS2V5cyIsInNjaGVtYVByb3AiLCJwcm90b3R5cGUiLCJjYWxsIiwiZXJyb3IiLCIkdmFsaWRhdGUiLCJkZWZhdWx0IiwidmFsdWVTY2hlbWEiLCJ2YWxpZGF0ZSIsIm1heFByb3BlcnRpZXMiLCJtaW5Qcm9wZXJ0aWVzIiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJhcElzQ29tcGlsZWQiLCJfYXBJc0NvbXBpbGVkIiwicGF0dGVybkxpc3QiLCJfcGF0dGVyblByb3BlcnRpZXNMaXN0IiwicGF0dGVyblByb3BlcnRpZXMiLCJwYXR0ZXJuIiwicHVzaCIsImoiLCJwYXR0ZXJucyIsImRhdGFLZXlzIiwicCIsInBhdHRlcm5LZXkiLCJwcm9wZXJ0eU5hbWVzIiwicG4iLCJkZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmN5IiwidGhlbiIsImVsc2UiLCJkZWZpbml0aW9ucyIsIiRpZCIsIiRzY2hlbWEiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiJGNvbW1lbnQiLCJleGFtcGxlcyIsImNvbnRlbnRNZWRpYVR5cGUiLCJjb250ZW50RW5jb2RpbmciLCJkaXNjcmltaW5hdG9yIiwibnVsbGFibGUiLCJpdGVtcyIsInNjaGVtYUl0ZW1zIiwiZGF0YUxlbmd0aCIsInNjaGVtYUl0ZW1zTGVuZ3RoIiwiaXRlbXNMZW5ndGgiLCJzY2hlbWFJdGVtIiwiZWxlbWVudHMiLCJlbGVtZW50c1NjaGVtYSIsIm1pbkl0ZW1zIiwibWF4SXRlbXMiLCJhZGRpdGlvbmFsSXRlbXMiLCJ1bmlxdWVJdGVtcyIsImxlbiIsInByaW1pdGl2ZVNlZW4iLCJ0eXBlIiwiY29udGFpbnMiLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJwYXR0ZXJuUmVnZXhwIiwiX3BhdHRlcm5SZWdleHAiLCJmb3JtYXQiLCJpbnN0YW5jZSIsImZvcm1hdFZhbGlkYXRlIiwiX2Zvcm1hdFZhbGlkYXRlIiwiZ2V0Rm9ybWF0IiwibWluaW11bSIsIm1pbiIsImV4Y2x1c2l2ZU1pbmltdW0iLCJtYXhpbXVtIiwibWF4IiwiZXhjbHVzaXZlTWF4aW11bSIsIm11bHRpcGxlT2YiLCJxdW90aWVudCIsImlzRmluaXRlIiwiYSIsImIiLCJlcHNpbG9uIiwiTWF0aCIsImFicyIsImFyZUNsb3NlRW5vdWdoIiwicm91bmQiLCJlbnVtIiwibGlzdCIsImVudW1JdGVtIiwiYWxsT2YiLCJCb29sZWFuIiwiYW55T2YiLCJvbmVPZiIsInZhbGlkQ291bnQiLCJzdWIiLCJjb25zdCIsImlmIiwibm90IiwiJHJlZiIsIl9yZXNvbHZlZFJlZiIsInJlZlBhdGgiLCJ0YXJnZXRTY2hlbWEiLCJnZXRTY2hlbWFSZWYiLCJnZXRTY2hlbWFCeUlkIiwidHlwZXMiLCJmb3JtYXRzIiwiaW1tdXRhYmxlIiwicm9vdFNjaGVtYSIsImlkUmVnaXN0cnkiLCJ2YWxpZGF0b3IiLCJhZGRUeXBlIiwiYWRkS2V5d29yZCIsImFkZEZvcm1hdCIsIm92ZXJ3cml0ZSIsImdldFR5cGUiLCJnZXRLZXl3b3JkIiwicGF0aCIsInJvb3QiLCJzdGFydHNXaXRoIiwicGFydHMiLCJwYXJ0IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicmVwbGFjZSIsImluY2x1ZGVzIiwiZGVmcyIsImVuZHNXaXRoIiwicmVzb2x2ZVBhdGgiLCJpZCIsImNvbXBpbGUiLCJjbGVhciIsImNvbXBpbGVkU2NoZW1hIiwiY29tcGlsZVNjaGVtYSIsImxpbmtSZWZlcmVuY2VzIiwiaXNTY2hlbWFMaWtlIiwiY2xvbmVkRGF0YSIsInJlcyIsInZhbGlkIiwicmVmVmFsaWRhdG9yIiwidmFsaWRhdG9ycyIsImFjdGl2ZU5hbWVzIiwiZGVmaW5lVHlwZUVycm9yIiwibWFwIiwidCIsInRyaW0iLCJ0eXBlRnVuY3Rpb25zIiwidHlwZU5hbWVzIiwiY29tYmluZWRUeXBlVmFsaWRhdG9yIiwidHlwZU1ldGhvZE5hbWUiLCJzaW5nbGVUeXBlRm4iLCJ0eXBlQWRhcHRlciIsIl9zIiwib3RoZXJLZXlzIiwia2V5T3JkZXIiLCJrZXl3b3JkRm4iLCJmbk5hbWUiLCJsaXRlcmFsS2V5d29yZHMiLCJzdWJLZXkiLCJ2IiwiY29tcG9zaXRlTmFtZSIsIm1hc3RlclZhbGlkYXRvciIsInN0YWNrIiwibm9kZSIsInRhcmdldCIsIl9kYXRhIl0sInNvdXJjZXMiOlsiLi4vbGliL3V0aWxzLnRzIiwiLi4vbGliL2Zvcm1hdHMudHMiLCIuLi9saWIvdHlwZXMudHMiLCIuLi9saWIva2V5d29yZHMudHMiLCIuLi9saWIva2V5d29yZHMvb2JqZWN0LWtleXdvcmRzLnRzIiwiLi4vbGliL2tleXdvcmRzL2FycmF5LWtleXdvcmRzLnRzIiwiLi4vbGliL2tleXdvcmRzL3N0cmluZy1rZXl3b3Jkcy50cyIsIi4uL2xpYi9rZXl3b3Jkcy9udW1iZXIta2V5d29yZHMudHMiLCIuLi9saWIva2V5d29yZHMvb3RoZXIta2V5d29yZHMudHMiLCIuLi9saWIvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcGlsZWRTY2hlbWEgfSBmcm9tIFwiLi9pbmRleFwiO1xuXG5pbnRlcmZhY2UgRXJyb3JUcmVlIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBrZXl3b3JkOiBzdHJpbmc7XG4gIGl0ZW0/OiBzdHJpbmcgfCBudW1iZXI7XG4gIHNjaGVtYVBhdGg6IHN0cmluZztcbiAgaW5zdGFuY2VQYXRoOiBzdHJpbmc7XG4gIGRhdGE/OiBhbnk7XG4gIGNhdXNlPzogRXJyb3JUcmVlO1xufVxuXG5leHBvcnQgY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGl0ZW0/OiBzdHJpbmcgfCBudW1iZXI7XG4gIGtleXdvcmQ6IHN0cmluZztcbiAgY2F1c2U/OiBWYWxpZGF0aW9uRXJyb3I7XG4gIHNjaGVtYVBhdGg6IHN0cmluZyA9IFwiXCI7XG4gIGluc3RhbmNlUGF0aDogc3RyaW5nID0gXCJcIjtcbiAgZGF0YT86IGFueTtcbiAgc2NoZW1hPzogQ29tcGlsZWRTY2hlbWE7XG5cbiAgcHJpdmF0ZSBfZ2V0Q2F1c2UocG9pbnRlciA9IFwiI1wiLCBpbnN0YW5jZVBvaW50ZXIgPSBcIiNcIik6IFZhbGlkYXRpb25FcnJvciB7XG4gICAgbGV0IHNjaGVtYVBhdGggPSBgJHtwb2ludGVyfS8ke3RoaXMua2V5d29yZH1gO1xuICAgIGxldCBpbnN0YW5jZVBhdGggPSBgJHtpbnN0YW5jZVBvaW50ZXJ9YDtcbiAgICBpZiAodHlwZW9mIHRoaXMuaXRlbSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLml0ZW0gPT09IFwic3RyaW5nXCIgJiYgdGhpcy5pdGVtIGluIHRoaXMuc2NoZW1hKSB7XG4gICAgICAgIHNjaGVtYVBhdGggKz0gYC8ke3RoaXMuaXRlbX1gO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2VQYXRoICs9IGAvJHt0aGlzLml0ZW19YDtcbiAgICB9XG5cbiAgICB0aGlzLmluc3RhbmNlUGF0aCA9IGluc3RhbmNlUGF0aDtcbiAgICB0aGlzLnNjaGVtYVBhdGggPSBzY2hlbWFQYXRoO1xuXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gY2F1c2Ugb3IgdGhlIGNhdXNlIGlzIG5vdCBhIFZhbGlkYXRpb25FcnJvciwgcmV0dXJuIHRoaXNcbiAgICBpZiAoIXRoaXMuY2F1c2UgfHwgISh0aGlzLmNhdXNlIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2F1c2UuX2dldENhdXNlKHNjaGVtYVBhdGgsIGluc3RhbmNlUGF0aCk7XG4gIH1cblxuICBnZXRDYXVzZSgpOiBWYWxpZGF0aW9uRXJyb3Ige1xuICAgIHJldHVybiB0aGlzLl9nZXRDYXVzZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0VHJlZSgpOiBFcnJvclRyZWUge1xuICAgIGNvbnN0IHRyZWU6IEVycm9yVHJlZSA9IHtcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIGtleXdvcmQ6IHRoaXMua2V5d29yZCxcbiAgICAgIGl0ZW06IHRoaXMuaXRlbSxcbiAgICAgIHNjaGVtYVBhdGg6IHRoaXMuc2NoZW1hUGF0aCxcbiAgICAgIGluc3RhbmNlUGF0aDogdGhpcy5pbnN0YW5jZVBhdGgsXG4gICAgICBkYXRhOiB0aGlzLmRhdGFcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuY2F1c2UpIHtcbiAgICAgIHRyZWUuY2F1c2UgPSB0aGlzLmNhdXNlLl9nZXRUcmVlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRyZWU7XG4gIH1cblxuICBnZXRUcmVlKCk6IEVycm9yVHJlZSB7XG4gICAgdGhpcy5nZXRDYXVzZSgpO1xuICAgIHJldHVybiB0aGlzLl9nZXRUcmVlKCk7XG4gIH1cblxuICBnZXRQYXRoKCkge1xuICAgIGNvbnN0IGNhdXNlID0gdGhpcy5nZXRDYXVzZSgpO1xuICAgIHJldHVybiB7XG4gICAgICBzY2hlbWFQYXRoOiBjYXVzZS5zY2hlbWFQYXRoLFxuICAgICAgaW5zdGFuY2VQYXRoOiBjYXVzZS5pbnN0YW5jZVBhdGhcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmaW5lRXJyb3JPcHRpb25zIHtcbiAgaXRlbT86IGFueTsgLy8gRmluYWwgaXRlbSBpbiB0aGUgc2NoZW1hUGF0aFxuICBjYXVzZT86IFZhbGlkYXRpb25FcnJvciB8IHRydWU7IC8vIENhdXNlIG9mIHRoZSBlcnJvclxuICBkYXRhPzogYW55OyAvLyBEYXRhIHRoYXQgY2F1c2VkIHRoZSBlcnJvclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlZmluZUVycm9yRnVuY3Rpb24ge1xuICAobWVzc2FnZTogc3RyaW5nLCBvcHRpb25zPzogRGVmaW5lRXJyb3JPcHRpb25zKTpcbiAgICB8IFZhbGlkYXRpb25FcnJvclxuICAgIHwgdm9pZFxuICAgIHwgdHJ1ZTtcbn1cbmNvbnN0IEZBSUxfRkFTVF9ERUZJTkVfRVJST1I6IERlZmluZUVycm9yRnVuY3Rpb24gPSAoKSA9PiB0cnVlO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmaW5lZEVycm9yRnVuY3Rpb25Gb3JLZXkoXG4gIGtleTogc3RyaW5nLFxuICBzY2hlbWE6IENvbXBpbGVkU2NoZW1hLFxuICBmYWlsRmFzdDogYm9vbGVhblxuKSB7XG4gIGlmIChmYWlsRmFzdCkge1xuICAgIHJldHVybiBGQUlMX0ZBU1RfREVGSU5FX0VSUk9SO1xuICB9XG5cbiAgY29uc3QgS2V5d29yZEVycm9yID0gbmV3IFZhbGlkYXRpb25FcnJvcihgSW52YWxpZCAke2tleX1gKTtcbiAgS2V5d29yZEVycm9yLmtleXdvcmQgPSBrZXk7XG4gIEtleXdvcmRFcnJvci5zY2hlbWEgPSBzY2hlbWE7XG5cbiAgY29uc3QgZGVmaW5lRXJyb3I6IERlZmluZUVycm9yRnVuY3Rpb24gPSAobWVzc2FnZSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgS2V5d29yZEVycm9yLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIEtleXdvcmRFcnJvci5pdGVtID0gb3B0aW9ucy5pdGVtO1xuICAgIEtleXdvcmRFcnJvci5jYXVzZSA9XG4gICAgICBvcHRpb25zLmNhdXNlICYmIG9wdGlvbnMuY2F1c2UgIT09IHRydWUgPyBvcHRpb25zLmNhdXNlIDogdW5kZWZpbmVkO1xuICAgIEtleXdvcmRFcnJvci5kYXRhID0gb3B0aW9ucy5kYXRhO1xuICAgIHJldHVybiBLZXl3b3JkRXJyb3I7XG4gIH07XG5cbiAgcmV0dXJuIGdldE5hbWVkRnVuY3Rpb248RGVmaW5lRXJyb3JGdW5jdGlvbj4oXG4gICAgYGRlZmluZUVycm9yXyR7a2V5fWAsXG4gICAgZGVmaW5lRXJyb3JcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0NoYW5nZWQocHJldjogYW55LCBjdXJyZW50OiBhbnkpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocHJldikpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50KSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChwcmV2Lmxlbmd0aCAhPT0gY3VycmVudC5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGhhc0NoYW5nZWQocHJldltpXSwgY3VycmVudFtpXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwcmV2ID09PSBcIm9iamVjdFwiICYmIHByZXYgIT09IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIGN1cnJlbnQgIT09IFwib2JqZWN0XCIgfHwgY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gY3VycmVudCkge1xuICAgICAgaWYgKGhhc0NoYW5nZWQocHJldltrZXldLCBjdXJyZW50W2tleV0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3Qga2V5IGluIHByZXYpIHtcbiAgICAgIGlmIChoYXNDaGFuZ2VkKHByZXZba2V5XSwgY3VycmVudFtrZXldKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmlzKHByZXYsIGN1cnJlbnQpID09PSBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KGRhdGEpIHtcbiAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmIGRhdGEgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVDbG9zZUVub3VnaChhLCBiLCBlcHNpbG9uID0gMWUtMTUpIHtcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBlcHNpbG9uICogTWF0aC5tYXgoTWF0aC5hYnMoYSksIE1hdGguYWJzKGIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVURjE2TGVuZ3RoKHN0cikge1xuICBsZXQgbGVuZ3RoID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjb2RlUG9pbnQgPSBzdHIuY29kZVBvaW50QXQoaSk7XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4ZmZmZikge1xuICAgICAgaSsrO1xuICAgIH1cbiAgICBsZW5ndGgrKztcbiAgfVxuICByZXR1cm4gbGVuZ3RoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lPFQ+KFxuICBvYmo6IFQsXG4gIGNsb25lQ2xhc3NJbnN0YW5jZXMgPSBmYWxzZSxcbiAgc2VlbiA9IG5ldyBXZWFrTWFwKClcbik6IFQge1xuICBpZiAodHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBpZiAoc2Vlbi5oYXMob2JqKSkge1xuICAgIHJldHVybiBzZWVuLmdldChvYmopO1xuICB9XG5cbiAgbGV0IGNsb25lOiBhbnk7XG5cbiAgaWYgKHR5cGVvZiBzdHJ1Y3R1cmVkQ2xvbmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGNsb25lID0gc3RydWN0dXJlZENsb25lKG9iaik7XG4gICAgc2Vlbi5zZXQob2JqLCBjbG9uZSk7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9XG5cbiAgc3dpdGNoICh0cnVlKSB7XG4gICAgY2FzZSBBcnJheS5pc0FycmF5KG9iaik6IHtcbiAgICAgIGNsb25lID0gW107XG4gICAgICBzZWVuLnNldChvYmosIGNsb25lKTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjbG9uZVtpXSA9IGRlZXBDbG9uZShvYmpbaV0sIGNsb25lQ2xhc3NJbnN0YW5jZXMsIHNlZW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cbiAgICBjYXNlIG9iaiBpbnN0YW5jZW9mIERhdGU6IHtcbiAgICAgIGNsb25lID0gbmV3IERhdGUob2JqLmdldFRpbWUoKSk7XG4gICAgICBzZWVuLnNldChvYmosIGNsb25lKTtcbiAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG4gICAgY2FzZSBvYmogaW5zdGFuY2VvZiBSZWdFeHA6IHtcbiAgICAgIGNsb25lID0gbmV3IFJlZ0V4cChvYmouc291cmNlLCBvYmouZmxhZ3MpO1xuICAgICAgc2Vlbi5zZXQob2JqLCBjbG9uZSk7XG4gICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuICAgIGNhc2Ugb2JqIGluc3RhbmNlb2YgTWFwOiB7XG4gICAgICBjbG9uZSA9IG5ldyBNYXAoKTtcbiAgICAgIHNlZW4uc2V0KG9iaiwgY2xvbmUpO1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2Ygb2JqLmVudHJpZXMoKSkge1xuICAgICAgICBjbG9uZS5zZXQoXG4gICAgICAgICAgZGVlcENsb25lKGtleSwgY2xvbmVDbGFzc0luc3RhbmNlcywgc2VlbiksXG4gICAgICAgICAgZGVlcENsb25lKHZhbHVlLCBjbG9uZUNsYXNzSW5zdGFuY2VzLCBzZWVuKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cbiAgICBjYXNlIG9iaiBpbnN0YW5jZW9mIFNldDoge1xuICAgICAgY2xvbmUgPSBuZXcgU2V0KCk7XG4gICAgICBzZWVuLnNldChvYmosIGNsb25lKTtcbiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2Ygb2JqLnZhbHVlcygpKSB7XG4gICAgICAgIGNsb25lLmFkZChkZWVwQ2xvbmUodmFsdWUsIGNsb25lQ2xhc3NJbnN0YW5jZXMsIHNlZW4pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG4gICAgY2FzZSBvYmogaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjoge1xuICAgICAgY2xvbmUgPSBvYmouc2xpY2UoMCk7XG4gICAgICBzZWVuLnNldChvYmosIGNsb25lKTtcbiAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG4gICAgLy8gVHlwZWRBcnJheXMgYW5kIERhdGFWaWV3XG4gICAgY2FzZSBBcnJheUJ1ZmZlci5pc1ZpZXcob2JqKToge1xuICAgICAgY2xvbmUgPSBuZXcgKG9iaiBhcyBhbnkpLmNvbnN0cnVjdG9yKG9iai5idWZmZXIuc2xpY2UoMCkpO1xuICAgICAgc2Vlbi5zZXQob2JqLCBjbG9uZSk7XG4gICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuICAgIC8vIE5vZGUuanMgQnVmZmVyXG4gICAgY2FzZSB0eXBlb2YgQnVmZmVyICE9PSBcInVuZGVmaW5lZFwiICYmIG9iaiBpbnN0YW5jZW9mIEJ1ZmZlcjoge1xuICAgICAgY2xvbmUgPSBCdWZmZXIuZnJvbShvYmogYXMgYW55KTtcbiAgICAgIHNlZW4uc2V0KG9iaiwgY2xvbmUpO1xuICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cbiAgICBjYXNlIG9iaiBpbnN0YW5jZW9mIEVycm9yOiB7XG4gICAgICBjbG9uZSA9IG5ldyAob2JqIGFzIGFueSkuY29uc3RydWN0b3Iob2JqLm1lc3NhZ2UpO1xuICAgICAgc2Vlbi5zZXQob2JqLCBjbG9uZSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gTm9uIGNsb25hYmxlIG9iamVjdHNcbiAgICBjYXNlIG9iaiBpbnN0YW5jZW9mIFByb21pc2UgfHxcbiAgICAgIG9iaiBpbnN0YW5jZW9mIFdlYWtNYXAgfHxcbiAgICAgIG9iaiBpbnN0YW5jZW9mIFdlYWtTZXQ6IHtcbiAgICAgIGNsb25lID0gb2JqO1xuICAgICAgc2Vlbi5zZXQob2JqLCBjbG9uZSk7XG4gICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuICAgIC8vIEluc3RhbmNlIG9mIGEgY2xhc3NcbiAgICBjYXNlIG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IgIT09IE9iamVjdDoge1xuICAgICAgaWYgKCFjbG9uZUNsYXNzSW5zdGFuY2VzKSB7XG4gICAgICAgIGNsb25lID0gb2JqO1xuICAgICAgICBzZWVuLnNldChvYmosIGNsb25lKTtcbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgICAgfVxuICAgICAgY2xvbmUgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKTtcbiAgICAgIHNlZW4uc2V0KG9iaiwgY2xvbmUpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gUGxhaW4gb2JqZWN0c1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNsb25lID0ge307XG4gICAgICBzZWVuLnNldChvYmosIGNsb25lKTtcblxuICAgICAgY29uc3Qga2V5cyA9IFJlZmxlY3Qub3duS2V5cyhvYmopO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgICBjbG9uZVtrZXkgYXMgc3RyaW5nXSA9IGRlZXBDbG9uZShcbiAgICAgICAgICAob2JqIGFzIGFueSlba2V5IGFzIHN0cmluZ10sXG4gICAgICAgICAgY2xvbmVDbGFzc0luc3RhbmNlcyxcbiAgICAgICAgICBzZWVuXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopO1xuICBmb3IgKGNvbnN0IGtleSBvZiBSZWZsZWN0Lm93bktleXMoZGVzY3JpcHRvcnMpKSB7XG4gICAgY29uc3QgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JzW2tleSBhcyBzdHJpbmddO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikge1xuICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGRlZXBDbG9uZShkZXNjcmlwdG9yLnZhbHVlLCBjbG9uZUNsYXNzSW5zdGFuY2VzLCBzZWVuKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNsb25lLCBrZXksIGRlc2NyaXB0b3IpO1xuICB9XG5cbiAgcmV0dXJuIGNsb25lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb21waWxlZFNjaGVtYShzdWJTY2hlbWE6IGFueSk6IHN1YlNjaGVtYSBpcyBDb21waWxlZFNjaGVtYSB7XG4gIHJldHVybiBpc09iamVjdChzdWJTY2hlbWEpICYmIFwiJHZhbGlkYXRlXCIgaW4gc3ViU2NoZW1hO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZWRGdW5jdGlvbjxUPihuYW1lOiBzdHJpbmcsIGZuOiBUKTogVCB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIFwibmFtZVwiLCB7IHZhbHVlOiBuYW1lIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVBhdGgocm9vdDogYW55LCBwYXRoOiBzdHJpbmcpOiBhbnkge1xuICBpZiAoIXBhdGggfHwgcGF0aCA9PT0gXCIjXCIpIHtcbiAgICByZXR1cm4gcm9vdDtcbiAgfVxuXG4gIC8vIEpTT04gUG9pbnRlclxuICBpZiAocGF0aC5zdGFydHNXaXRoKFwiIy9cIikpIHtcbiAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoXCIvXCIpLnNsaWNlKDEpO1xuICAgIGxldCBjdXJyZW50ID0gcm9vdDtcblxuICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgICAgY29uc3QgZGVjb2RlZFVyaVBhcnQgPSBkZWNvZGVVUklDb21wb25lbnQocGFydCk7XG4gICAgICBjb25zdCBrZXkgPSBkZWNvZGVkVXJpUGFydC5yZXBsYWNlKC9+MS9nLCBcIi9cIikucmVwbGFjZSgvfjAvZywgXCJ+XCIpO1xuXG4gICAgICBpZiAoY3VycmVudCAmJiB0eXBlb2YgY3VycmVudCA9PT0gXCJvYmplY3RcIiAmJiBrZXkgaW4gY3VycmVudCkge1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VycmVudDtcbiAgfVxuXG4gIC8vIFNpbXBsZSBsb29rdXAgYnkgZGVmaW5pdGlvbiBuYW1lIChub24tc3RhbmRhcmQsIGJ1dCB1c2VmdWwpXG4gIGlmICghcGF0aC5pbmNsdWRlcyhcIiNcIikpIHtcbiAgICBpZiAocm9vdC5kZWZpbml0aW9ucyAmJiByb290LmRlZmluaXRpb25zW3BhdGhdKSB7XG4gICAgICByZXR1cm4gcm9vdC5kZWZpbml0aW9uc1twYXRoXTtcbiAgICB9XG4gICAgaWYgKHJvb3QuZGVmcyAmJiByb290LmRlZnNbcGF0aF0pIHtcbiAgICAgIHJldHVybiByb290LmRlZnNbcGF0aF07XG4gICAgfVxuXG4gICAgaWYgKHJvb3QuJGlkICYmIHR5cGVvZiByb290LiRpZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgaWYgKHJvb3QuJGlkID09PSBwYXRoIHx8IHJvb3QuJGlkLmVuZHNXaXRoKFwiL1wiICsgcGF0aCkpIHtcbiAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuO1xufVxuIiwiaW1wb3J0IHsgRm9ybWF0RnVuY3Rpb24gfSBmcm9tIFwiLi9pbmRleFwiO1xuXG4vLyBSZWdleCBoZWxwZXJzXG5jb25zdCBVVUlEX1JFR0VYID1cbiAgL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXsxMn0kL2k7XG4vLyBJU08gODYwMSBEdXJhdGlvbiAoUDNZNk00RFQxMkgzME01UylcbmNvbnN0IERVUkFUSU9OX1JFR0VYID1cbiAgL15QKD8hJCkoKFxcZCtZKT8oXFxkK00pPyhcXGQrVyk/KFxcZCtEKT8pKFQoPz1cXGQpKFxcZCtIKT8oXFxkK00pPyhcXGQrUyk/KT8kLztcbmNvbnN0IERBVEVfVElNRV9SRUdFWCA9XG4gIC9eKFxcZHs0fSktKDBbMC05XXwxWzAtMl0pLShcXGR7Mn0pVCgwWzAtOV18MVxcZHwyWzAtM10pOihbMC01XVxcZCk6KCg/OlswLTVdXFxkfDYwKSkoPzouXFxkKyk/KD86KFsrLV0pKDBbMC05XXwxXFxkfDJbMC0zXSk6KFswLTVdXFxkKXxaKT8kL2k7XG5jb25zdCBVUklfUkVHRVggPSAvXlthLXpBLVpdW2EtekEtWjAtOStcXC0uXSo6W15cXHNdKiQvO1xuY29uc3QgRU1BSUxfUkVHRVggPVxuICAvXig/IVxcLikoPyEuKlxcLiQpW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dezEsMjB9KD86XFwuW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dezEsMjF9KXswLDJ9QFthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPyg/OlxcLlthLXowLTldKD86W2EtejAtOS1dezAsNjB9W2EtejAtOV0pPyl7MCwzfSQvaTtcbmNvbnN0IElQVjRfUkVHRVggPVxuICAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFsxLTldWzAtOV18WzAtOV0pJC87XG5jb25zdCBJUFY2X1JFR0VYID0gLyg/Olxccyt8Ojo6K3xeXFx3ezUsfXxcXHd7NX0kfF46ezF9XFx3fFxcdzp7MX0kKS87XG5jb25zdCBJUFY2X1NIT1JUX1JFR0VYID0gL15bMC05YS1mQS1GOi5dKiQvO1xuY29uc3QgSVBWNl9GVUxMX1JFR0VYID0gL14oPzooPzpbMC05YS1mQS1GXXsxLDR9Oil7N30oPzpbMC05YS1mQS1GXXsxLDR9fDopKSQvO1xuY29uc3QgSVBWNl9JTlZBTElEX0NIQVJfUkVHRVggPSAvKD86WzAtOWEtZkEtRl17NSx9fFxcRFswLTlhLWZBLUZdezN9OikvO1xuY29uc3QgSVBWNl9GQVNUX0ZBSUxfUkVHRVggPVxuICAvXig/Oig/Oig/OlswLTlhLWZBLUZdezEsNH0oPzo6fCQpKXsxLDZ9KSl8KD86OjooPzpbMC05YS1mQS1GXXsxLDR9KSl7MCw1fSQvO1xuY29uc3QgSE9TVE5BTUVfUkVHRVggPVxuICAvXlthLXowLTldW2EtejAtOS1dezAsNjJ9KD86XFwuW2EtejAtOV1bYS16MC05LV17MCw2Mn0pKlthLXowLTldJC9pO1xuY29uc3QgREFURV9SRUdFWCA9IC9eKFxcZHs0fSktKFxcZHsyfSktKFxcZHsyfSkkLztcbmNvbnN0IEpTT05fUE9JTlRFUl9SRUdFWCA9IC9eXFwvKD86W15+XXx+MHx+MSkqJC87XG5jb25zdCBSRUxBVElWRV9KU09OX1BPSU5URVJfUkVHRVggPSAvXihbMC05XSspKCN8XFwvKD86W15+XXx+MHx+MSkqKT8kLztcbmNvbnN0IFRJTUVfUkVHRVggPVxuICAvXihbMDFdXFxkfDJbMC0zXSk6KFswLTVdXFxkKTooWzAtNV1cXGQpKFxcLlxcZCspPyhafChbKy1dKShbMDFdXFxkfDJbMC0zXSk6KFswLTVdXFxkKSkkLztcbmNvbnN0IFVSSV9SRUZFUkVOQ0VfUkVHRVggPVxuICAvXigoW146Lz8jXSspOik/KFxcL1xcLyhbXi8/I10qKSk/KFtePyNdKikoXFw/KFteI10qKSk/KCMoKD8hW14jXSpcXFxcKVteI10qKSk/L2k7XG5jb25zdCBVUklfVEVNUExBVEVfUkVHRVggPSAvXig/Oltee31dfFxce1tefV0rXFx9KSokLztcbmNvbnN0IElSSV9SRUdFWCA9IC9eW2EtekEtWl1bYS16QS1aMC05K1xcLS5dKjpbXlxcc10qJC87XG5jb25zdCBJUklfUkVGRVJFTkNFX1JFR0VYID1cbiAgL14oKFteOi8/I10rKTopPyhcXC9cXC8oW14vPyNdKikpPyhbXj8jXSopKFxcPyhbXiNdKikpPygjKCg/IVteI10qXFxcXClbXiNdKikpPy9pO1xuY29uc3QgSUROX0VNQUlMX1JFR0VYID0gL15bXkBcXHNdK0BbXkBcXHNdK1xcLlteQFxcc10rJC87XG5jb25zdCBJRE5fSE9TVE5BTUVfUkVHRVggPSAvXlteXFxzIUAjJCVeJiooKV8rXFw9XFxbXFxde307JzpcIlxcXFx8LDw+XFwvP10rJC87XG5jb25zdCBCQUNLX1NMQVNIX1JFR0VYID0gL1xcXFwvO1xuXG5jb25zdCBEQVlTX0lOX01PTlRIID0gWzMxLCAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdO1xuXG5leHBvcnQgY29uc3QgRm9ybWF0czogUmVjb3JkPHN0cmluZywgRm9ybWF0RnVuY3Rpb24gfCBmYWxzZT4gPSB7XG4gIFtcImRhdGUtdGltZVwiXShkYXRhKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBkYXRhLm1hdGNoKERBVEVfVElNRV9SRUdFWCk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IFssIHllYXJTdHIsIG1vbnRoU3RyLCBkYXlTdHIsIGhvdXJTdHIsIG1pbnV0ZVN0ciwgc2Vjb25kU3RyXSA9IG1hdGNoO1xuXG4gICAgY29uc3QgeWVhciA9IE51bWJlcih5ZWFyU3RyKTtcbiAgICBjb25zdCBtb250aCA9IE51bWJlcihtb250aFN0cik7XG4gICAgY29uc3QgZGF5ID0gTnVtYmVyKGRheVN0cik7XG4gICAgY29uc3QgaG91ciA9IE51bWJlcihob3VyU3RyKTtcbiAgICBjb25zdCBtaW51dGUgPSBOdW1iZXIobWludXRlU3RyKTtcbiAgICBjb25zdCBzZWNvbmQgPSBOdW1iZXIoc2Vjb25kU3RyKTtcblxuICAgIC8vIE1lcyAx4oCTMTJcbiAgICBpZiAobW9udGggPCAxIHx8IG1vbnRoID4gMTIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gRMOtYSA+PSAxXG4gICAgaWYgKGRheSA8IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXhEYXlzID1cbiAgICAgIG1vbnRoID09PSAyXG4gICAgICAgID8geWVhciAlIDQgPT09IDAgJiYgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMClcbiAgICAgICAgICA/IDI5XG4gICAgICAgICAgOiAyOFxuICAgICAgICA6IERBWVNfSU5fTU9OVEhbbW9udGggLSAxXTtcblxuICAgIGlmICghbWF4RGF5cyB8fCBkYXkgPiBtYXhEYXlzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gTGVhcCBzZWNvbmRzIChzaSBxdWllcmVzIHNlZ3VpciBwZXJtaXRpZW5kbyA2MClcbiAgICBpZiAoc2Vjb25kID09PSA2MCAmJiAobWludXRlICE9PSA1OSB8fCBob3VyICE9PSAyMykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgdXJpKGRhdGEpIHtcbiAgICByZXR1cm4gVVJJX1JFR0VYLnRlc3QoZGF0YSk7XG4gIH0sXG4gIGVtYWlsKGRhdGEpIHtcbiAgICByZXR1cm4gRU1BSUxfUkVHRVgudGVzdChkYXRhKTtcbiAgfSxcbiAgaXB2NChkYXRhKSB7XG4gICAgLy8gTWF0Y2hlcyBhIHN0cmluZyBmb3JtZWQgYnkgNCBudW1iZXJzIGJldHdlZW4gMCBhbmQgMjU1IHNlcGFyYXRlZCBieSBkb3RzIHdpdGhvdXQgbGVhZGluZyB6ZXJvc1xuICAgIHJldHVybiBJUFY0X1JFR0VYLnRlc3QoZGF0YSk7XG4gIH0sXG5cbiAgLy8gaXB2NjogaXNNeUlwVmFsaWQoeyB2ZXJzaW9uOiA2IH0pLFxuICBpcHY2KGRhdGEpIHtcbiAgICBpZiAoZGF0YSA9PT0gXCI6OlwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5pbmRleE9mKFwiOlwiKSA9PT0gLTEgfHwgSVBWNl9SRUdFWC50ZXN0KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgaGFzSXB2NCA9IGRhdGEuaW5kZXhPZihcIi5cIikgIT09IC0xO1xuICAgIGxldCBhZGRyZXNzUGFydHMgPSBkYXRhO1xuXG4gICAgaWYgKGhhc0lwdjQpIHtcbiAgICAgIGFkZHJlc3NQYXJ0cyA9IGRhdGEuc3BsaXQoXCI6XCIpO1xuICAgICAgY29uc3QgaXB2NFBhcnQgPSBhZGRyZXNzUGFydHMucG9wKCk7XG4gICAgICBpZiAoIUlQVjRfUkVHRVgudGVzdChpcHY0UGFydCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGlzU2hvcnRlbmVkID0gZGF0YS5pbmRleE9mKFwiOjpcIikgIT09IC0xO1xuICAgIGNvbnN0IGlwdjZQYXJ0ID0gaGFzSXB2NCA/IGFkZHJlc3NQYXJ0cy5qb2luKFwiOlwiKSA6IGRhdGE7XG5cbiAgICBpZiAoaXNTaG9ydGVuZWQpIHtcbiAgICAgIGlmIChpcHY2UGFydC5zcGxpdChcIjo6XCIpLmxlbmd0aCAtIDEgPiAxKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFJUFY2X1NIT1JUX1JFR0VYLnRlc3QoaXB2NlBhcnQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIElQVjZfRkFTVF9GQUlMX1JFR0VYLnRlc3QoaXB2NlBhcnQpO1xuICAgIH1cblxuICAgIGNvbnN0IGlzSXB2NlZhbGlkID0gSVBWNl9GVUxMX1JFR0VYLnRlc3QoaXB2NlBhcnQpO1xuICAgIGNvbnN0IGhhc0ludmFsaWRDaGFyID0gSVBWNl9JTlZBTElEX0NIQVJfUkVHRVgudGVzdChpcHY2UGFydCk7XG5cbiAgICBpZiAoaGFzSXB2NCkge1xuICAgICAgcmV0dXJuIGlzSXB2NlZhbGlkIHx8ICFoYXNJbnZhbGlkQ2hhcjtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNJcHY2VmFsaWQgJiYgIWhhc0ludmFsaWRDaGFyO1xuICB9LFxuXG4gIGhvc3RuYW1lKGRhdGEpIHtcbiAgICByZXR1cm4gSE9TVE5BTUVfUkVHRVgudGVzdChkYXRhKTtcbiAgfSxcbiAgZGF0ZShkYXRhKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBEQVRFX1JFR0VYLmV4ZWMoZGF0YSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IFssIHllYXJTdHIsIG1vbnRoU3RyLCBkYXlTdHJdID0gbWF0Y2g7XG4gICAgY29uc3QgeWVhciA9IE51bWJlcih5ZWFyU3RyKTtcbiAgICBjb25zdCBtb250aCA9IE51bWJlcihtb250aFN0cik7XG4gICAgY29uc3QgZGF5ID0gTnVtYmVyKGRheVN0cik7XG5cbiAgICBpZiAobW9udGggPCAxIHx8IG1vbnRoID4gMTIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGRheSA8IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXhEYXlzID1cbiAgICAgIG1vbnRoID09PSAyXG4gICAgICAgID8geWVhciAlIDQgPT09IDAgJiYgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMClcbiAgICAgICAgICA/IDI5XG4gICAgICAgICAgOiAyOFxuICAgICAgICA6IERBWVNfSU5fTU9OVEhbbW9udGggLSAxXTtcblxuICAgIHJldHVybiAhIW1heERheXMgJiYgZGF5IDw9IG1heERheXM7XG4gIH0sXG4gIHJlZ2V4KGRhdGEpIHtcbiAgICB0cnkge1xuICAgICAgbmV3IFJlZ0V4cChkYXRhKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIFwianNvbi1wb2ludGVyXCIoZGF0YSkge1xuICAgIGlmIChkYXRhID09PSBcIlwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gSlNPTl9QT0lOVEVSX1JFR0VYLnRlc3QoZGF0YSk7XG4gIH0sXG4gIFwicmVsYXRpdmUtanNvbi1wb2ludGVyXCIoZGF0YSkge1xuICAgIGlmIChkYXRhID09PSBcIlwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gUkVMQVRJVkVfSlNPTl9QT0lOVEVSX1JFR0VYLnRlc3QoZGF0YSk7XG4gIH0sXG4gIHRpbWUoZGF0YSkge1xuICAgIHJldHVybiBUSU1FX1JFR0VYLnRlc3QoZGF0YSk7XG4gIH0sXG4gIFwidXJpLXJlZmVyZW5jZVwiKGRhdGEpIHtcbiAgICBpZiAoQkFDS19TTEFTSF9SRUdFWC50ZXN0KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIFVSSV9SRUZFUkVOQ0VfUkVHRVgudGVzdChkYXRhKTtcbiAgfSxcblxuICBcInVyaS10ZW1wbGF0ZVwiKGRhdGEpIHtcbiAgICByZXR1cm4gVVJJX1RFTVBMQVRFX1JFR0VYLnRlc3QoZGF0YSk7XG4gIH0sXG5cbiAgZHVyYXRpb24oZGF0YSkge1xuICAgIHJldHVybiBEVVJBVElPTl9SRUdFWC50ZXN0KGRhdGEpO1xuICB9LFxuXG4gIHV1aWQoZGF0YSkge1xuICAgIHJldHVybiBVVUlEX1JFR0VYLnRlc3QoZGF0YSk7XG4gIH0sXG5cbiAgLy8gSVJJIGlzIGxpa2UgVVJJIGJ1dCBhbGxvd3MgVW5pY29kZS4gV2UgcmV1c2UgYSBwZXJtaXNzaXZlIGxvZ2ljLlxuICBpcmkoZGF0YSkge1xuICAgIHJldHVybiBJUklfUkVHRVgudGVzdChkYXRhKTtcbiAgfSxcblxuICBcImlyaS1yZWZlcmVuY2VcIihkYXRhKSB7XG4gICAgaWYgKEJBQ0tfU0xBU0hfUkVHRVgudGVzdChkYXRhKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gSVJJX1JFRkVSRU5DRV9SRUdFWC50ZXN0KGRhdGEpO1xuICB9LFxuXG4gIC8vIEJlc3QtZWZmb3J0IHN0cnVjdHVyYWwgdmFsaWRhdGlvbiBmb3IgSUROIChubyBwdW55Y29kZS90YWJsZXMpXG4gIFwiaWRuLWVtYWlsXCIoZGF0YSkge1xuICAgIHJldHVybiBJRE5fRU1BSUxfUkVHRVgudGVzdChkYXRhKTtcbiAgfSxcblxuICBcImlkbi1ob3N0bmFtZVwiKGRhdGEpIHtcbiAgICAvLyBBbGxvd3MgdW5pY29kZSwgZm9yYmlkcyBzcGFjZXMgYW5kIHR5cGljYWwgaW52YWxpZCBVUkwgY2hhcnNcbiAgICByZXR1cm4gSUROX0hPU1ROQU1FX1JFR0VYLnRlc3QoZGF0YSk7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBUeXBlRnVuY3Rpb24gfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgVHlwZXM6IFJlY29yZDxzdHJpbmcsIFR5cGVGdW5jdGlvbiB8IGZhbHNlPiA9IHtcbiAgb2JqZWN0KGRhdGEpIHtcbiAgICByZXR1cm4gaXNPYmplY3QoZGF0YSk7XG4gIH0sXG4gIGFycmF5KGRhdGEpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhKTtcbiAgfSxcbiAgc3RyaW5nKGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCI7XG4gIH0sXG4gIG51bWJlcihkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcIm51bWJlclwiO1xuICB9LFxuICBpbnRlZ2VyKGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwibnVtYmVyXCIgJiYgZGF0YSAlIDEgPT09IDA7XG4gIH0sXG4gIGJvb2xlYW4oZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJib29sZWFuXCI7XG4gIH0sXG4gIG51bGwoZGF0YSkge1xuICAgIHJldHVybiBkYXRhID09PSBudWxsO1xuICB9LFxuXG4gIC8vIE5vdCBpbXBsZW1lbnRlZCB5ZXRcbiAgdGltZXN0YW1wOiBmYWxzZSxcbiAgaW50ODogZmFsc2UsXG4gIHVuaXQ4OiBmYWxzZSxcbiAgaW50MTY6IGZhbHNlLFxuICB1bml0MTY6IGZhbHNlLFxuICBpbnQzMjogZmFsc2UsXG4gIHVuaXQzMjogZmFsc2UsXG4gIGZsb2F0MzI6IGZhbHNlLFxuICBmbG9hdDY0OiBmYWxzZVxufTtcbiIsImltcG9ydCB7IEFycmF5S2V5d29yZHMgfSBmcm9tIFwiLi9rZXl3b3Jkcy9hcnJheS1rZXl3b3Jkc1wiO1xuaW1wb3J0IHsgS2V5d29yZEZ1bmN0aW9uIH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7IE51bWJlcktleXdvcmRzIH0gZnJvbSBcIi4va2V5d29yZHMvbnVtYmVyLWtleXdvcmRzXCI7XG5pbXBvcnQgeyBPYmplY3RLZXl3b3JkcyB9IGZyb20gXCIuL2tleXdvcmRzL29iamVjdC1rZXl3b3Jkc1wiO1xuaW1wb3J0IHsgT3RoZXJLZXl3b3JkcyB9IGZyb20gXCIuL2tleXdvcmRzL290aGVyLWtleXdvcmRzXCI7XG5pbXBvcnQgeyBTdHJpbmdLZXl3b3JkcyB9IGZyb20gXCIuL2tleXdvcmRzL3N0cmluZy1rZXl3b3Jkc1wiO1xuXG5leHBvcnQgY29uc3Qga2V5d29yZHM6IFJlY29yZDxzdHJpbmcsIEtleXdvcmRGdW5jdGlvbiB8IGZhbHNlPiA9IHtcbiAgLi4uT2JqZWN0S2V5d29yZHMsXG4gIC4uLkFycmF5S2V5d29yZHMsXG4gIC4uLlN0cmluZ0tleXdvcmRzLFxuICAuLi5OdW1iZXJLZXl3b3JkcyxcbiAgLi4uT3RoZXJLZXl3b3Jkc1xufTtcbiIsImltcG9ydCB7IGRlZXBDbG9uZSwgaXNDb21waWxlZFNjaGVtYSwgaXNPYmplY3QgfSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuaW1wb3J0IHsgS2V5d29yZEZ1bmN0aW9uIH0gZnJvbSBcIi4uL2luZGV4XCI7XG5cbmV4cG9ydCBjb25zdCBPYmplY3RLZXl3b3JkczogUmVjb3JkPHN0cmluZywgS2V5d29yZEZ1bmN0aW9uIHwgZmFsc2U+ID0ge1xuICByZXF1aXJlZChzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hLnJlcXVpcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBzY2hlbWEucmVxdWlyZWRbaV07XG4gICAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJSZXF1aXJlZCBwcm9wZXJ0eSBpcyBtaXNzaW5nXCIsIHtcbiAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgZGF0YTogZGF0YVtrZXldXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBwcm9wZXJ0aWVzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHByb3BLZXlzID0gKHNjaGVtYSBhcyBhbnkpLl9wcm9wS2V5cyBhcyBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcbiAgICBpZiAoIXByb3BLZXlzKSB7XG4gICAgICBwcm9wS2V5cyA9IE9iamVjdC5rZXlzKHNjaGVtYS5wcm9wZXJ0aWVzIHx8IHt9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzY2hlbWEsIFwiX3Byb3BLZXlzXCIsIHtcbiAgICAgICAgdmFsdWU6IHByb3BLZXlzLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgcmVxdWlyZWRLZXlzID0gKHNjaGVtYSBhcyBhbnkpLl9yZXF1aXJlZEtleXMgYXNcbiAgICAgIHwgc3RyaW5nW11cbiAgICAgIHwgbnVsbFxuICAgICAgfCB1bmRlZmluZWQ7XG4gICAgaWYgKHJlcXVpcmVkS2V5cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1aXJlZEtleXMgPSBBcnJheS5pc0FycmF5KHNjaGVtYS5yZXF1aXJlZCkgPyBzY2hlbWEucmVxdWlyZWQgOiBudWxsO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNjaGVtYSwgXCJfcmVxdWlyZWRLZXlzXCIsIHtcbiAgICAgICAgdmFsdWU6IHJlcXVpcmVkS2V5cyxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVxdWlyZWQgPSByZXF1aXJlZEtleXMgfHwgW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBwcm9wS2V5c1tpXTtcbiAgICAgIGNvbnN0IHNjaGVtYVByb3AgPSBzY2hlbWEucHJvcGVydGllc1trZXldO1xuXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICByZXF1aXJlZC5sZW5ndGggJiZcbiAgICAgICAgICByZXF1aXJlZC5pbmRleE9mKGtleSkgIT09IC0xICYmXG4gICAgICAgICAgaXNPYmplY3Qoc2NoZW1hUHJvcCkgJiZcbiAgICAgICAgICBcImRlZmF1bHRcIiBpbiBzY2hlbWFQcm9wXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hUHJvcC4kdmFsaWRhdGUoc2NoZW1hUHJvcC5kZWZhdWx0KTtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkRlZmF1bHQgcHJvcGVydHkgaXMgaW52YWxpZFwiLCB7XG4gICAgICAgICAgICAgIGl0ZW06IGtleSxcbiAgICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgICBkYXRhOiBzY2hlbWFQcm9wLmRlZmF1bHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkYXRhW2tleV0gPSBkZWVwQ2xvbmUoc2NoZW1hUHJvcC5kZWZhdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBzY2hlbWFQcm9wID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBpZiAoc2NoZW1hUHJvcCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJQcm9wZXJ0eSBpcyBub3QgYWxsb3dlZFwiLCB7XG4gICAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNjaGVtYVByb3AgJiYgXCIkdmFsaWRhdGVcIiBpbiBzY2hlbWFQcm9wKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hUHJvcC4kdmFsaWRhdGUoZGF0YVtrZXldKTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiUHJvcGVydHkgaXMgaW52YWxpZFwiLCB7XG4gICAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcbiAgdmFsdWVzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdmFsdWVTY2hlbWEgPSBzY2hlbWEudmFsdWVzO1xuICAgIGNvbnN0IHZhbGlkYXRlID0gdmFsdWVTY2hlbWEgJiYgdmFsdWVTY2hlbWEuJHZhbGlkYXRlO1xuICAgIGlmICh0eXBlb2YgdmFsaWRhdGUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICBjb25zdCBlcnJvciA9IHZhbGlkYXRlKGRhdGFba2V5XSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiUHJvcGVydHkgaXMgaW52YWxpZFwiLCB7XG4gICAgICAgICAgaXRlbToga2V5LFxuICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIG1heFByb3BlcnRpZXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkgfHwgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoIDw9IHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVG9vIG1hbnkgcHJvcGVydGllc1wiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgbWluUHJvcGVydGllcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSB8fCBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPj0gc2NoZW1hLm1pblByb3BlcnRpZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJUb28gZmV3IHByb3BlcnRpZXNcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIGFkZGl0aW9uYWxQcm9wZXJ0aWVzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuXG4gICAgbGV0IGFwSXNDb21waWxlZCA9IChzY2hlbWEgYXMgYW55KS5fYXBJc0NvbXBpbGVkIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gICAgaWYgKGFwSXNDb21waWxlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBhcElzQ29tcGlsZWQgPSBpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2NoZW1hLCBcIl9hcElzQ29tcGlsZWRcIiwge1xuICAgICAgICB2YWx1ZTogYXBJc0NvbXBpbGVkLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGV0IHBhdHRlcm5MaXN0ID0gKHNjaGVtYSBhcyBhbnkpLl9wYXR0ZXJuUHJvcGVydGllc0xpc3QgYXNcbiAgICAgIHwgeyByZWdleDogUmVnRXhwOyBrZXk6IHN0cmluZyB9W11cbiAgICAgIHwgdW5kZWZpbmVkO1xuXG4gICAgaWYgKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyAmJiAhcGF0dGVybkxpc3QpIHtcbiAgICAgIHBhdHRlcm5MaXN0ID0gW107XG4gICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gaW4gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKSB7XG4gICAgICAgIHBhdHRlcm5MaXN0LnB1c2goe1xuICAgICAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKHBhdHRlcm4sIFwidVwiKSxcbiAgICAgICAgICBrZXk6IHBhdHRlcm5cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2NoZW1hLCBcIl9wYXR0ZXJuUHJvcGVydGllc0xpc3RcIiwge1xuICAgICAgICB2YWx1ZTogcGF0dGVybkxpc3QsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmIChzY2hlbWEucHJvcGVydGllcyAmJiBzY2hlbWEucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocGF0dGVybkxpc3QgJiYgcGF0dGVybkxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGxldCBtYXRjaCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBhdHRlcm5MaXN0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKHBhdHRlcm5MaXN0W2pdLnJlZ2V4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgbm90IGFsbG93ZWRcIiwge1xuICAgICAgICAgIGl0ZW06IGtleSxcbiAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhcElzQ29tcGlsZWQgJiYgaXNDb21waWxlZFNjaGVtYShzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLiR2YWxpZGF0ZShkYXRhW2tleV0pO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBZGRpdGlvbmFsIHByb3BlcnRpZXMgYXJlIGludmFsaWRcIiwge1xuICAgICAgICAgICAgaXRlbToga2V5LFxuICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgZGF0YTogZGF0YVtrZXldXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG4gIHBhdHRlcm5Qcm9wZXJ0aWVzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHBhdHRlcm5MaXN0ID0gKHNjaGVtYSBhcyBhbnkpLl9wYXR0ZXJuUHJvcGVydGllc0xpc3QgYXNcbiAgICAgIHwgeyByZWdleDogUmVnRXhwOyBrZXk6IHN0cmluZyB9W11cbiAgICAgIHwgdW5kZWZpbmVkO1xuXG4gICAgaWYgKCFwYXR0ZXJuTGlzdCkge1xuICAgICAgcGF0dGVybkxpc3QgPSBbXTtcbiAgICAgIGNvbnN0IHBhdHRlcm5zID0gT2JqZWN0LmtleXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzIHx8IHt9KTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0dGVybnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IHBhdHRlcm5zW2ldO1xuICAgICAgICBwYXR0ZXJuTGlzdC5wdXNoKHtcbiAgICAgICAgICByZWdleDogbmV3IFJlZ0V4cChwYXR0ZXJuLCBcInVcIiksXG4gICAgICAgICAga2V5OiBwYXR0ZXJuXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNjaGVtYSwgXCJfcGF0dGVyblByb3BlcnRpZXNMaXN0XCIsIHtcbiAgICAgICAgdmFsdWU6IHBhdHRlcm5MaXN0LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YUtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcblxuICAgIGZvciAobGV0IHAgPSAwOyBwIDwgcGF0dGVybkxpc3QubGVuZ3RoOyBwKyspIHtcbiAgICAgIGNvbnN0IHsgcmVnZXgsIGtleTogcGF0dGVybktleSB9ID0gcGF0dGVybkxpc3RbcF07XG4gICAgICBjb25zdCBzY2hlbWFQcm9wID0gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm5LZXldO1xuXG4gICAgICBpZiAodHlwZW9mIHNjaGVtYVByb3AgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIGlmIChzY2hlbWFQcm9wID09PSBmYWxzZSkge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGRhdGFLZXlzW2ldO1xuICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJQcm9wZXJ0eSBpcyBub3QgYWxsb3dlZFwiLCB7XG4gICAgICAgICAgICAgICAgaXRlbToga2V5LFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFba2V5XVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChcIiR2YWxpZGF0ZVwiIGluIHNjaGVtYVByb3ApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGRhdGFLZXlzW2ldO1xuICAgICAgICAgIGlmIChyZWdleC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hUHJvcC4kdmFsaWRhdGUoZGF0YVtrZXldKTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJQcm9wZXJ0eSBpcyBpbnZhbGlkXCIsIHtcbiAgICAgICAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFba2V5XVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG4gIHByb3BlcnR5TmFtZXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwbiA9IHNjaGVtYS5wcm9wZXJ0eU5hbWVzO1xuXG4gICAgaWYgKHR5cGVvZiBwbiA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIGlmIChwbiA9PT0gZmFsc2UgJiYgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJQcm9wZXJ0aWVzIGFyZSBub3QgYWxsb3dlZFwiLCB7IGRhdGEgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRhdGUgPSBwbiAmJiBwbi4kdmFsaWRhdGU7XG4gICAgaWYgKHR5cGVvZiB2YWxpZGF0ZSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVycm9yID0gdmFsaWRhdGUoa2V5KTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJQcm9wZXJ0eSBuYW1lIGlzIGludmFsaWRcIiwge1xuICAgICAgICAgIGl0ZW06IGtleSxcbiAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgZGF0YTogZGF0YVtrZXldXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBkZXBlbmRlbmNpZXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEuZGVwZW5kZW5jaWVzKSB7XG4gICAgICBpZiAoa2V5IGluIGRhdGEgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkZXBlbmRlbmN5ID0gc2NoZW1hLmRlcGVuZGVuY2llc1trZXldO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGVwZW5kZW5jeSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBlbmRlbmN5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCEoZGVwZW5kZW5jeVtpXSBpbiBkYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiRGVwZW5kZW5jeSBpcyBub3Qgc2F0aXNmaWVkXCIsIHtcbiAgICAgICAgICAgICAgaXRlbTogaSxcbiAgICAgICAgICAgICAgZGF0YTogZGVwZW5kZW5jeVtpXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBkZXBlbmRlbmN5ID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBpZiAoZGVwZW5kZW5jeSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkRlcGVuZGVuY3kgaXMgbm90IHNhdGlzZmllZFwiLCB7IGRhdGE6IGRlcGVuZGVuY3kgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgZGVwZW5kZW5jeSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoZGVwZW5kZW5jeSBpbiBkYXRhKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiRGVwZW5kZW5jeSBpcyBub3Qgc2F0aXNmaWVkXCIsIHsgZGF0YTogZGVwZW5kZW5jeSB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVycm9yID0gZGVwZW5kZW5jeS4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiRGVwZW5kZW5jeSBpcyBub3Qgc2F0aXNmaWVkXCIsIHtcbiAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgZGF0YVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgLy8gUmVxdWlyZWQgYnkgb3RoZXIga2V5d29yZHMgYnV0IG5vdCB1c2VkIGFzIGEgZnVuY3Rpb24gaXRzZWxmXG4gIHRoZW46IGZhbHNlLFxuICBlbHNlOiBmYWxzZSxcbiAgZGVmYXVsdDogZmFsc2UsXG5cbiAgLy8gTm90IGltcGxlbWVudGVkIHlldFxuICBkZWZpbml0aW9uczogZmFsc2UsXG4gICRpZDogZmFsc2UsXG4gICRzY2hlbWE6IGZhbHNlLFxuXG4gIC8vIE1ldGFkYXRhIGtleXdvcmRzIChub3QgdXNlZCBhcyBhIGZ1bmN0aW9uKVxuICB0aXRsZTogZmFsc2UsXG4gIGRlc2NyaXB0aW9uOiBmYWxzZSxcbiAgJGNvbW1lbnQ6IGZhbHNlLFxuICBleGFtcGxlczogZmFsc2UsXG4gIGNvbnRlbnRNZWRpYVR5cGU6IGZhbHNlLFxuICBjb250ZW50RW5jb2Rpbmc6IGZhbHNlLFxuXG4gIC8vIE5vdCBzdXBwb3J0ZWQgT3BlbiBBUEkga2V5d29yZHNcbiAgZGlzY3JpbWluYXRvcjogZmFsc2UsXG4gIG51bGxhYmxlOiBmYWxzZVxufTtcbiIsImltcG9ydCB7IGhhc0NoYW5nZWQsIGlzQ29tcGlsZWRTY2hlbWEsIGlzT2JqZWN0IH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmltcG9ydCB7IEtleXdvcmRGdW5jdGlvbiB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5leHBvcnQgY29uc3QgQXJyYXlLZXl3b3JkczogUmVjb3JkPHN0cmluZywgS2V5d29yZEZ1bmN0aW9uPiA9IHtcbiAgLy8gbGliL2tleXdvcmRzL2FycmF5LWtleXdvcmRzLnRzXG4gIGl0ZW1zKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzY2hlbWFJdGVtcyA9IHNjaGVtYS5pdGVtcztcbiAgICBjb25zdCBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGg7XG5cbiAgICBpZiAodHlwZW9mIHNjaGVtYUl0ZW1zID09PSBcImJvb2xlYW5cIikge1xuICAgICAgaWYgKHNjaGVtYUl0ZW1zID09PSBmYWxzZSAmJiBkYXRhTGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpdGVtcyBhcmUgbm90IGFsbG93ZWRcIiwgeyBkYXRhIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYUl0ZW1zKSkge1xuICAgICAgY29uc3Qgc2NoZW1hSXRlbXNMZW5ndGggPSBzY2hlbWFJdGVtcy5sZW5ndGg7XG4gICAgICBjb25zdCBpdGVtc0xlbmd0aCA9XG4gICAgICAgIHNjaGVtYUl0ZW1zTGVuZ3RoIDwgZGF0YUxlbmd0aCA/IHNjaGVtYUl0ZW1zTGVuZ3RoIDogZGF0YUxlbmd0aDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtYUl0ZW0gPSBzY2hlbWFJdGVtc1tpXTtcblxuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYUl0ZW0gPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgaWYgKHNjaGVtYUl0ZW0gPT09IGZhbHNlICYmIGRhdGFbaV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgaXRlbSBpcyBub3QgYWxsb3dlZFwiLCB7XG4gICAgICAgICAgICAgIGl0ZW06IGksXG4gICAgICAgICAgICAgIGRhdGE6IGRhdGFbaV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbGlkYXRlID0gc2NoZW1hSXRlbSAmJiBzY2hlbWFJdGVtLiR2YWxpZGF0ZTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWxpZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSB2YWxpZGF0ZShkYXRhW2ldKTtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGl0ZW0gaXMgaW52YWxpZFwiLCB7XG4gICAgICAgICAgICAgIGl0ZW06IGksXG4gICAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgICAgZGF0YTogZGF0YVtpXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB2YWxpZGF0ZSA9IHNjaGVtYUl0ZW1zICYmIHNjaGVtYUl0ZW1zLiR2YWxpZGF0ZTtcbiAgICBpZiAodHlwZW9mIHZhbGlkYXRlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFMZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZXJyb3IgPSB2YWxpZGF0ZShkYXRhW2ldKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpdGVtIGlzIGludmFsaWRcIiwge1xuICAgICAgICAgIGl0ZW06IGksXG4gICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgIGRhdGE6IGRhdGFbaV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGVsZW1lbnRzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50c1NjaGVtYSA9IHNjaGVtYS5lbGVtZW50cztcbiAgICBjb25zdCB2YWxpZGF0ZSA9IGVsZW1lbnRzU2NoZW1hICYmIGVsZW1lbnRzU2NoZW1hLiR2YWxpZGF0ZTtcbiAgICBpZiAodHlwZW9mIHZhbGlkYXRlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVycm9yID0gdmFsaWRhdGUoZGF0YVtpXSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgaXRlbSBpcyBpbnZhbGlkXCIsIHtcbiAgICAgICAgICBpdGVtOiBpLFxuICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICBkYXRhOiBkYXRhW2ldXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBtaW5JdGVtcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpIHx8IGRhdGEubGVuZ3RoID49IHNjaGVtYS5taW5JdGVtcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGlzIHRvbyBzaG9ydFwiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgbWF4SXRlbXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSB8fCBkYXRhLmxlbmd0aCA8PSBzY2hlbWEubWF4SXRlbXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpcyB0b28gbG9uZ1wiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgYWRkaXRpb25hbEl0ZW1zKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIXNjaGVtYS5pdGVtcyB8fCBpc09iamVjdChzY2hlbWEuaXRlbXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgPT09IGZhbHNlKSB7XG4gICAgICBpZiAoZGF0YS5sZW5ndGggPiBzY2hlbWEuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGlzIHRvbyBsb25nXCIsIHsgZGF0YSB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNPYmplY3Qoc2NoZW1hLmFkZGl0aW9uYWxJdGVtcykpIHtcbiAgICAgIGlmIChpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBzY2hlbWEuaXRlbXMubGVuZ3RoOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLmFkZGl0aW9uYWxJdGVtcy4kdmFsaWRhdGUoZGF0YVtpXSk7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpdGVtIGlzIGludmFsaWRcIiwge1xuICAgICAgICAgICAgICBpdGVtOiBpLFxuICAgICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgICAgIGRhdGE6IGRhdGFbaV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgdW5pcXVlSXRlbXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSB8fCAhc2NoZW1hLnVuaXF1ZUl0ZW1zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbGVuID0gZGF0YS5sZW5ndGg7XG4gICAgaWYgKGxlbiA8PSAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJpbWl0aXZlU2VlbiA9IG5ldyBTZXQ8YW55PigpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGRhdGFbaV07XG4gICAgICBjb25zdCB0eXBlID0gdHlwZW9mIGl0ZW07XG5cbiAgICAgIGlmIChcbiAgICAgICAgaXRlbSA9PT0gbnVsbCB8fFxuICAgICAgICB0eXBlID09PSBcInN0cmluZ1wiIHx8XG4gICAgICAgIHR5cGUgPT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgdHlwZSA9PT0gXCJib29sZWFuXCJcbiAgICAgICkge1xuICAgICAgICBpZiAocHJpbWl0aXZlU2Vlbi5oYXMoaXRlbSkpIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpdGVtcyBhcmUgbm90IHVuaXF1ZVwiLCB7IGRhdGE6IGl0ZW0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJpbWl0aXZlU2Vlbi5hZGQoaXRlbSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGk7IGorKykge1xuICAgICAgICAgIGNvbnN0IHByZXYgPSBkYXRhW2pdO1xuICAgICAgICAgIGlmIChwcmV2ICYmIHR5cGVvZiBwcmV2ID09PSBcIm9iamVjdFwiICYmICFoYXNDaGFuZ2VkKHByZXYsIGl0ZW0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpdGVtcyBhcmUgbm90IHVuaXF1ZVwiLCB7IGRhdGE6IGl0ZW0gfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGNvbnRhaW5zKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEuY29udGFpbnMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICBpZiAoc2NoZW1hLmNvbnRhaW5zKSB7XG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbVwiLCB7IGRhdGEgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBtdXN0IG5vdCBjb250YWluIGFueSBpdGVtc1wiLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5jb250YWlucy4kdmFsaWRhdGUoZGF0YVtpXSk7XG4gICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbVwiLCB7IGRhdGEgfSk7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBGb3JtYXRGdW5jdGlvbiwgS2V5d29yZEZ1bmN0aW9uIH0gZnJvbSBcIi4uL2luZGV4XCI7XG5cbmV4cG9ydCBjb25zdCBTdHJpbmdLZXl3b3JkczogUmVjb3JkPHN0cmluZywgS2V5d29yZEZ1bmN0aW9uPiA9IHtcbiAgbWluTGVuZ3RoKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgfHwgZGF0YS5sZW5ndGggPj0gc2NoZW1hLm1pbkxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIHNob3J0ZXIgdGhhbiB0aGUgbWluaW11bSBsZW5ndGhcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIG1heExlbmd0aChzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiIHx8IGRhdGEubGVuZ3RoIDw9IHNjaGVtYS5tYXhMZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBsb25nZXIgdGhhbiB0aGUgbWF4aW11bSBsZW5ndGhcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIHBhdHRlcm4oc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBwYXR0ZXJuUmVnZXhwID0gKHNjaGVtYSBhcyBhbnkpLl9wYXR0ZXJuUmVnZXhwIGFzIFJlZ0V4cCB8IHVuZGVmaW5lZDtcbiAgICBpZiAoIXBhdHRlcm5SZWdleHApIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhdHRlcm5SZWdleHAgPSBuZXcgUmVnRXhwKHNjaGVtYS5wYXR0ZXJuLCBcInVcIik7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzY2hlbWEsIFwiX3BhdHRlcm5SZWdleHBcIiwge1xuICAgICAgICAgIHZhbHVlOiBwYXR0ZXJuUmVnZXhwLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiSW52YWxpZCByZWd1bGFyIGV4cHJlc3Npb25cIiwge1xuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgY2F1c2U6IGVycm9yXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwYXR0ZXJuUmVnZXhwLnRlc3QoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBkb2VzIG5vdCBtYXRjaCB0aGUgcGF0dGVyblwiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgLy8gVGFrZSBpbnRvIGFjY291bnQgdGhhdCBpZiB3ZSByZWNlaXZlIGEgZm9ybWF0IHRoYXQgaXMgbm90IGRlZmluZWQsIHdlXG4gIC8vIHdpbGwgbm90IHRocm93IGFuIGVycm9yLCB3ZSBqdXN0IGlnbm9yZSBpdC5cbiAgZm9ybWF0KHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IsIGluc3RhbmNlKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGZvcm1hdFZhbGlkYXRlID0gKHNjaGVtYSBhcyBhbnkpLl9mb3JtYXRWYWxpZGF0ZSBhc1xuICAgICAgfCBGb3JtYXRGdW5jdGlvblxuICAgICAgfCBmYWxzZVxuICAgICAgfCB1bmRlZmluZWQ7XG5cbiAgICBpZiAoZm9ybWF0VmFsaWRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZm9ybWF0VmFsaWRhdGUgPSBpbnN0YW5jZS5nZXRGb3JtYXQoc2NoZW1hLmZvcm1hdCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2NoZW1hLCBcIl9mb3JtYXRWYWxpZGF0ZVwiLCB7XG4gICAgICAgIHZhbHVlOiBmb3JtYXRWYWxpZGF0ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCFmb3JtYXRWYWxpZGF0ZSB8fCBmb3JtYXRWYWxpZGF0ZShkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGRvZXMgbm90IG1hdGNoIHRoZSBmb3JtYXRcIiwgeyBkYXRhIH0pO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgS2V5d29yZEZ1bmN0aW9uIH0gZnJvbSBcIi4uL2luZGV4XCI7XG5pbXBvcnQgeyBhcmVDbG9zZUVub3VnaCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgTnVtYmVyS2V5d29yZHM6IFJlY29yZDxzdHJpbmcsIEtleXdvcmRGdW5jdGlvbj4gPSB7XG4gIG1pbmltdW0oc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvciwgaW5zdGFuY2UpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbWluID0gc2NoZW1hLm1pbmltdW07XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgbWluID0gc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0gKyAxZS0xNTtcbiAgICB9IGVsc2UgaWYgKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtID09PSB0cnVlKSB7XG4gICAgICBtaW4gKz0gMWUtMTU7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgPCBtaW4pIHtcbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIGxlc3MgdGhhbiB0aGUgbWluaW11bVwiLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIG1heGltdW0oc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvciwgaW5zdGFuY2UpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbWF4ID0gc2NoZW1hLm1heGltdW07XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgbWF4ID0gc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gLSAxZS0xNTtcbiAgICB9IGVsc2UgaWYgKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtID09PSB0cnVlKSB7XG4gICAgICBtYXggLT0gMWUtMTU7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgPiBtYXgpIHtcbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgbWF4aW11bVwiLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIG11bHRpcGxlT2Yoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvciwgaW5zdGFuY2UpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBxdW90aWVudCA9IGRhdGEgLyBzY2hlbWEubXVsdGlwbGVPZjtcblxuICAgIGlmICghaXNGaW5pdGUocXVvdGllbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFhcmVDbG9zZUVub3VnaChxdW90aWVudCwgTWF0aC5yb3VuZChxdW90aWVudCkpKSB7XG4gICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgYSBtdWx0aXBsZSBvZiB0aGUgbXVsdGlwbGVPZlwiLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIGV4Y2x1c2l2ZU1pbmltdW0oc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvciwgaW5zdGFuY2UpIHtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgZGF0YSAhPT0gXCJudW1iZXJcIiB8fFxuICAgICAgdHlwZW9mIHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtICE9PSBcIm51bWJlclwiIHx8XG4gICAgICBcIm1pbmltdW1cIiBpbiBzY2hlbWFcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSA8PSBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSArIDFlLTE1KSB7XG4gICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGV4Y2x1c2l2ZU1pbmltdW1cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIGV4Y2x1c2l2ZU1heGltdW0oc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvciwgaW5zdGFuY2UpIHtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgZGF0YSAhPT0gXCJudW1iZXJcIiB8fFxuICAgICAgdHlwZW9mIHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtICE9PSBcIm51bWJlclwiIHx8XG4gICAgICBcIm1heGltdW1cIiBpbiBzY2hlbWFcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSA+PSBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkge1xuICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFxuICAgICAgICBcIlZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgZXhjbHVzaXZlTWF4aW11bVwiLFxuICAgICAgICB7IGRhdGEgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBoYXNDaGFuZ2VkLCBpc0NvbXBpbGVkU2NoZW1hLCBpc09iamVjdCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5pbXBvcnQgeyBLZXl3b3JkRnVuY3Rpb24gfSBmcm9tIFwiLi4vaW5kZXhcIjtcblxuZXhwb3J0IGNvbnN0IE90aGVyS2V5d29yZHM6IFJlY29yZDxzdHJpbmcsIEtleXdvcmRGdW5jdGlvbj4gPSB7XG4gIGVudW0oc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGNvbnN0IGxpc3QgPSBzY2hlbWEuZW51bTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZW51bUl0ZW0gPSBsaXN0W2ldO1xuXG4gICAgICBpZiAoZW51bUl0ZW0gPT09IGRhdGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIGVudW1JdGVtICE9PSBudWxsICYmXG4gICAgICAgIGRhdGEgIT09IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIGVudW1JdGVtID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgIHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICFoYXNDaGFuZ2VkKGVudW1JdGVtLCBkYXRhKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3Qgb25lIG9mIHRoZSBhbGxvd2VkIHZhbHVlc1wiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgYWxsT2Yoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hLmFsbE9mLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qoc2NoZW1hLmFsbE9mW2ldKSkge1xuICAgICAgICBpZiAoXCIkdmFsaWRhdGVcIiBpbiBzY2hlbWEuYWxsT2ZbaV0pIHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5hbGxPZltpXS4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBjYXVzZTogZXJyb3IsIGRhdGEgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNjaGVtYS5hbGxPZltpXSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgaWYgKEJvb2xlYW4oZGF0YSkgIT09IHNjaGVtYS5hbGxPZltpXSkge1xuICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhICE9PSBzY2hlbWEuYWxsT2ZbaV0pIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgZGF0YSB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgYW55T2Yoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hLmFueU9mLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qoc2NoZW1hLmFueU9mW2ldKSkge1xuICAgICAgICBpZiAoXCIkdmFsaWRhdGVcIiBpbiBzY2hlbWEuYW55T2ZbaV0pIHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5hbnlPZltpXS4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYS5hbnlPZltpXSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICBpZiAoQm9vbGVhbihkYXRhKSA9PT0gc2NoZW1hLmFueU9mW2ldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEgPT09IHNjaGVtYS5hbnlPZltpXSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgb25lT2Yoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGNvbnN0IGxpc3QgPSBzY2hlbWEub25lT2Y7XG4gICAgbGV0IHZhbGlkQ291bnQgPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzdWIgPSBsaXN0W2ldO1xuXG4gICAgICBpZiAoaXNPYmplY3Qoc3ViKSkge1xuICAgICAgICBpZiAoXCIkdmFsaWRhdGVcIiBpbiBzdWIpIHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IHN1Yi4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgdmFsaWRDb3VudCsrO1xuICAgICAgICAgICAgaWYgKHZhbGlkQ291bnQgPiAxKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkQ291bnQrKztcbiAgICAgICAgaWYgKHZhbGlkQ291bnQgPiAxKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgZGF0YSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBzdWIgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIGlmIChCb29sZWFuKGRhdGEpID09PSBzdWIpIHtcbiAgICAgICAgICB2YWxpZENvdW50Kys7XG4gICAgICAgICAgaWYgKHZhbGlkQ291bnQgPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBkYXRhIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGEgPT09IHN1Yikge1xuICAgICAgICB2YWxpZENvdW50Kys7XG4gICAgICAgIGlmICh2YWxpZENvdW50ID4gMSkge1xuICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmFsaWRDb3VudCA9PT0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgY29uc3Qoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmIChkYXRhID09PSBzY2hlbWEuY29uc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAoaXNPYmplY3QoZGF0YSkgJiZcbiAgICAgICAgaXNPYmplY3Qoc2NoZW1hLmNvbnN0KSAmJlxuICAgICAgICAhaGFzQ2hhbmdlZChkYXRhLCBzY2hlbWEuY29uc3QpKSB8fFxuICAgICAgKEFycmF5LmlzQXJyYXkoZGF0YSkgJiZcbiAgICAgICAgQXJyYXkuaXNBcnJheShzY2hlbWEuY29uc3QpICYmXG4gICAgICAgICFoYXNDaGFuZ2VkKGRhdGEsIHNjaGVtYS5jb25zdCkpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgaWYoc2NoZW1hLCBkYXRhKSB7XG4gICAgaWYgKFwidGhlblwiIGluIHNjaGVtYSA9PT0gZmFsc2UgJiYgXCJlbHNlXCIgaW4gc2NoZW1hID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNjaGVtYS5pZiA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIGlmIChzY2hlbWEuaWYpIHtcbiAgICAgICAgaWYgKGlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hLnRoZW4pKSB7XG4gICAgICAgICAgcmV0dXJuIHNjaGVtYS50aGVuLiR2YWxpZGF0ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS5lbHNlKSkge1xuICAgICAgICByZXR1cm4gc2NoZW1hLmVsc2UuJHZhbGlkYXRlKGRhdGEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghaXNDb21waWxlZFNjaGVtYShzY2hlbWEuaWYpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3IgPSBzY2hlbWEuaWYuJHZhbGlkYXRlKGRhdGEpO1xuICAgIGlmICghZXJyb3IpIHtcbiAgICAgIGlmIChpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS50aGVuKSkge1xuICAgICAgICByZXR1cm4gc2NoZW1hLnRoZW4uJHZhbGlkYXRlKGRhdGEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNDb21waWxlZFNjaGVtYShzY2hlbWEuZWxzZSkpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYS5lbHNlLiR2YWxpZGF0ZShkYXRhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sXG5cbiAgbm90KHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAodHlwZW9mIHNjaGVtYS5ub3QgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICBpZiAoc2NoZW1hLm5vdCkge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBkYXRhIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc09iamVjdChzY2hlbWEubm90KSkge1xuICAgICAgaWYgKFwiJHZhbGlkYXRlXCIgaW4gc2NoZW1hLm5vdCkge1xuICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5ub3QuJHZhbGlkYXRlKGRhdGEpO1xuICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgY2F1c2U6IGVycm9yLCBkYXRhIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgZGF0YSB9KTtcbiAgfSxcblxuICAkcmVmKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IsIGluc3RhbmNlKSB7XG4gICAgaWYgKHNjaGVtYS5fcmVzb2x2ZWRSZWYpIHtcbiAgICAgIHJldHVybiBzY2hlbWEuX3Jlc29sdmVkUmVmKGRhdGEpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlZlBhdGggPSBzY2hlbWEuJHJlZjtcbiAgICBsZXQgdGFyZ2V0U2NoZW1hID0gaW5zdGFuY2UuZ2V0U2NoZW1hUmVmKHJlZlBhdGgpO1xuXG4gICAgaWYgKCF0YXJnZXRTY2hlbWEpIHtcbiAgICAgIHRhcmdldFNjaGVtYSA9IGluc3RhbmNlLmdldFNjaGVtYUJ5SWQocmVmUGF0aCk7XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXRTY2hlbWEpIHtcbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihgTWlzc2luZyByZWZlcmVuY2U6ICR7cmVmUGF0aH1gKTtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldFNjaGVtYS4kdmFsaWRhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY2hlbWEuX3Jlc29sdmVkUmVmID0gdGFyZ2V0U2NoZW1hLiR2YWxpZGF0ZTtcbiAgICByZXR1cm4gc2NoZW1hLl9yZXNvbHZlZFJlZihkYXRhKTtcbiAgfVxufTtcbiIsIi8qKioqKioqKioqKioqKioqKiogUGF0aDogbGliL2luZGV4LnRzICoqKioqKioqKioqKioqKioqKi9cbmltcG9ydCB7XG4gIERlZmluZUVycm9yRnVuY3Rpb24sXG4gIFZhbGlkYXRpb25FcnJvcixcbiAgZGVlcENsb25lLFxuICBnZXREZWZpbmVkRXJyb3JGdW5jdGlvbkZvcktleSxcbiAgZ2V0TmFtZWRGdW5jdGlvbixcbiAgaXNPYmplY3QsXG4gIHJlc29sdmVQYXRoXG59IGZyb20gXCIuL3V0aWxzXCI7XG5cbmltcG9ydCB7IEZvcm1hdHMgfSBmcm9tIFwiLi9mb3JtYXRzXCI7XG5pbXBvcnQgeyBUeXBlcyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBrZXl3b3JkcyB9IGZyb20gXCIuL2tleXdvcmRzXCI7XG5cbmV4cG9ydCB7IFZhbGlkYXRpb25FcnJvciB9IGZyb20gXCIuL3V0aWxzXCI7XG5leHBvcnQgeyBkZWVwQ2xvbmUgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5leHBvcnQgdHlwZSBSZXN1bHQgPSB2b2lkIHwgVmFsaWRhdGlvbkVycm9yIHwgdHJ1ZTtcblxuZXhwb3J0IGludGVyZmFjZSBLZXl3b3JkRnVuY3Rpb24ge1xuICAoXG4gICAgc2NoZW1hOiBDb21waWxlZFNjaGVtYSxcbiAgICBkYXRhOiBhbnksXG4gICAgZGVmaW5lRXJyb3I6IERlZmluZUVycm9yRnVuY3Rpb24sXG4gICAgaW5zdGFuY2U6IFNjaGVtYVNoaWVsZFxuICApOiBSZXN1bHQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHlwZUZ1bmN0aW9uIHtcbiAgKGRhdGE6IGFueSk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRm9ybWF0RnVuY3Rpb24ge1xuICAoZGF0YTogYW55KTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0ZUZ1bmN0aW9uIHtcbiAgKGRhdGE6IGFueSk6IFJlc3VsdDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFNjaGVtYSB7XG4gICR2YWxpZGF0ZT86IFZhbGlkYXRlRnVuY3Rpb247XG4gIFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0b3Ige1xuICAoZGF0YTogYW55KToge1xuICAgIGRhdGE6IGFueTtcbiAgICBlcnJvcjogVmFsaWRhdGlvbkVycm9yIHwgbnVsbCB8IHRydWU7XG4gICAgdmFsaWQ6IGJvb2xlYW47XG4gIH07XG4gIGNvbXBpbGVkU2NoZW1hOiBDb21waWxlZFNjaGVtYTtcbn1cblxuaW50ZXJmYWNlIFZhbGlkYXRvckl0ZW0ge1xuICBmbjogS2V5d29yZEZ1bmN0aW9uO1xuICBkZWZpbmVFcnJvcjogRGVmaW5lRXJyb3JGdW5jdGlvbjtcbn1cblxuZXhwb3J0IGNsYXNzIFNjaGVtYVNoaWVsZCB7XG4gIHByaXZhdGUgdHlwZXM6IFJlY29yZDxzdHJpbmcsIFR5cGVGdW5jdGlvbiB8IGZhbHNlPiA9IHt9O1xuICBwcml2YXRlIGZvcm1hdHM6IFJlY29yZDxzdHJpbmcsIEZvcm1hdEZ1bmN0aW9uIHwgZmFsc2U+ID0ge307XG4gIHByaXZhdGUga2V5d29yZHM6IFJlY29yZDxzdHJpbmcsIEtleXdvcmRGdW5jdGlvbiB8IGZhbHNlPiA9IHt9O1xuICBwcml2YXRlIGltbXV0YWJsZSA9IGZhbHNlO1xuICBwcml2YXRlIHJvb3RTY2hlbWE6IENvbXBpbGVkU2NoZW1hIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgaWRSZWdpc3RyeTogTWFwPHN0cmluZywgQ29tcGlsZWRTY2hlbWE+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIGZhaWxGYXN0OiBib29sZWFuID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgaW1tdXRhYmxlID0gZmFsc2UsXG4gICAgZmFpbEZhc3QgPSB0cnVlXG4gIH06IHtcbiAgICBpbW11dGFibGU/OiBib29sZWFuO1xuICAgIGZhaWxGYXN0PzogYm9vbGVhbjtcbiAgfSA9IHt9KSB7XG4gICAgdGhpcy5pbW11dGFibGUgPSBpbW11dGFibGU7XG4gICAgdGhpcy5mYWlsRmFzdCA9IGZhaWxGYXN0O1xuXG4gICAgZm9yIChjb25zdCBbdHlwZSwgdmFsaWRhdG9yXSBvZiBPYmplY3QuZW50cmllcyhUeXBlcykpIHtcbiAgICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgICAgdGhpcy5hZGRUeXBlKHR5cGUsIHZhbGlkYXRvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBba2V5d29yZCwgdmFsaWRhdG9yXSBvZiBPYmplY3QuZW50cmllcyhrZXl3b3JkcykpIHtcbiAgICAgIHRoaXMuYWRkS2V5d29yZChrZXl3b3JkLCB2YWxpZGF0b3IgYXMgS2V5d29yZEZ1bmN0aW9uKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFtmb3JtYXQsIHZhbGlkYXRvcl0gb2YgT2JqZWN0LmVudHJpZXMoRm9ybWF0cykpIHtcbiAgICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgICAgdGhpcy5hZGRGb3JtYXQoZm9ybWF0LCB2YWxpZGF0b3IgYXMgRm9ybWF0RnVuY3Rpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFkZFR5cGUobmFtZTogc3RyaW5nLCB2YWxpZGF0b3I6IFR5cGVGdW5jdGlvbiwgb3ZlcndyaXRlID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy50eXBlc1tuYW1lXSAmJiAhb3ZlcndyaXRlKSB7XG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGBUeXBlIFwiJHtuYW1lfVwiIGFscmVhZHkgZXhpc3RzYCk7XG4gICAgfVxuICAgIHRoaXMudHlwZXNbbmFtZV0gPSB2YWxpZGF0b3I7XG4gIH1cblxuICBnZXRUeXBlKHR5cGU6IHN0cmluZyk6IFR5cGVGdW5jdGlvbiB8IGZhbHNlIHtcbiAgICByZXR1cm4gdGhpcy50eXBlc1t0eXBlXTtcbiAgfVxuXG4gIGFkZEZvcm1hdChuYW1lOiBzdHJpbmcsIHZhbGlkYXRvcjogRm9ybWF0RnVuY3Rpb24sIG92ZXJ3cml0ZSA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMuZm9ybWF0c1tuYW1lXSAmJiAhb3ZlcndyaXRlKSB7XG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGBGb3JtYXQgXCIke25hbWV9XCIgYWxyZWFkeSBleGlzdHNgKTtcbiAgICB9XG4gICAgdGhpcy5mb3JtYXRzW25hbWVdID0gdmFsaWRhdG9yO1xuICB9XG5cbiAgZ2V0Rm9ybWF0KGZvcm1hdDogc3RyaW5nKTogRm9ybWF0RnVuY3Rpb24gfCBmYWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0c1tmb3JtYXRdO1xuICB9XG5cbiAgYWRkS2V5d29yZChuYW1lOiBzdHJpbmcsIHZhbGlkYXRvcjogS2V5d29yZEZ1bmN0aW9uLCBvdmVyd3JpdGUgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLmtleXdvcmRzW25hbWVdICYmICFvdmVyd3JpdGUpIHtcbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYEtleXdvcmQgXCIke25hbWV9XCIgYWxyZWFkeSBleGlzdHNgKTtcbiAgICB9XG4gICAgdGhpcy5rZXl3b3Jkc1tuYW1lXSA9IHZhbGlkYXRvcjtcbiAgfVxuXG4gIGdldEtleXdvcmQoa2V5d29yZDogc3RyaW5nKTogS2V5d29yZEZ1bmN0aW9uIHwgZmFsc2Uge1xuICAgIHJldHVybiB0aGlzLmtleXdvcmRzW2tleXdvcmRdO1xuICB9XG5cbiAgZ2V0U2NoZW1hUmVmKHBhdGg6IHN0cmluZyk6IENvbXBpbGVkU2NoZW1hIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoIXRoaXMucm9vdFNjaGVtYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb2x2ZVBhdGgodGhpcy5yb290U2NoZW1hLCBwYXRoKTtcbiAgfVxuXG4gIGdldFNjaGVtYUJ5SWQoaWQ6IHN0cmluZyk6IENvbXBpbGVkU2NoZW1hIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5pZFJlZ2lzdHJ5LmdldChpZCk7XG4gIH1cblxuICBjb21waWxlKHNjaGVtYTogYW55KTogVmFsaWRhdG9yIHtcbiAgICB0aGlzLmlkUmVnaXN0cnkuY2xlYXIoKTtcbiAgICBjb25zdCBjb21waWxlZFNjaGVtYSA9IHRoaXMuY29tcGlsZVNjaGVtYShzY2hlbWEpO1xuICAgIHRoaXMucm9vdFNjaGVtYSA9IGNvbXBpbGVkU2NoZW1hO1xuICAgIHRoaXMubGlua1JlZmVyZW5jZXMoY29tcGlsZWRTY2hlbWEpO1xuXG4gICAgaWYgKCFjb21waWxlZFNjaGVtYS4kdmFsaWRhdGUpIHtcbiAgICAgIGlmICh0aGlzLmlzU2NoZW1hTGlrZShzY2hlbWEpID09PSBmYWxzZSkge1xuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFwiSW52YWxpZCBzY2hlbWFcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbXBpbGVkU2NoZW1hLiR2YWxpZGF0ZSA9IGdldE5hbWVkRnVuY3Rpb248VmFsaWRhdGVGdW5jdGlvbj4oXG4gICAgICAgIFwiVmFsaWRhdGVfQW55XCIsXG4gICAgICAgICgpID0+IHt9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbGlkYXRlOiBWYWxpZGF0b3IgPSAoZGF0YTogYW55KSA9PiB7XG4gICAgICB0aGlzLnJvb3RTY2hlbWEgPSBjb21waWxlZFNjaGVtYTtcblxuICAgICAgY29uc3QgY2xvbmVkRGF0YSA9IHRoaXMuaW1tdXRhYmxlID8gZGVlcENsb25lKGRhdGEpIDogZGF0YTtcbiAgICAgIGNvbnN0IHJlcyA9IGNvbXBpbGVkU2NoZW1hLiR2YWxpZGF0ZSEoY2xvbmVkRGF0YSk7XG5cbiAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogY2xvbmVkRGF0YSwgZXJyb3I6IHJlcywgdmFsaWQ6IGZhbHNlIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IGRhdGE6IGNsb25lZERhdGEsIGVycm9yOiBudWxsLCB2YWxpZDogdHJ1ZSB9O1xuICAgIH07XG5cbiAgICB2YWxpZGF0ZS5jb21waWxlZFNjaGVtYSA9IGNvbXBpbGVkU2NoZW1hO1xuICAgIHJldHVybiB2YWxpZGF0ZTtcbiAgfVxuXG4gIHByaXZhdGUgY29tcGlsZVNjaGVtYShzY2hlbWE6IFBhcnRpYWw8Q29tcGlsZWRTY2hlbWE+IHwgYW55KTogQ29tcGlsZWRTY2hlbWEge1xuICAgIGlmICghaXNPYmplY3Qoc2NoZW1hKSkge1xuICAgICAgaWYgKHNjaGVtYSA9PT0gdHJ1ZSkge1xuICAgICAgICBzY2hlbWEgPSB7IGFueU9mOiBbe31dIH07IC8vIEFsd2F5cyB2YWxpZFxuICAgICAgfSBlbHNlIGlmIChzY2hlbWEgPT09IGZhbHNlKSB7XG4gICAgICAgIHNjaGVtYSA9IHsgb25lT2Y6IFtdIH07IC8vIEFsd2F5cyBpbnZhbGlkXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY2hlbWEgPSB7IG9uZU9mOiBbc2NoZW1hXSB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNvbXBpbGVkU2NoZW1hOiBDb21waWxlZFNjaGVtYSA9IGRlZXBDbG9uZShzY2hlbWEpIGFzIENvbXBpbGVkU2NoZW1hO1xuXG4gICAgaWYgKHR5cGVvZiBzY2hlbWEuJGlkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aGlzLmlkUmVnaXN0cnkuc2V0KHNjaGVtYS4kaWQsIGNvbXBpbGVkU2NoZW1hKTtcbiAgICB9XG5cbiAgICBpZiAoXCIkcmVmXCIgaW4gc2NoZW1hKSB7XG4gICAgICBjb25zdCByZWZWYWxpZGF0b3IgPSB0aGlzLmdldEtleXdvcmQoXCIkcmVmXCIpO1xuICAgICAgaWYgKHJlZlZhbGlkYXRvcikge1xuICAgICAgICBjb25zdCBkZWZpbmVFcnJvciA9IGdldERlZmluZWRFcnJvckZ1bmN0aW9uRm9yS2V5KFxuICAgICAgICAgIFwiJHJlZlwiLFxuICAgICAgICAgIHNjaGVtYVtcIiRyZWZcIl0sXG4gICAgICAgICAgdGhpcy5mYWlsRmFzdFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbXBpbGVkU2NoZW1hLiR2YWxpZGF0ZSA9IGdldE5hbWVkRnVuY3Rpb248VmFsaWRhdGVGdW5jdGlvbj4oXG4gICAgICAgICAgXCJWYWxpZGF0ZV9SZWZlcmVuY2VcIixcbiAgICAgICAgICAoZGF0YSkgPT5cbiAgICAgICAgICAgIChyZWZWYWxpZGF0b3IgYXMgS2V5d29yZEZ1bmN0aW9uKShcbiAgICAgICAgICAgICAgY29tcGlsZWRTY2hlbWEsXG4gICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgIGRlZmluZUVycm9yLFxuICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29tcGlsZWRTY2hlbWE7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRhdG9yczogVmFsaWRhdG9ySXRlbVtdID0gW107XG4gICAgY29uc3QgYWN0aXZlTmFtZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICBpZiAoXCJ0eXBlXCIgaW4gc2NoZW1hKSB7XG4gICAgICBjb25zdCBkZWZpbmVUeXBlRXJyb3IgPSBnZXREZWZpbmVkRXJyb3JGdW5jdGlvbkZvcktleShcbiAgICAgICAgXCJ0eXBlXCIsXG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgdGhpcy5mYWlsRmFzdFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHR5cGVzID0gQXJyYXkuaXNBcnJheShzY2hlbWEudHlwZSlcbiAgICAgICAgPyBzY2hlbWEudHlwZVxuICAgICAgICA6IHNjaGVtYS50eXBlLnNwbGl0KFwiLFwiKS5tYXAoKHQ6IHN0cmluZykgPT4gdC50cmltKCkpO1xuXG4gICAgICBjb25zdCB0eXBlRnVuY3Rpb25zOiBUeXBlRnVuY3Rpb25bXSA9IFtdO1xuICAgICAgY29uc3QgdHlwZU5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgdHlwZXMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy5nZXRUeXBlKHR5cGUpO1xuICAgICAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICAgICAgdHlwZUZ1bmN0aW9ucy5wdXNoKHZhbGlkYXRvcik7XG4gICAgICAgICAgdHlwZU5hbWVzLnB1c2godmFsaWRhdG9yLm5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlRnVuY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBnZXREZWZpbmVkRXJyb3JGdW5jdGlvbkZvcktleShcbiAgICAgICAgICBcInR5cGVcIixcbiAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgdGhpcy5mYWlsRmFzdFxuICAgICAgICApKFwiSW52YWxpZCB0eXBlIGZvciBzY2hlbWFcIiwgeyBkYXRhOiBzY2hlbWEudHlwZSB9KTtcbiAgICAgIH1cblxuICAgICAgbGV0IGNvbWJpbmVkVHlwZVZhbGlkYXRvcjogVmFsaWRhdGVGdW5jdGlvbjtcbiAgICAgIGxldCB0eXBlTWV0aG9kTmFtZSA9IFwiXCI7XG5cbiAgICAgIGlmICh0eXBlRnVuY3Rpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0eXBlTWV0aG9kTmFtZSA9IHR5cGVOYW1lc1swXTtcbiAgICAgICAgY29uc3Qgc2luZ2xlVHlwZUZuID0gdHlwZUZ1bmN0aW9uc1swXTtcbiAgICAgICAgY29tYmluZWRUeXBlVmFsaWRhdG9yID0gKGRhdGEpID0+IHtcbiAgICAgICAgICBpZiAoIXNpbmdsZVR5cGVGbihkYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmluZVR5cGVFcnJvcihcIkludmFsaWQgdHlwZVwiLCB7IGRhdGEgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZU1ldGhvZE5hbWUgPSB0eXBlTmFtZXMuam9pbihcIl9PUl9cIik7XG4gICAgICAgIGNvbWJpbmVkVHlwZVZhbGlkYXRvciA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlRnVuY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodHlwZUZ1bmN0aW9uc1tpXShkYXRhKSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBkZWZpbmVUeXBlRXJyb3IoXCJJbnZhbGlkIHR5cGVcIiwgeyBkYXRhIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0eXBlQWRhcHRlcjogS2V5d29yZEZ1bmN0aW9uID0gKF9zLCBkYXRhKSA9PlxuICAgICAgICBjb21iaW5lZFR5cGVWYWxpZGF0b3IoZGF0YSk7XG5cbiAgICAgIHZhbGlkYXRvcnMucHVzaCh7XG4gICAgICAgIGZuOiBnZXROYW1lZEZ1bmN0aW9uKHR5cGVNZXRob2ROYW1lLCB0eXBlQWRhcHRlciksXG4gICAgICAgIGRlZmluZUVycm9yOiBkZWZpbmVUeXBlRXJyb3JcbiAgICAgIH0pO1xuICAgICAgYWN0aXZlTmFtZXMucHVzaCh0eXBlTWV0aG9kTmFtZSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyB0eXBlLCAkaWQsICRyZWYsICR2YWxpZGF0ZSwgcmVxdWlyZWQsIC4uLm90aGVyS2V5cyB9ID0gc2NoZW1hOyAvLyBFeGNsdWRlIGhhbmRsZWQga2V5c1xuXG4gICAgLy8gSW4gaGVyZSB3ZSBjcmVhdGUgYW4gYXJyYXkgb2Yga2V5cyBwdXR0aW5nIHRoZSByZXF1aXJlIGtleXdvcmQgbGFzdFxuICAgIC8vIFRoaXMgaXMgdG8gZW5zdXJlIHJlcXVpcmVkIHByb3BlcnRpZXMgYXJlIGNoZWNrZWQgYWZ0ZXIgZGVmYXVsdHMgYXJlIGFwcGxpZWRcbiAgICBjb25zdCBrZXlPcmRlciA9IHJlcXVpcmVkXG4gICAgICA/IFsuLi5PYmplY3Qua2V5cyhvdGhlcktleXMpLCBcInJlcXVpcmVkXCJdXG4gICAgICA6IE9iamVjdC5rZXlzKG90aGVyS2V5cyk7XG4gICAgZm9yIChjb25zdCBrZXkgb2Yga2V5T3JkZXIpIHtcbiAgICAgIGNvbnN0IGtleXdvcmRGbiA9IHRoaXMuZ2V0S2V5d29yZChrZXkpO1xuXG4gICAgICBpZiAoa2V5d29yZEZuKSB7XG4gICAgICAgIGNvbnN0IGRlZmluZUVycm9yID0gZ2V0RGVmaW5lZEVycm9yRnVuY3Rpb25Gb3JLZXkoXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIHNjaGVtYVtrZXldLFxuICAgICAgICAgIHRoaXMuZmFpbEZhc3RcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgZm5OYW1lID0ga2V5d29yZEZuLm5hbWUgfHwga2V5O1xuXG4gICAgICAgIHZhbGlkYXRvcnMucHVzaCh7XG4gICAgICAgICAgZm46IGtleXdvcmRGbiBhcyBLZXl3b3JkRnVuY3Rpb24sXG4gICAgICAgICAgZGVmaW5lRXJyb3JcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWN0aXZlTmFtZXMucHVzaChmbk5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGxpdGVyYWxLZXl3b3JkcyA9IFtcImVudW1cIiwgXCJjb25zdFwiLCBcImRlZmF1bHRcIiwgXCJleGFtcGxlc1wiXTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlPcmRlcikge1xuICAgICAgaWYgKGxpdGVyYWxLZXl3b3Jkcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KHNjaGVtYVtrZXldKSkge1xuICAgICAgICBpZiAoa2V5ID09PSBcInByb3BlcnRpZXNcIikge1xuICAgICAgICAgIGZvciAoY29uc3Qgc3ViS2V5IG9mIE9iamVjdC5rZXlzKHNjaGVtYVtrZXldKSkge1xuICAgICAgICAgICAgY29tcGlsZWRTY2hlbWFba2V5XVtzdWJLZXldID0gdGhpcy5jb21waWxlU2NoZW1hKFxuICAgICAgICAgICAgICBzY2hlbWFba2V5XVtzdWJLZXldXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb21waWxlZFNjaGVtYVtrZXldID0gdGhpcy5jb21waWxlU2NoZW1hKHNjaGVtYVtrZXldKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYVtrZXldKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYVtrZXldLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNTY2hlbWFMaWtlKHNjaGVtYVtrZXldW2ldKSkge1xuICAgICAgICAgICAgY29tcGlsZWRTY2hlbWFba2V5XVtpXSA9IHRoaXMuY29tcGlsZVNjaGVtYShzY2hlbWFba2V5XVtpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2YWxpZGF0b3JzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGNvbXBpbGVkU2NoZW1hO1xuICAgIH1cblxuICAgIGlmICh2YWxpZGF0b3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc3QgdiA9IHZhbGlkYXRvcnNbMF07XG4gICAgICBjb21waWxlZFNjaGVtYS4kdmFsaWRhdGUgPSBnZXROYW1lZEZ1bmN0aW9uKGFjdGl2ZU5hbWVzWzBdLCAoZGF0YSkgPT5cbiAgICAgICAgdi5mbihjb21waWxlZFNjaGVtYSwgZGF0YSwgdi5kZWZpbmVFcnJvciwgdGhpcylcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbXBvc2l0ZU5hbWUgPSBcIlZhbGlkYXRlX1wiICsgYWN0aXZlTmFtZXMuam9pbihcIl9BTkRfXCIpO1xuXG4gICAgICBjb25zdCBtYXN0ZXJWYWxpZGF0b3I6IFZhbGlkYXRlRnVuY3Rpb24gPSAoZGF0YSkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbGlkYXRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCB2ID0gdmFsaWRhdG9yc1tpXTtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IHYuZm4oY29tcGlsZWRTY2hlbWEsIGRhdGEsIHYuZGVmaW5lRXJyb3IsIHRoaXMpO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9O1xuXG4gICAgICBjb21waWxlZFNjaGVtYS4kdmFsaWRhdGUgPSBnZXROYW1lZEZ1bmN0aW9uKFxuICAgICAgICBjb21wb3NpdGVOYW1lLFxuICAgICAgICBtYXN0ZXJWYWxpZGF0b3JcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBpbGVkU2NoZW1hIGFzIENvbXBpbGVkU2NoZW1hO1xuICB9XG5cbiAgaXNTY2hlbWFMaWtlKHN1YlNjaGVtYTogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKGlzT2JqZWN0KHN1YlNjaGVtYSkpIHtcbiAgICAgIGlmIChcInR5cGVcIiBpbiBzdWJTY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IHN1YktleSBpbiBzdWJTY2hlbWEpIHtcbiAgICAgICAgaWYgKHN1YktleSBpbiB0aGlzLmtleXdvcmRzKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBsaW5rUmVmZXJlbmNlcyhyb290OiBDb21waWxlZFNjaGVtYSkge1xuICAgIGNvbnN0IHN0YWNrOiBhbnlbXSA9IFtyb290XTtcblxuICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBub2RlID0gc3RhY2sucG9wKCk7XG5cbiAgICAgIGlmICghbm9kZSB8fCB0eXBlb2Ygbm9kZSAhPT0gXCJvYmplY3RcIikgY29udGludWU7XG5cbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIG5vZGUuJHJlZiA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICB0eXBlb2Ygbm9kZS4kdmFsaWRhdGUgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICBub2RlLiR2YWxpZGF0ZS5uYW1lID09PSBcIlZhbGlkYXRlX1JlZmVyZW5jZVwiXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgcmVmUGF0aCA9IG5vZGUuJHJlZiBhcyBzdHJpbmc7XG5cbiAgICAgICAgbGV0IHRhcmdldDogYW55ID0gdGhpcy5nZXRTY2hlbWFSZWYocmVmUGF0aCk7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgdGFyZ2V0ID0gdGhpcy5nZXRTY2hlbWFCeUlkKHJlZlBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgaWYgKHRhcmdldCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbm9kZS4kdmFsaWRhdGUgPSBnZXROYW1lZEZ1bmN0aW9uKFwiVmFsaWRhdGVfUmVmX1RydWVcIiwgKCkgPT4ge30pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkZWZpbmVFcnJvciA9IGdldERlZmluZWRFcnJvckZ1bmN0aW9uRm9yS2V5KFxuICAgICAgICAgICAgICBcIiRyZWZcIixcbiAgICAgICAgICAgICAgbm9kZSBhcyBhbnksXG4gICAgICAgICAgICAgIHRoaXMuZmFpbEZhc3RcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIG5vZGUuJHZhbGlkYXRlID0gZ2V0TmFtZWRGdW5jdGlvbihcbiAgICAgICAgICAgICAgXCJWYWxpZGF0ZV9SZWZfRmFsc2VcIixcbiAgICAgICAgICAgICAgKF9kYXRhOiBhbnkpID0+IGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXQgJiYgdHlwZW9mIHRhcmdldC4kdmFsaWRhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIG5vZGUuJHZhbGlkYXRlID0gdGFyZ2V0LiR2YWxpZGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBub2RlKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbm9kZVtrZXldO1xuICAgICAgICBpZiAoIXZhbHVlKSBjb250aW51ZTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2ID0gdmFsdWVbaV07XG4gICAgICAgICAgICBpZiAodiAmJiB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICBzdGFjay5wdXNoKHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBzdGFjay5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiTUFZTyxJQUFNQSxFQUFOLGNBQThCQyxNQUNuQ0MsUUFDQUMsS0FDQUMsUUFDQUMsTUFDQUMsV0FBcUIsR0FDckJDLGFBQXVCLEdBQ3ZCQyxLQUNBQyxPQUVRQyxVQUFVQyxFQUFVLElBQUtDLEVBQWtCLEtBQ2pELElBQUlOLEVBQWEsR0FBR0ssS0FBV0UsS0FBS1QsVUFDaENHLEVBQWUsR0FBR0ssSUFZdEIsWUFYeUIsSUFBZEMsS0FBS1YsT0FDVyxpQkFBZFUsS0FBS1YsTUFBcUJVLEtBQUtWLFFBQVFVLEtBQUtKLFNBQ3JESCxHQUFjLElBQUlPLEtBQUtWLFFBRXpCSSxHQUFnQixJQUFJTSxLQUFLVixRQUczQlUsS0FBS04sYUFBZUEsRUFDcEJNLEtBQUtQLFdBQWFBLEVBR2JPLEtBQUtSLE9BQVdRLEtBQUtSLGlCQUFpQkwsRUFJcENhLEtBQUtSLE1BQU1LLFVBQVVKLEVBQVlDLEdBSC9CTSxJQUlYLENBRUFDLFdBQ0UsT0FBT0QsS0FBS0gsV0FDZCxDQUVRSyxXQUNOLE1BQU1DLEVBQWtCLENBQ3RCZCxRQUFTVyxLQUFLWCxRQUNkRSxRQUFTUyxLQUFLVCxRQUNkRCxLQUFNVSxLQUFLVixLQUNYRyxXQUFZTyxLQUFLUCxXQUNqQkMsYUFBY00sS0FBS04sYUFDbkJDLEtBQU1LLEtBQUtMLE1BT2IsT0FKSUssS0FBS1IsUUFDUFcsRUFBS1gsTUFBUVEsS0FBS1IsTUFBTVUsWUFHbkJDLENBQ1QsQ0FFQUMsVUFFRSxPQURBSixLQUFLQyxXQUNFRCxLQUFLRSxVQUNkLENBRUFHLFVBQ0UsTUFBTWIsRUFBUVEsS0FBS0MsV0FDbkIsTUFBTyxDQUNMUixXQUFZRCxFQUFNQyxXQUNsQkMsYUFBY0YsRUFBTUUs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