//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWYWxpZGF0aW9uRXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJpdGVtIiwia2V5d29yZCIsImNhdXNlIiwicGF0aCIsImRhdGEiLCJzY2hlbWEiLCJfZ2V0Q2F1c2UiLCJwb2ludGVyIiwidGhpcyIsImdldENhdXNlIiwiZ2V0RGVmaW5lZEVycm9yRnVuY3Rpb25Gb3JLZXkiLCJrZXkiLCJLZXl3b3JkRXJyb3IiLCJnZXROYW1lZEZ1bmN0aW9uIiwib3B0aW9ucyIsImRlZXBFcXVhbCIsIm9iaiIsIm90aGVyIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiaSIsImtleXMiLCJPYmplY3QiLCJpc09iamVjdCIsImRlZXBDbG9uZSIsInJlc3VsdCIsImNvbnN0cnVjdG9yIiwibmFtZSIsImlzQ29tcGlsZWRTY2hlbWEiLCJzdWJTY2hlbWEiLCJmbiIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJSZWdFeHBzIiwidGltZSIsInVyaSIsImRhdGUiLCJkYXlzSW5Nb250aCIsIkZvcm1hdHMiLCJtYXRjaCIsImRheSIsIk51bWJlciIsInllYXJTdHIiLCJtb250aFN0ciIsImhvdXJTdHIiLCJtaW51dGVTdHIiLCJzZWNvbmRTdHIiLCJ0aW1lem9uZVNpZ24iLCJ0aW1lem9uZUhvdXJTdHIiLCJ0aW1lem9uZU1pbnV0ZVN0ciIsInllYXIiLCJtb250aCIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJ0aW1lem9uZUhvdXIiLCJ0aW1lem9uZU1pbnV0ZSIsInRlc3QiLCJlbWFpbCIsImlwdjQiLCJpcHY2IiwiYWRkcmVzcyIsImluZGV4T2YiLCJoYXNJcHY0IiwiYWRkcmVzc1BhcnRzIiwic3BsaXQiLCJpcHY0UGFydCIsInBvcCIsImlzU2hvcnRlbmVkIiwiaXB2NlBhcnQiLCJqb2luIiwiaXNJcHY2VmFsaWQiLCJoYXNJbnZhbGlkQ2hhciIsImhvc3RuYW1lIiwiaXNOYU4iLCJEYXRlIiwiZ2V0VGltZSIsInJlZ2V4IiwiUmVnRXhwIiwiZSIsImR1cmF0aW9uIiwidXVpZCIsImlyaSIsIlR5cGVzIiwib2JqZWN0IiwiYXJyYXkiLCJzdHJpbmciLCJudW1iZXIiLCJpbnRlZ2VyIiwiYm9vbGVhbiIsIm51bGwiLCJ0aW1lc3RhbXAiLCJpbnQ4IiwidW5pdDgiLCJpbnQxNiIsInVuaXQxNiIsImludDMyIiwidW5pdDMyIiwiZmxvYXQzMiIsImZsb2F0NjQiLCJrZXl3b3JkcyIsInJlcXVpcmVkIiwiZGVmaW5lRXJyb3IiLCJoYXNPd25Qcm9wZXJ0eSIsInByb3BlcnRpZXMiLCJlcnJvciIsIiR2YWxpZGF0ZSIsInNjaGVtYVByb3AiLCJkZWZhdWx0IiwidmFsdWVzIiwibWF4UHJvcGVydGllcyIsIm1pblByb3BlcnRpZXMiLCJhZGRpdGlvbmFsUHJvcGVydGllcyIsImlzQ29tcGlsZWQiLCJwYXR0ZXJuUHJvcGVydGllcyIsInBhdHRlcm4iLCJwYXR0ZXJucyIsInByb3BlcnR5TmFtZXMiLCJkZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmN5IiwidGhlbiIsImVsc2UiLCIkcmVmIiwiZGVmaW5pdGlvbnMiLCIkaWQiLCIkc2NoZW1hIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIiRjb21tZW50IiwiZXhhbXBsZXMiLCJjb250ZW50TWVkaWFUeXBlIiwiY29udGVudEVuY29kaW5nIiwiZGlzY3JpbWluYXRvciIsIm51bGxhYmxlIiwiaXRlbXMiLCJzY2hlbWFJdGVtcyIsImRhdGFMZW5ndGgiLCJzY2hlbWFJdGVtc0xlbmd0aCIsIml0ZW1zTGVuZ3RoIiwiTWF0aCIsIm1pbiIsInNjaGVtYUl0ZW0iLCJlbGVtZW50cyIsIm1pbkl0ZW1zIiwibWF4SXRlbXMiLCJhZGRpdGlvbmFsSXRlbXMiLCJ1bmlxdWVJdGVtcyIsInVuaXF1ZSIsIlNldCIsIml0ZW1TdHIiLCJKU09OIiwic3RyaW5naWZ5IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwic29ydCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsIlN0cmluZyIsImhhcyIsImFkZCIsImNvbnRhaW5zIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwicGF0dGVyblJlZ2V4cCIsImZvcm1hdCIsImluc3RhbmNlIiwiZm9ybWF0VmFsaWRhdGUiLCJnZXRGb3JtYXQiLCJtaW5pbXVtIiwiZXhjbHVzaXZlTWluaW11bSIsIm1heGltdW0iLCJtYXgiLCJleGNsdXNpdmVNYXhpbXVtIiwibXVsdGlwbGVPZiIsInF1b3RpZW50IiwiaXNGaW5pdGUiLCJlcHNpbG9uIiwiYWJzIiwiYXJlQ2xvc2VFbm91Z2giLCJyb3VuZCIsImVudW0iLCJlbnVtSXRlbSIsImFsbE9mIiwiQm9vbGVhbiIsImFueU9mIiwib25lT2YiLCJ2YWxpZENvdW50IiwiY29uc3QiLCJpZiIsIm5vdCIsInR5cGVzIiwiZm9ybWF0cyIsImltbXV0YWJsZSIsInR5cGUiLCJ2YWxpZGF0b3IiLCJhZGRUeXBlIiwiYWRkS2V5d29yZCIsImFkZEZvcm1hdCIsIm92ZXJ3cml0ZSIsImdldFR5cGUiLCJnZXRLZXl3b3JkIiwiY29tcGlsZSIsImNvbXBpbGVkU2NoZW1hIiwiY29tcGlsZVNjaGVtYSIsImlzU2NoZW1hTGlrZSIsInZhbGlkYXRlIiwiY2xvbmVkRGF0YSIsInZhbGlkIiwiZGVmaW5lVHlwZUVycm9yIiwidHlwZVZhbGlkYXRpb25zIiwibWV0aG9kTmFtZSIsIm1hcCIsInQiLCJ0cmltIiwicHVzaCIsInR5cGVWYWxpZGF0aW9uc0xlbmd0aCIsInR5cGVWYWxpZGF0aW9uIiwia2V5d29yZFZhbGlkYXRvciIsInByZXZWYWxpZGF0b3IiLCJpbmRleCIsInN1YktleSJdLCJzb3VyY2VzIjpbIi4uL2xpYi91dGlscy50cyIsIi4uL2xpYi9mb3JtYXRzLnRzIiwiLi4vbGliL3R5cGVzLnRzIiwiLi4vbGliL2tleXdvcmRzLnRzIiwiLi4vbGliL2tleXdvcmRzL29iamVjdC1rZXl3b3Jkcy50cyIsIi4uL2xpYi9rZXl3b3Jkcy9hcnJheS1rZXl3b3Jkcy50cyIsIi4uL2xpYi9rZXl3b3Jkcy9zdHJpbmcta2V5d29yZHMudHMiLCIuLi9saWIva2V5d29yZHMvbnVtYmVyLWtleXdvcmRzLnRzIiwiLi4vbGliL2tleXdvcmRzL290aGVyLWtleXdvcmRzLnRzIiwiLi4vbGliL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBpbGVkU2NoZW1hIH0gZnJvbSBcIi4vaW5kZXhcIjtcblxuZXhwb3J0IGNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBpdGVtOiBzdHJpbmcgfCBudW1iZXI7XG4gIGtleXdvcmQ6IHN0cmluZztcbiAgY2F1c2U6IFZhbGlkYXRpb25FcnJvcjtcbiAgcGF0aDogc3RyaW5nID0gXCJcIjtcbiAgZGF0YT86IGFueTtcbiAgc2NoZW1hPzogQ29tcGlsZWRTY2hlbWE7XG5cbiAgcHJpdmF0ZSBfZ2V0Q2F1c2UocG9pbnRlciA9IFwiI1wiKSB7XG4gICAgY29uc3QgcGF0aCA9XG4gICAgICBwb2ludGVyICtcbiAgICAgIFwiL1wiICtcbiAgICAgIHRoaXMua2V5d29yZCArXG4gICAgICAodHlwZW9mIHRoaXMuaXRlbSAhPT0gXCJ1bmRlZmluZWRcIiA/IFwiL1wiICsgdGhpcy5pdGVtIDogXCJcIik7XG5cbiAgICBpZiAoIXRoaXMuY2F1c2UpIHtcbiAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jYXVzZS5fZ2V0Q2F1c2UocGF0aCk7XG4gIH1cblxuICBnZXRDYXVzZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q2F1c2UoKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlZmluZUVycm9yT3B0aW9ucyB7XG4gIGl0ZW0/OiBhbnk7IC8vIEZpbmFsIGl0ZW0gaW4gdGhlIHBhdGhcbiAgY2F1c2U/OiBWYWxpZGF0aW9uRXJyb3I7IC8vIENhdXNlIG9mIHRoZSBlcnJvclxuICBkYXRhPzogYW55OyAvLyBEYXRhIHRoYXQgY2F1c2VkIHRoZSBlcnJvclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlZmluZUVycm9yRnVuY3Rpb24ge1xuICAobWVzc2FnZTogc3RyaW5nLCBvcHRpb25zPzogRGVmaW5lRXJyb3JPcHRpb25zKTogVmFsaWRhdGlvbkVycm9yO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmaW5lZEVycm9yRnVuY3Rpb25Gb3JLZXkoXG4gIGtleTogc3RyaW5nLFxuICBzY2hlbWE6IENvbXBpbGVkU2NoZW1hXG4pIHtcbiAgY29uc3QgS2V5d29yZEVycm9yID0gbmV3IFZhbGlkYXRpb25FcnJvcihgSW52YWxpZCAke2tleX1gKTtcbiAgS2V5d29yZEVycm9yLmtleXdvcmQgPSBrZXk7XG4gIEtleXdvcmRFcnJvci5zY2hlbWEgPSBzY2hlbWE7XG5cbiAgY29uc3QgZGVmaW5lRXJyb3I6IERlZmluZUVycm9yRnVuY3Rpb24gPSAobWVzc2FnZSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgS2V5d29yZEVycm9yLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIEtleXdvcmRFcnJvci5pdGVtID0gb3B0aW9ucy5pdGVtO1xuICAgIEtleXdvcmRFcnJvci5jYXVzZSA9IG9wdGlvbnMuY2F1c2U7XG4gICAgS2V5d29yZEVycm9yLmRhdGEgPSBvcHRpb25zLmRhdGE7XG4gICAgcmV0dXJuIEtleXdvcmRFcnJvcjtcbiAgfTtcblxuICByZXR1cm4gZ2V0TmFtZWRGdW5jdGlvbjxEZWZpbmVFcnJvckZ1bmN0aW9uPihcbiAgICBgZGVmaW5lRXJyb3JfJHtrZXl9YCxcbiAgICBkZWZpbmVFcnJvclxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVlcEVxdWFsKFxuICBvYmo6IEFycmF5PGFueT4gfCBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICBvdGhlcjogQXJyYXk8YW55PiB8IFJlY29yZDxzdHJpbmcsIGFueT5cbikge1xuICBpZiAoQXJyYXkuaXNBcnJheShvYmopICYmIEFycmF5LmlzQXJyYXkob3RoZXIpKSB7XG4gICAgaWYgKG9iai5sZW5ndGggIT09IG90aGVyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWRlZXBFcXVhbChvYmpbaV0sIG90aGVyW2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb3RoZXIgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAob2JqID09PSBudWxsIHx8IG90aGVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gb2JqID09PSBvdGhlcjtcbiAgICB9XG5cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBpZiAoa2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKG90aGVyKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICBpZiAoIWRlZXBFcXVhbChvYmpba2V5XSwgb3RoZXJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIG9iaiA9PT0gb3RoZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChkYXRhKSB7XG4gIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBkYXRhICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KGRhdGEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXJlQ2xvc2VFbm91Z2goYSwgYiwgZXBzaWxvbiA9IDFlLTE1KSB7XG4gIHJldHVybiBNYXRoLmFicyhhIC0gYikgPD0gZXBzaWxvbiAqIE1hdGgubWF4KE1hdGguYWJzKGEpLCBNYXRoLmFicyhiKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVVEYxNkxlbmd0aChzdHIpIHtcbiAgbGV0IGxlbmd0aCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY29kZVBvaW50ID0gc3RyLmNvZGVQb2ludEF0KGkpO1xuICAgIGlmIChjb2RlUG9pbnQgPiAweGZmZmYpIHtcbiAgICAgIGkrKztcbiAgICB9XG4gICAgbGVuZ3RoKys7XG4gIH1cbiAgcmV0dXJuIGxlbmd0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBDbG9uZShvYmo6IGFueSk6IGFueSB7XG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0W2ldID0gZGVlcENsb25lKG9ialtpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBJcyBjbGFzcyBpbnN0YW5jZSBvZiBhbnkga2luZFxuICBpZiAob2JqICYmIG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IubmFtZSAhPT0gXCJPYmplY3RcIikge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBpZiAoaXNPYmplY3Qob2JqKSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIC4uLm9ialxuICAgIH07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGRlZXBDbG9uZShvYmpba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb21waWxlZFNjaGVtYShzdWJTY2hlbWE6IGFueSk6IHN1YlNjaGVtYSBpcyBDb21waWxlZFNjaGVtYSB7XG4gIHJldHVybiBpc09iamVjdChzdWJTY2hlbWEpICYmIFwiJHZhbGlkYXRlXCIgaW4gc3ViU2NoZW1hO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZWRGdW5jdGlvbjxUPihuYW1lOiBzdHJpbmcsIGZuOiBUKTogVCB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIFwibmFtZVwiLCB7IHZhbHVlOiBuYW1lIH0pO1xufVxuIiwiaW1wb3J0IHsgRm9ybWF0RnVuY3Rpb24gfSBmcm9tIFwiLi9pbmRleFwiO1xuXG4vLyBUaGUgZGF0ZXRpbWUgMTk5MC0wMi0zMVQxNTo1OTo2MC4xMjMtMDg6MDAgbXVzdCBiZSByZWplY3RlZC5cbmNvbnN0IFJlZ0V4cHMgPSB7XG4gIHRpbWU6IC9eKFxcZHsyfSk6KFxcZHsyfSk6KFxcZHsyfSkoXFwuXFxkKyk/KFp8KFsrLV0pKFxcZHsyfSk6KFxcZHsyfSkpJC8sXG4gIHVyaTogL15bYS16QS1aXVthLXpBLVowLTkrXFwtLl0qOlteXFxzXSokLyxcbiAgZGF0ZTogL14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KSQvLFxuICBcImpzb24tcG9pbnRlclwiOiAvXlxcLyg/Oltefl18fjB8fjEpKiQvLFxuICBcInJlbGF0aXZlLWpzb24tcG9pbnRlclwiOiAvXihbMC05XSspKCN8XFwvKD86W15+XXx+MHx+MSkqKT8kL1xufTtcblxuY29uc3QgZGF5c0luTW9udGggPSBbMzEsICwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdO1xuXG5leHBvcnQgY29uc3QgRm9ybWF0czogUmVjb3JkPHN0cmluZywgRm9ybWF0RnVuY3Rpb24gfCBmYWxzZT4gPSB7XG4gIFtcImRhdGUtdGltZVwiXShkYXRhKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBkYXRhLm1hdGNoKFxuICAgICAgL14oXFxkezR9KS0oMFswLTldfDFbMC0yXSktKFxcZHsyfSlUKDBbMC05XXwxXFxkfDJbMC0zXSk6KFswLTVdXFxkKTooKD86WzAtNV1cXGR8NjApKSg/Oi5cXGQrKT8oPzooWystXSkoMFswLTldfDFcXGR8MlswLTNdKTooWzAtNV1cXGQpfFopPyQvaVxuICAgICk7XG5cbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IGRheSA9IE51bWJlcihtYXRjaFszXSk7XG5cbiAgICBpZiAobWF0Y2hbMl0gPT09IFwiMDJcIiAmJiBkYXkgPiAyOSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IFtcbiAgICAgICxcbiAgICAgIHllYXJTdHIsXG4gICAgICBtb250aFN0cixcbiAgICAgICxcbiAgICAgIGhvdXJTdHIsXG4gICAgICBtaW51dGVTdHIsXG4gICAgICBzZWNvbmRTdHIsXG4gICAgICB0aW1lem9uZVNpZ24sXG4gICAgICB0aW1lem9uZUhvdXJTdHIsXG4gICAgICB0aW1lem9uZU1pbnV0ZVN0clxuICAgIF0gPSBtYXRjaDtcblxuICAgIGxldCB5ZWFyID0gTnVtYmVyKHllYXJTdHIpO1xuICAgIGxldCBtb250aCA9IE51bWJlcihtb250aFN0cik7XG4gICAgbGV0IGhvdXIgPSBOdW1iZXIoaG91clN0cik7XG4gICAgbGV0IG1pbnV0ZSA9IE51bWJlcihtaW51dGVTdHIpO1xuICAgIGxldCBzZWNvbmQgPSBOdW1iZXIoc2Vjb25kU3RyKTtcblxuICAgIGlmICh0aW1lem9uZVNpZ24gPT09IFwiLVwiIHx8IHRpbWV6b25lU2lnbiA9PT0gXCIrXCIpIHtcbiAgICAgIGNvbnN0IHRpbWV6b25lSG91ciA9IE51bWJlcih0aW1lem9uZUhvdXJTdHIpO1xuICAgICAgY29uc3QgdGltZXpvbmVNaW51dGUgPSBOdW1iZXIodGltZXpvbmVNaW51dGVTdHIpO1xuXG4gICAgICBpZiAodGltZXpvbmVTaWduID09PSBcIi1cIikge1xuICAgICAgICBob3VyICs9IHRpbWV6b25lSG91cjtcbiAgICAgICAgbWludXRlICs9IHRpbWV6b25lTWludXRlO1xuICAgICAgfSBlbHNlIGlmICh0aW1lem9uZVNpZ24gPT09IFwiK1wiKSB7XG4gICAgICAgIGhvdXIgLT0gdGltZXpvbmVIb3VyO1xuICAgICAgICBtaW51dGUgLT0gdGltZXpvbmVNaW51dGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtaW51dGUgPiA1OSkge1xuICAgICAgICBob3VyICs9IDE7XG4gICAgICAgIG1pbnV0ZSAtPSA2MDtcbiAgICAgIH0gZWxzZSBpZiAobWludXRlIDwgMCkge1xuICAgICAgICBob3VyIC09IDE7XG4gICAgICAgIG1pbnV0ZSArPSA2MDtcbiAgICAgIH1cblxuICAgICAgaWYgKGhvdXIgPiAyMykge1xuICAgICAgICBkYXkgKz0gMTtcbiAgICAgICAgaG91ciAtPSAyNDtcbiAgICAgIH0gZWxzZSBpZiAoaG91ciA8IDApIHtcbiAgICAgICAgZGF5IC09IDE7XG4gICAgICAgIGhvdXIgKz0gMjQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXkgPiAzMSkge1xuICAgICAgICBtb250aCArPSAxO1xuICAgICAgICBkYXkgLT0gMzE7XG4gICAgICB9IGVsc2UgaWYgKGRheSA8IDEpIHtcbiAgICAgICAgbW9udGggLT0gMTtcbiAgICAgICAgZGF5ICs9IDMxO1xuICAgICAgfVxuXG4gICAgICBpZiAobW9udGggPiAxMikge1xuICAgICAgICB5ZWFyICs9IDE7XG4gICAgICAgIG1vbnRoIC09IDEyO1xuICAgICAgfSBlbHNlIGlmIChtb250aCA8IDEpIHtcbiAgICAgICAgeWVhciAtPSAxO1xuICAgICAgICBtb250aCArPSAxMjtcbiAgICAgIH1cblxuICAgICAgaWYgKHllYXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtYXhEYXlzID1cbiAgICAgIG1vbnRoID09PSAyXG4gICAgICAgID8geWVhciAlIDQgPT09IDAgJiYgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMClcbiAgICAgICAgICA/IDI5XG4gICAgICAgICAgOiAyOFxuICAgICAgICA6IGRheXNJbk1vbnRoW21vbnRoIC0gMV07XG5cbiAgICBpZiAoZGF5ID4gbWF4RGF5cykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIExlYXAgc2Vjb25kc1xuICAgIGlmIChzZWNvbmQgPT09IDYwICYmIChtaW51dGUgIT09IDU5IHx8IGhvdXIgIT09IDIzKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICB1cmkoZGF0YSkge1xuICAgIHJldHVybiBSZWdFeHBzLnVyaS50ZXN0KGRhdGEpO1xuICB9LFxuICBlbWFpbChkYXRhKSB7XG4gICAgcmV0dXJuIC9eKD8hXFwuKSg/IS4qXFwuJClbYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV17MSwyMH0oPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV17MSwyMX0pezAsMn1AW2EtejAtOV0oPzpbYS16MC05LV17MCw2MX1bYS16MC05XSk/KD86XFwuW2EtejAtOV0oPzpbYS16MC05LV17MCw2MH1bYS16MC05XSk/KXswLDN9JC9pLnRlc3QoXG4gICAgICBkYXRhXG4gICAgKTtcbiAgfSxcbiAgaXB2NChkYXRhKSB7XG4gICAgLy8gTWF0Y2hlcyBhIHN0cmluZyBmb3JtZWQgYnkgNCBudW1iZXJzIGJldHdlZW4gMCBhbmQgMjU1IHNlcGFyYXRlZCBieSBkb3RzIHdpdGhvdXQgbGVhZGluZyB6ZXJvc1xuICAgIC8vIC9eKCgyNVswLTVdfDJbMC00XVswLTldfDFbMC05XXsyfXxbMS05XVswLTldfFswLTldKVxcLil7M30oMjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV17Mn18WzEtOV1bMC05XXxbMC05XSkkL1xuICAgIHJldHVybiAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFsxLTldWzAtOV18WzAtOV0pJC8udGVzdChcbiAgICAgIGRhdGFcbiAgICApO1xuICB9LFxuXG4gIC8vIGlwdjY6IGlzTXlJcFZhbGlkKHsgdmVyc2lvbjogNiB9KSxcbiAgaXB2NihhZGRyZXNzKSB7XG4gICAgaWYgKGFkZHJlc3MgPT09IFwiOjpcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgYWRkcmVzcy5pbmRleE9mKFwiOlwiKSA9PT0gLTEgfHxcbiAgICAgIC8oPzpcXHMrfDo6Oit8Xlxcd3s1LH18XFx3ezV9JHxeOnsxfVxcd3xcXHc6ezF9JCkvLnRlc3QoYWRkcmVzcylcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBoYXNJcHY0ID0gYWRkcmVzcy5pbmRleE9mKFwiLlwiKSAhPT0gLTE7XG4gICAgbGV0IGFkZHJlc3NQYXJ0cyA9IGFkZHJlc3M7XG5cbiAgICBpZiAoaGFzSXB2NCkge1xuICAgICAgYWRkcmVzc1BhcnRzID0gYWRkcmVzcy5zcGxpdChcIjpcIik7XG4gICAgICBjb25zdCBpcHY0UGFydCA9IGFkZHJlc3NQYXJ0cy5wb3AoKTtcbiAgICAgIGlmIChcbiAgICAgICAgIS9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV17Mn18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV17Mn18WzEtOV1bMC05XXxbMC05XSkkLy50ZXN0KFxuICAgICAgICAgIGlwdjRQYXJ0XG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaXNTaG9ydGVuZWQgPSBhZGRyZXNzLmluZGV4T2YoXCI6OlwiKSAhPT0gLTE7XG4gICAgY29uc3QgaXB2NlBhcnQgPSBoYXNJcHY0ID8gYWRkcmVzc1BhcnRzLmpvaW4oXCI6XCIpIDogYWRkcmVzcztcblxuICAgIGlmIChpc1Nob3J0ZW5lZCkge1xuICAgICAgaWYgKGlwdjZQYXJ0LnNwbGl0KFwiOjpcIikubGVuZ3RoIC0gMSA+IDEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIS9eWzAtOWEtZkEtRjouXSokLy50ZXN0KGlwdjZQYXJ0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAvXig/Oig/Oig/OlswLTlhLWZBLUZdezEsNH0oPzo6fCQpKXsxLDZ9KSl8KD86OjooPzpbMC05YS1mQS1GXXsxLDR9KSl7MCw1fSQvLnRlc3QoXG4gICAgICAgIGlwdjZQYXJ0XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGlzSXB2NlZhbGlkID1cbiAgICAgIC9eKD86KD86WzAtOWEtZkEtRl17MSw0fTopezd9KD86WzAtOWEtZkEtRl17MSw0fXw6KSkkLy50ZXN0KGlwdjZQYXJ0KTtcblxuICAgIGNvbnN0IGhhc0ludmFsaWRDaGFyID0gLyg/OlswLTlhLWZBLUZdezUsfXxcXERbMC05YS1mQS1GXXszfTopLy50ZXN0KFxuICAgICAgaXB2NlBhcnRcbiAgICApO1xuXG4gICAgaWYgKGhhc0lwdjQpIHtcbiAgICAgIHJldHVybiBpc0lwdjZWYWxpZCB8fCAhaGFzSW52YWxpZENoYXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzSXB2NlZhbGlkICYmICFoYXNJbnZhbGlkQ2hhcjtcbiAgfSxcblxuICBob3N0bmFtZShkYXRhKSB7XG4gICAgcmV0dXJuIC9eW2EtejAtOV1bYS16MC05LV17MCw2Mn0oPzpcXC5bYS16MC05XVthLXowLTktXXswLDYyfSkqW2EtejAtOV0kL2kudGVzdChcbiAgICAgIGRhdGFcbiAgICApO1xuICB9LFxuICBkYXRlKGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoUmVnRXhwcy5kYXRlLnRlc3QoZGF0YSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuICFpc05hTihuZXcgRGF0ZShkYXRhKS5nZXRUaW1lKCkpO1xuICB9LFxuICByZWdleChkYXRhKSB7XG4gICAgdHJ5IHtcbiAgICAgIG5ldyBSZWdFeHAoZGF0YSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBcImpzb24tcG9pbnRlclwiKGRhdGEpIHtcbiAgICBpZiAoZGF0YSA9PT0gXCJcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlZ0V4cHNbXCJqc29uLXBvaW50ZXJcIl0udGVzdChkYXRhKTtcbiAgfSxcbiAgXCJyZWxhdGl2ZS1qc29uLXBvaW50ZXJcIihkYXRhKSB7XG4gICAgaWYgKGRhdGEgPT09IFwiXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBSZWdFeHBzW1wicmVsYXRpdmUtanNvbi1wb2ludGVyXCJdLnRlc3QoZGF0YSk7XG4gIH0sXG4gIHRpbWUoZGF0YSkge1xuICAgIHJldHVybiBSZWdFeHBzLnRpbWUudGVzdChkYXRhKTtcbiAgfSxcblxuICAvLyBOb3Qgc3VwcG9ydGVkIHlldFxuICBkdXJhdGlvbjogZmFsc2UsXG4gIFwiaWRuLWVtYWlsXCI6IGZhbHNlLFxuICBcImlkbi1ob3N0bmFtZVwiOiBmYWxzZSxcbiAgdXVpZDogZmFsc2UsXG4gIFwidXJpLXJlZmVyZW5jZVwiOiBmYWxzZSxcbiAgaXJpOiBmYWxzZSxcbiAgXCJpcmktcmVmZXJlbmNlXCI6IGZhbHNlLFxuICBcInVyaS10ZW1wbGF0ZVwiOiBmYWxzZVxufTtcbiIsImltcG9ydCB7IFR5cGVGdW5jdGlvbiB9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBUeXBlczogUmVjb3JkPHN0cmluZywgVHlwZUZ1bmN0aW9uIHwgZmFsc2U+ID0ge1xuICBvYmplY3QoZGF0YSkge1xuICAgIHJldHVybiBpc09iamVjdChkYXRhKTtcbiAgfSxcbiAgYXJyYXkoZGF0YSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgIGRhdGEgIT09IG51bGwgJiZcbiAgICAgIFwibGVuZ3RoXCIgaW4gZGF0YSAmJlxuICAgICAgXCIwXCIgaW4gZGF0YSAmJlxuICAgICAgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoIC0gMSA9PT0gZGF0YS5sZW5ndGhcbiAgICApO1xuICB9LFxuICBzdHJpbmcoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIjtcbiAgfSxcbiAgbnVtYmVyKGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwibnVtYmVyXCI7XG4gIH0sXG4gIGludGVnZXIoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJudW1iZXJcIiAmJiBkYXRhICUgMSA9PT0gMDtcbiAgfSxcbiAgYm9vbGVhbihkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcImJvb2xlYW5cIjtcbiAgfSxcbiAgbnVsbChkYXRhKSB7XG4gICAgcmV0dXJuIGRhdGEgPT09IG51bGw7XG4gIH0sXG5cbiAgLy8gTm90IGltcGxlbWVudGVkIHlldFxuICB0aW1lc3RhbXA6IGZhbHNlLFxuICBpbnQ4OiBmYWxzZSxcbiAgdW5pdDg6IGZhbHNlLFxuICBpbnQxNjogZmFsc2UsXG4gIHVuaXQxNjogZmFsc2UsXG4gIGludDMyOiBmYWxzZSxcbiAgdW5pdDMyOiBmYWxzZSxcbiAgZmxvYXQzMjogZmFsc2UsXG4gIGZsb2F0NjQ6IGZhbHNlXG5cblxufTtcbiIsImltcG9ydCB7IEFycmF5S2V5d29yZHMgfSBmcm9tIFwiLi9rZXl3b3Jkcy9hcnJheS1rZXl3b3Jkc1wiO1xuaW1wb3J0IHsgS2V5d29yZEZ1bmN0aW9uIH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7IE51bWJlcktleXdvcmRzIH0gZnJvbSBcIi4va2V5d29yZHMvbnVtYmVyLWtleXdvcmRzXCI7XG5pbXBvcnQgeyBPYmplY3RLZXl3b3JkcyB9IGZyb20gXCIuL2tleXdvcmRzL29iamVjdC1rZXl3b3Jkc1wiO1xuaW1wb3J0IHsgT3RoZXJLZXl3b3JkcyB9IGZyb20gXCIuL2tleXdvcmRzL290aGVyLWtleXdvcmRzXCI7XG5pbXBvcnQgeyBTdHJpbmdLZXl3b3JkcyB9IGZyb20gXCIuL2tleXdvcmRzL3N0cmluZy1rZXl3b3Jkc1wiO1xuXG5leHBvcnQgY29uc3Qga2V5d29yZHM6IFJlY29yZDxzdHJpbmcsIEtleXdvcmRGdW5jdGlvbiB8IGZhbHNlPiA9IHtcbiAgLi4uT2JqZWN0S2V5d29yZHMsXG4gIC4uLkFycmF5S2V5d29yZHMsXG4gIC4uLlN0cmluZ0tleXdvcmRzLFxuICAuLi5OdW1iZXJLZXl3b3JkcyxcbiAgLi4uT3RoZXJLZXl3b3Jkc1xufTtcbiIsImltcG9ydCB7IGlzQ29tcGlsZWRTY2hlbWEsIGlzT2JqZWN0IH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmltcG9ydCB7IEtleXdvcmRGdW5jdGlvbiB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5leHBvcnQgY29uc3QgT2JqZWN0S2V5d29yZHM6IFJlY29yZDxzdHJpbmcsIEtleXdvcmRGdW5jdGlvbiB8IGZhbHNlPiA9IHtcbiAgLy8gT2JqZWN0XG4gIHJlcXVpcmVkKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEucmVxdWlyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IHNjaGVtYS5yZXF1aXJlZFtpXTtcbiAgICAgIGlmICghZGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlJlcXVpcmVkIHByb3BlcnR5IGlzIG1pc3NpbmdcIiwge1xuICAgICAgICAgIGl0ZW06IGtleSxcbiAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIHByb3BlcnRpZXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhzY2hlbWEucHJvcGVydGllcykpIHtcbiAgICAgIGlmICghZGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtYVByb3AgPSBzY2hlbWEucHJvcGVydGllc1trZXldO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc2NoZW1hUHJvcCkgJiYgXCJkZWZhdWx0XCIgaW4gc2NoZW1hUHJvcCkge1xuICAgICAgICAgIGRhdGFba2V5XSA9IHNjaGVtYVByb3AuZGVmYXVsdDtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBzY2hlbWEucHJvcGVydGllc1trZXldID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBpZiAoc2NoZW1hLnByb3BlcnRpZXNba2V5XSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJQcm9wZXJ0eSBpcyBub3QgYWxsb3dlZFwiLCB7XG4gICAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFwiJHZhbGlkYXRlXCIgaW4gc2NoZW1hLnByb3BlcnRpZXNba2V5XSkge1xuICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0uJHZhbGlkYXRlKGRhdGFba2V5XSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlByb3BlcnR5IGlzIGludmFsaWRcIiwge1xuICAgICAgICAgICAgaXRlbToga2V5LFxuICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgZGF0YTogZGF0YVtrZXldXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgdmFsdWVzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpIHx8ICFpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS52YWx1ZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLnZhbHVlcy4kdmFsaWRhdGUoZGF0YVtrZXldKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJQcm9wZXJ0eSBpcyBpbnZhbGlkXCIsIHtcbiAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgIGRhdGE6IGRhdGFba2V5XVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgbWF4UHJvcGVydGllcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSB8fCBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPD0gc2NoZW1hLm1heFByb3BlcnRpZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJUb28gbWFueSBwcm9wZXJ0aWVzXCIsIHsgZGF0YSB9KTtcbiAgfSxcblxuICBtaW5Qcm9wZXJ0aWVzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpIHx8IE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA+PSBzY2hlbWEubWluUHJvcGVydGllcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlRvbyBmZXcgcHJvcGVydGllc1wiLCB7IGRhdGEgfSk7XG4gIH0sXG5cbiAgYWRkaXRpb25hbFByb3BlcnRpZXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XG4gICAgY29uc3QgaXNDb21waWxlZCA9IGlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICBpZiAoc2NoZW1hLnByb3BlcnRpZXMgJiYgc2NoZW1hLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcykge1xuICAgICAgICBsZXQgbWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBwYXR0ZXJuIGluIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcykge1xuICAgICAgICAgIGlmIChuZXcgUmVnRXhwKHBhdHRlcm4sIFwidVwiKS50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgIG1hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBZGRpdGlvbmFsIHByb3BlcnRpZXMgYXJlIG5vdCBhbGxvd2VkXCIsIHtcbiAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgZGF0YTogZGF0YVtrZXldXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNDb21waWxlZCkge1xuICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcy4kdmFsaWRhdGUoZGF0YVtrZXldKTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQWRkaXRpb25hbCBwcm9wZXJ0aWVzIGFyZSBpbnZhbGlkXCIsIHtcbiAgICAgICAgICAgIGl0ZW06IGtleSxcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgIGRhdGE6IGRhdGFba2V5XVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIHBhdHRlcm5Qcm9wZXJ0aWVzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGF0dGVybnMgPSBPYmplY3Qua2V5cyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpO1xuICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiBwYXR0ZXJucykge1xuICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHBhdHRlcm4sIFwidVwiKTtcbiAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm5dID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBpZiAoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm5dID09PSBmYWxzZSkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChyZWdleC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiUHJvcGVydHkgaXMgbm90IGFsbG93ZWRcIiwge1xuICAgICAgICAgICAgICAgIGl0ZW06IGtleSxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgIGlmIChyZWdleC50ZXN0KGtleSkpIHtcbiAgICAgICAgICBpZiAoXCIkdmFsaWRhdGVcIiBpbiBzY2hlbWEucGF0dGVyblByb3BlcnRpZXNbcGF0dGVybl0pIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm5dLiR2YWxpZGF0ZShcbiAgICAgICAgICAgICAgZGF0YVtrZXldXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlByb3BlcnR5IGlzIGludmFsaWRcIiwge1xuICAgICAgICAgICAgICAgIGl0ZW06IGtleSxcbiAgICAgICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVtrZXldXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBwcm9wZXJ0eU5hbWVzKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2NoZW1hLnByb3BlcnR5TmFtZXMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICBpZiAoc2NoZW1hLnByb3BlcnR5TmFtZXMgPT09IGZhbHNlICYmIE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiUHJvcGVydGllcyBhcmUgbm90IGFsbG93ZWRcIiwgeyBkYXRhIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNDb21waWxlZFNjaGVtYShzY2hlbWEucHJvcGVydHlOYW1lcykpIHtcbiAgICAgIGZvciAobGV0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLnByb3BlcnR5TmFtZXMuJHZhbGlkYXRlKGtleSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlByb3BlcnR5IG5hbWUgaXMgaW52YWxpZFwiLCB7XG4gICAgICAgICAgICBpdGVtOiBrZXksXG4gICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgICBkYXRhOiBkYXRhW2tleV1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBkZXBlbmRlbmNpZXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEuZGVwZW5kZW5jaWVzKSB7XG4gICAgICBpZiAoa2V5IGluIGRhdGEgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkZXBlbmRlbmN5ID0gc2NoZW1hLmRlcGVuZGVuY2llc1trZXldO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGVwZW5kZW5jeSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBlbmRlbmN5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCEoZGVwZW5kZW5jeVtpXSBpbiBkYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiRGVwZW5kZW5jeSBpcyBub3Qgc2F0aXNmaWVkXCIsIHtcbiAgICAgICAgICAgICAgaXRlbTogaSxcbiAgICAgICAgICAgICAgZGF0YTogZGVwZW5kZW5jeVtpXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBkZXBlbmRlbmN5ID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBpZiAoZGVwZW5kZW5jeSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkRlcGVuZGVuY3kgaXMgbm90IHNhdGlzZmllZFwiLCB7IGRhdGE6IGRlcGVuZGVuY3kgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgZGVwZW5kZW5jeSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoZGVwZW5kZW5jeSBpbiBkYXRhKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiRGVwZW5kZW5jeSBpcyBub3Qgc2F0aXNmaWVkXCIsIHsgZGF0YTogZGVwZW5kZW5jeSB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVycm9yID0gZGVwZW5kZW5jeS4kdmFsaWRhdGUoZGF0YSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiRGVwZW5kZW5jeSBpcyBub3Qgc2F0aXNmaWVkXCIsIHtcbiAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgZGF0YVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgLy8gUmVxdWlyZWQgYnkgb3RoZXIga2V5d29yZHMgYnV0IG5vdCB1c2VkIGFzIGEgZnVuY3Rpb24gaXRzZWxmXG4gIHRoZW46IGZhbHNlLFxuICBlbHNlOiBmYWxzZSxcbiAgZGVmYXVsdDogZmFsc2UsXG5cbiAgLy8gTm90IGltcGxlbWVudGVkIHlldFxuICAkcmVmOiBmYWxzZSxcbiAgZGVmaW5pdGlvbnM6IGZhbHNlLFxuICAkaWQ6IGZhbHNlLFxuICAkc2NoZW1hOiBmYWxzZSxcblxuICAvLyBNZXRhZGF0YSBrZXl3b3JkcyAobm90IHVzZWQgYXMgYSBmdW5jdGlvbilcbiAgdGl0bGU6IGZhbHNlLFxuICBkZXNjcmlwdGlvbjogZmFsc2UsXG4gICRjb21tZW50OiBmYWxzZSxcbiAgZXhhbXBsZXM6IGZhbHNlLFxuICBjb250ZW50TWVkaWFUeXBlOiBmYWxzZSxcbiAgY29udGVudEVuY29kaW5nOiBmYWxzZSxcblxuICAvLyBOb3Qgc3VwcG9ydGVkIE9wZW4gQVBJIGtleXdvcmRzXG4gIGRpc2NyaW1pbmF0b3I6IGZhbHNlLFxuICBudWxsYWJsZTogZmFsc2Vcbn07XG4iLCJpbXBvcnQgeyBpc0NvbXBpbGVkU2NoZW1hLCBpc09iamVjdCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5pbXBvcnQgeyBLZXl3b3JkRnVuY3Rpb24gfSBmcm9tIFwiLi4vaW5kZXhcIjtcblxuZXhwb3J0IGNvbnN0IEFycmF5S2V5d29yZHM6IFJlY29yZDxzdHJpbmcsIEtleXdvcmRGdW5jdGlvbj4gPSB7XG4gIGl0ZW1zKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzY2hlbWFJdGVtcyA9IHNjaGVtYS5pdGVtcztcbiAgICBjb25zdCBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGg7XG5cbiAgICBpZiAodHlwZW9mIHNjaGVtYUl0ZW1zID09PSBcImJvb2xlYW5cIikge1xuICAgICAgaWYgKHNjaGVtYUl0ZW1zID09PSBmYWxzZSAmJiBkYXRhTGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpdGVtcyBhcmUgbm90IGFsbG93ZWRcIiwgeyBkYXRhIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hSXRlbXMpKSB7XG4gICAgICBjb25zdCBzY2hlbWFJdGVtc0xlbmd0aCA9IHNjaGVtYUl0ZW1zLmxlbmd0aDtcbiAgICAgIGNvbnN0IGl0ZW1zTGVuZ3RoID0gTWF0aC5taW4oc2NoZW1hSXRlbXNMZW5ndGgsIGRhdGFMZW5ndGgpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtYUl0ZW0gPSBzY2hlbWFJdGVtc1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWFJdGVtID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgIGlmIChzY2hlbWFJdGVtID09PSBmYWxzZSAmJiB0eXBlb2YgZGF0YVtpXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgaXRlbSBpcyBub3QgYWxsb3dlZFwiLCB7XG4gICAgICAgICAgICAgIGl0ZW06IGksXG4gICAgICAgICAgICAgIGRhdGE6IGRhdGFbaV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYUl0ZW0pKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWFJdGVtLiR2YWxpZGF0ZShkYXRhW2ldKTtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGl0ZW0gaXMgaW52YWxpZFwiLCB7XG4gICAgICAgICAgICAgIGl0ZW06IGksXG4gICAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgICAgZGF0YTogZGF0YVtpXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNDb21waWxlZFNjaGVtYShzY2hlbWFJdGVtcykpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YUxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hSXRlbXMuJHZhbGlkYXRlKGRhdGFbaV0pO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpdGVtIGlzIGludmFsaWRcIiwge1xuICAgICAgICAgICAgaXRlbTogaSxcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgIGRhdGE6IGRhdGFbaV1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICBlbGVtZW50cyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpIHx8ICFpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS5lbGVtZW50cykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLmVsZW1lbnRzLiR2YWxpZGF0ZShkYXRhW2ldKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJBcnJheSBpdGVtIGlzIGludmFsaWRcIiwge1xuICAgICAgICAgIGl0ZW06IGksXG4gICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgIGRhdGE6IGRhdGFbaV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIG1pbkl0ZW1zKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkgfHwgZGF0YS5sZW5ndGggPj0gc2NoZW1hLm1pbkl0ZW1zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgaXMgdG9vIHNob3J0XCIsIHsgZGF0YSB9KTtcbiAgfSxcblxuICBtYXhJdGVtcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpIHx8IGRhdGEubGVuZ3RoIDw9IHNjaGVtYS5tYXhJdGVtcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGlzIHRvbyBsb25nXCIsIHsgZGF0YSB9KTtcbiAgfSxcblxuICBhZGRpdGlvbmFsSXRlbXMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghc2NoZW1hLml0ZW1zIHx8IGlzT2JqZWN0KHNjaGVtYS5pdGVtcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2NoZW1hLmFkZGl0aW9uYWxJdGVtcyA9PT0gZmFsc2UpIHtcbiAgICAgIGlmIChkYXRhLmxlbmd0aCA+IHNjaGVtYS5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgaXMgdG9vIGxvbmdcIiwgeyBkYXRhIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc09iamVjdChzY2hlbWEuYWRkaXRpb25hbEl0ZW1zKSkge1xuICAgICAgaWYgKGlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hLmFkZGl0aW9uYWxJdGVtcykpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHNjaGVtYS5pdGVtcy5sZW5ndGg7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWEuYWRkaXRpb25hbEl0ZW1zLiR2YWxpZGF0ZShkYXRhW2ldKTtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IGl0ZW0gaXMgaW52YWxpZFwiLCB7XG4gICAgICAgICAgICAgIGl0ZW06IGksXG4gICAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgICAgZGF0YTogZGF0YVtpXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICB1bmlxdWVJdGVtcyhzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpIHx8ICFzY2hlbWEudW5pcXVlSXRlbXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB1bmlxdWUgPSBuZXcgU2V0KCk7XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YSkge1xuICAgICAgbGV0IGl0ZW1TdHI7XG5cbiAgICAgIC8vIENoYW5nZSBzdHJpbmcgdG8gXCJzdHJpbmdcIiB0byBhdm9pZCBmYWxzZSBwb3NpdGl2ZXNcbiAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpdGVtU3RyID0gYHM6JHtpdGVtfWA7XG4gICAgICAgIC8vIFNvcnQgb2JqZWN0IGtleXMgdG8gYXZvaWQgZmFsc2UgcG9zaXRpdmVzXG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGl0ZW0pKSB7XG4gICAgICAgIGl0ZW1TdHIgPSBgbzoke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGl0ZW0pLnNvcnQoKFthXSwgW2JdKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpXG4gICAgICAgICAgKVxuICAgICAgICApfWA7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgaXRlbVN0ciA9IEpTT04uc3RyaW5naWZ5KGl0ZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbVN0ciA9IFN0cmluZyhpdGVtKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHVuaXF1ZS5oYXMoaXRlbVN0cikpIHtcbiAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgaXRlbXMgYXJlIG5vdCB1bmlxdWVcIiwgeyBkYXRhOiBpdGVtIH0pO1xuICAgICAgfVxuICAgICAgdW5pcXVlLmFkZChpdGVtU3RyKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgY29udGFpbnMoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNjaGVtYS5jb250YWlucyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIGlmIChzY2hlbWEuY29udGFpbnMpIHtcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBpdGVtXCIsIHsgZGF0YSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIkFycmF5IG11c3Qgbm90IGNvbnRhaW4gYW55IGl0ZW1zXCIsIHsgZGF0YSB9KTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLmNvbnRhaW5zLiR2YWxpZGF0ZShkYXRhW2ldKTtcbiAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiQXJyYXkgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBpdGVtXCIsIHsgZGF0YSB9KTtcbiAgfVxufTtcbiIsImltcG9ydCB7IEtleXdvcmRGdW5jdGlvbiB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5leHBvcnQgY29uc3QgU3RyaW5nS2V5d29yZHM6IFJlY29yZDxzdHJpbmcsIEtleXdvcmRGdW5jdGlvbj4gPSB7XG4gIG1pbkxlbmd0aChzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiIHx8IGRhdGEubGVuZ3RoID49IHNjaGVtYS5taW5MZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBzaG9ydGVyIHRoYW4gdGhlIG1pbmltdW0gbGVuZ3RoXCIsIHsgZGF0YSB9KTtcbiAgfSxcblxuICBtYXhMZW5ndGgoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvcikge1xuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiB8fCBkYXRhLmxlbmd0aCA8PSBzY2hlbWEubWF4TGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbG9uZ2VyIHRoYW4gdGhlIG1heGltdW0gbGVuZ3RoXCIsIHsgZGF0YSB9KTtcbiAgfSxcblxuICBwYXR0ZXJuKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXR0ZXJuUmVnZXhwID0gbmV3IFJlZ0V4cChzY2hlbWEucGF0dGVybiwgXCJ1XCIpO1xuXG4gICAgaWYgKHBhdHRlcm5SZWdleHAgaW5zdGFuY2VvZiBSZWdFeHAgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJJbnZhbGlkIHJlZ3VsYXIgZXhwcmVzc2lvblwiLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgaWYgKHBhdHRlcm5SZWdleHAudGVzdChkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGRvZXMgbm90IG1hdGNoIHRoZSBwYXR0ZXJuXCIsIHsgZGF0YSB9KTtcbiAgfSxcblxuICAvLyBUYWtlIGludG8gYWNjb3VudCB0aGF0IGlmIHdlIHJlY2VpdmUgYSBmb3JtYXQgdGhhdCBpcyBub3QgZGVmaW5lZCwgd2VcbiAgLy8gd2lsbCBub3QgdGhyb3cgYW4gZXJyb3IsIHdlIGp1c3QgaWdub3JlIGl0LlxuICBmb3JtYXQoc2NoZW1hLCBkYXRhLCBkZWZpbmVFcnJvciwgaW5zdGFuY2UpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBmb3JtYXRWYWxpZGF0ZSA9IGluc3RhbmNlLmdldEZvcm1hdChzY2hlbWEuZm9ybWF0KTtcbiAgICBpZiAoIWZvcm1hdFZhbGlkYXRlIHx8IGZvcm1hdFZhbGlkYXRlKGRhdGEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlIGZvcm1hdFwiLCB7IGRhdGEgfSk7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBLZXl3b3JkRnVuY3Rpb24gfSBmcm9tIFwiLi4vaW5kZXhcIjtcbmltcG9ydCB7IGFyZUNsb3NlRW5vdWdoIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBOdW1iZXJLZXl3b3JkczogUmVjb3JkPHN0cmluZywgS2V5d29yZEZ1bmN0aW9uPiA9IHtcbiAgbWluaW11bShzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yLCBpbnN0YW5jZSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBtaW4gPSBzY2hlbWEubWluaW11bTtcbiAgICBpZiAodHlwZW9mIHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtID09PSBcIm51bWJlclwiKSB7XG4gICAgICBtaW4gPSBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSArIDFlLTE1O1xuICAgIH0gZWxzZSBpZiAoc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0gPT09IHRydWUpIHtcbiAgICAgIG1pbiArPSAxZS0xNTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSA8IG1pbikge1xuICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbGVzcyB0aGFuIHRoZSBtaW5pbXVtXCIsIHsgZGF0YSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgbWF4aW11bShzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yLCBpbnN0YW5jZSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBtYXggPSBzY2hlbWEubWF4aW11bTtcbiAgICBpZiAodHlwZW9mIHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtID09PSBcIm51bWJlclwiKSB7XG4gICAgICBtYXggPSBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSAtIDFlLTE1O1xuICAgIH0gZWxzZSBpZiAoc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gPT09IHRydWUpIHtcbiAgICAgIG1heCAtPSAxZS0xNTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSA+IG1heCkge1xuICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtXCIsIHsgZGF0YSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgbXVsdGlwbGVPZihzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yLCBpbnN0YW5jZSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHF1b3RpZW50ID0gZGF0YSAvIHNjaGVtYS5tdWx0aXBsZU9mO1xuXG4gICAgaWYgKCFpc0Zpbml0ZShxdW90aWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWFyZUNsb3NlRW5vdWdoKHF1b3RpZW50LCBNYXRoLnJvdW5kKHF1b3RpZW50KSkpIHtcbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCBhIG11bHRpcGxlIG9mIHRoZSBtdWx0aXBsZU9mXCIsIHsgZGF0YSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgZXhjbHVzaXZlTWluaW11bShzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yLCBpbnN0YW5jZSkge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBkYXRhICE9PSBcIm51bWJlclwiIHx8XG4gICAgICB0eXBlb2Ygc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0gIT09IFwibnVtYmVyXCIgfHxcbiAgICAgIFwibWluaW11bVwiIGluIHNjaGVtYVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkYXRhIDw9IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtICsgMWUtMTUpIHtcbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgZXhjbHVzaXZlTWluaW11bVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0sXG5cbiAgZXhjbHVzaXZlTWF4aW11bShzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yLCBpbnN0YW5jZSkge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBkYXRhICE9PSBcIm51bWJlclwiIHx8XG4gICAgICB0eXBlb2Ygc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gIT09IFwibnVtYmVyXCIgfHxcbiAgICAgIFwibWF4aW11bVwiIGluIHNjaGVtYVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkYXRhID49IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKSB7XG4gICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXG4gICAgICAgIFwiVmFsdWUgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBleGNsdXNpdmVNYXhpbXVtXCIsXG4gICAgICAgIHsgZGF0YSB9XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxufTtcbiIsImltcG9ydCB7IGRlZXBFcXVhbCwgaXNDb21waWxlZFNjaGVtYSwgaXNPYmplY3QgfSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuaW1wb3J0IHsgS2V5d29yZEZ1bmN0aW9uIH0gZnJvbSBcIi4uL2luZGV4XCI7XG5cbmV4cG9ydCBjb25zdCBPdGhlcktleXdvcmRzOiBSZWNvcmQ8c3RyaW5nLCBLZXl3b3JkRnVuY3Rpb24+ID0ge1xuICBlbnVtKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICAvLyBDaGVjayBpZiBkYXRhIGlzIGFuIGFycmF5IG9yIGFuIG9iamVjdFxuICAgIGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGRhdGEpO1xuICAgIGNvbnN0IGlzT2JqZWN0ID0gdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiYgZGF0YSAhPT0gbnVsbDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hLmVudW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVudW1JdGVtID0gc2NoZW1hLmVudW1baV07XG5cbiAgICAgIC8vIFNpbXBsZSBlcXVhbGl0eSBjaGVja1xuICAgICAgaWYgKGVudW1JdGVtID09PSBkYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgZGF0YSBpcyBhbiBhcnJheSBvciBhbiBvYmplY3QsIGNoZWNrIGZvciBkZWVwIGVxdWFsaXR5XG4gICAgICBpZiAoXG4gICAgICAgIChpc0FycmF5ICYmIEFycmF5LmlzQXJyYXkoZW51bUl0ZW0pKSB8fFxuICAgICAgICAoaXNPYmplY3QgJiYgdHlwZW9mIGVudW1JdGVtID09PSBcIm9iamVjdFwiICYmIGVudW1JdGVtICE9PSBudWxsKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChkZWVwRXF1YWwoZW51bUl0ZW0sIGRhdGEpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IG9uZSBvZiB0aGUgYWxsb3dlZCB2YWx1ZXNcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIGFsbE9mKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYS5hbGxPZi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGlzT2JqZWN0KHNjaGVtYS5hbGxPZltpXSkpIHtcbiAgICAgICAgaWYgKFwiJHZhbGlkYXRlXCIgaW4gc2NoZW1hLmFsbE9mW2ldKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWEuYWxsT2ZbaV0uJHZhbGlkYXRlKGRhdGEpO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgY2F1c2U6IGVycm9yLCBkYXRhIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBzY2hlbWEuYWxsT2ZbaV0gPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIGlmIChCb29sZWFuKGRhdGEpICE9PSBzY2hlbWEuYWxsT2ZbaV0pIHtcbiAgICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBkYXRhIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YSAhPT0gc2NoZW1hLmFsbE9mW2ldKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIGFueU9mKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYS5hbnlPZi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGlzT2JqZWN0KHNjaGVtYS5hbnlPZltpXSkpIHtcbiAgICAgICAgaWYgKFwiJHZhbGlkYXRlXCIgaW4gc2NoZW1hLmFueU9mW2ldKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBzY2hlbWEuYW55T2ZbaV0uJHZhbGlkYXRlKGRhdGEpO1xuICAgICAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWEuYW55T2ZbaV0gPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgaWYgKEJvb2xlYW4oZGF0YSkgPT09IHNjaGVtYS5hbnlPZltpXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhID09PSBzY2hlbWEuYW55T2ZbaV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBkYXRhIH0pO1xuICB9LFxuXG4gIG9uZU9mKHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBsZXQgdmFsaWRDb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEub25lT2YubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpc09iamVjdChzY2hlbWEub25lT2ZbaV0pKSB7XG4gICAgICAgIGlmIChcIiR2YWxpZGF0ZVwiIGluIHNjaGVtYS5vbmVPZltpXSkge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gc2NoZW1hLm9uZU9mW2ldLiR2YWxpZGF0ZShkYXRhKTtcbiAgICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICB2YWxpZENvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkQ291bnQrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYS5vbmVPZltpXSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICBpZiAoQm9vbGVhbihkYXRhKSA9PT0gc2NoZW1hLm9uZU9mW2ldKSB7XG4gICAgICAgICAgICB2YWxpZENvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEgPT09IHNjaGVtYS5vbmVPZltpXSkge1xuICAgICAgICAgIHZhbGlkQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2YWxpZENvdW50ID09PSAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgZGF0YSB9KTtcbiAgfSxcblxuICBjb25zdChzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKFxuICAgICAgZGF0YSA9PT0gc2NoZW1hLmNvbnN0IHx8XG4gICAgICAoaXNPYmplY3QoZGF0YSkgJiZcbiAgICAgICAgaXNPYmplY3Qoc2NoZW1hLmNvbnN0KSAmJlxuICAgICAgICBkZWVwRXF1YWwoZGF0YSwgc2NoZW1hLmNvbnN0KSkgfHxcbiAgICAgIChBcnJheS5pc0FycmF5KGRhdGEpICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkoc2NoZW1hLmNvbnN0KSAmJlxuICAgICAgICBkZWVwRXF1YWwoZGF0YSwgc2NoZW1hLmNvbnN0KSlcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgZGF0YSB9KTtcbiAgfSxcblxuICBpZihzY2hlbWEsIGRhdGEsIGRlZmluZUVycm9yKSB7XG4gICAgaWYgKFwidGhlblwiIGluIHNjaGVtYSA9PT0gZmFsc2UgJiYgXCJlbHNlXCIgaW4gc2NoZW1hID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNjaGVtYS5pZiA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIGlmIChzY2hlbWEuaWYpIHtcbiAgICAgICAgaWYgKGlzQ29tcGlsZWRTY2hlbWEoc2NoZW1hLnRoZW4pKSB7XG4gICAgICAgICAgcmV0dXJuIHNjaGVtYS50aGVuLiR2YWxpZGF0ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS5lbHNlKSkge1xuICAgICAgICByZXR1cm4gc2NoZW1hLmVsc2UuJHZhbGlkYXRlKGRhdGEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghaXNDb21waWxlZFNjaGVtYShzY2hlbWEuaWYpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3IgPSBzY2hlbWEuaWYuJHZhbGlkYXRlKGRhdGEpO1xuICAgIGlmICghZXJyb3IpIHtcbiAgICAgIGlmIChpc0NvbXBpbGVkU2NoZW1hKHNjaGVtYS50aGVuKSkge1xuICAgICAgICByZXR1cm4gc2NoZW1hLnRoZW4uJHZhbGlkYXRlKGRhdGEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNDb21waWxlZFNjaGVtYShzY2hlbWEuZWxzZSkpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYS5lbHNlLiR2YWxpZGF0ZShkYXRhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sXG5cbiAgbm90KHNjaGVtYSwgZGF0YSwgZGVmaW5lRXJyb3IpIHtcbiAgICBpZiAodHlwZW9mIHNjaGVtYS5ub3QgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICBpZiAoc2NoZW1hLm5vdCkge1xuICAgICAgICByZXR1cm4gZGVmaW5lRXJyb3IoXCJWYWx1ZSBpcyBub3QgdmFsaWRcIiwgeyBkYXRhIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc09iamVjdChzY2hlbWEubm90KSkge1xuICAgICAgaWYgKFwiJHZhbGlkYXRlXCIgaW4gc2NoZW1hLm5vdCkge1xuICAgICAgICBjb25zdCBlcnJvciA9IHNjaGVtYS5ub3QuJHZhbGlkYXRlKGRhdGEpO1xuICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgY2F1c2U6IGVycm9yLCBkYXRhIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZpbmVFcnJvcihcIlZhbHVlIGlzIG5vdCB2YWxpZFwiLCB7IGRhdGEgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluZUVycm9yKFwiVmFsdWUgaXMgbm90IHZhbGlkXCIsIHsgZGF0YSB9KTtcbiAgfVxufTtcbiIsImltcG9ydCB7XG4gIERlZmluZUVycm9yRnVuY3Rpb24sXG4gIFZhbGlkYXRpb25FcnJvcixcbiAgZGVlcENsb25lLFxuICBnZXREZWZpbmVkRXJyb3JGdW5jdGlvbkZvcktleSxcbiAgZ2V0TmFtZWRGdW5jdGlvbixcbiAgaXNPYmplY3Rcbn0gZnJvbSBcIi4vdXRpbHNcIjtcblxuaW1wb3J0IHsgRm9ybWF0cyB9IGZyb20gXCIuL2Zvcm1hdHNcIjtcbmltcG9ydCB7IFR5cGVzIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGtleXdvcmRzIH0gZnJvbSBcIi4va2V5d29yZHNcIjtcblxuZXhwb3J0IHR5cGUgUmVzdWx0ID0gdm9pZCB8IFZhbGlkYXRpb25FcnJvcjtcblxuZXhwb3J0IGludGVyZmFjZSBLZXl3b3JkRnVuY3Rpb24ge1xuICAoXG4gICAgc2NoZW1hOiBDb21waWxlZFNjaGVtYSxcbiAgICBkYXRhOiBhbnksXG4gICAgZGVmaW5lRXJyb3I6IERlZmluZUVycm9yRnVuY3Rpb24sXG4gICAgaW5zdGFuY2U6IFNjaGVtYVNoaWVsZFxuICApOiBSZXN1bHQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHlwZUZ1bmN0aW9uIHtcbiAgKGRhdGE6IGFueSk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRm9ybWF0RnVuY3Rpb24ge1xuICAoZGF0YTogYW55KTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0ZUZ1bmN0aW9uIHtcbiAgKGRhdGE6IGFueSk6IFJlc3VsdDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFNjaGVtYSB7XG4gICR2YWxpZGF0ZT86IFZhbGlkYXRlRnVuY3Rpb247XG4gIFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0b3Ige1xuICAoZGF0YTogYW55KTogeyBkYXRhOiBhbnk7IGVycm9yOiBWYWxpZGF0aW9uRXJyb3IgfCBudWxsOyB2YWxpZDogYm9vbGVhbiB9O1xuICBjb21waWxlZFNjaGVtYTogQ29tcGlsZWRTY2hlbWE7XG59XG5cbmV4cG9ydCBjbGFzcyBTY2hlbWFTaGllbGQge1xuICBwcml2YXRlIHR5cGVzOiBSZWNvcmQ8c3RyaW5nLCBUeXBlRnVuY3Rpb24gfCBmYWxzZT4gPSB7fTtcbiAgcHJpdmF0ZSBmb3JtYXRzOiBSZWNvcmQ8c3RyaW5nLCBGb3JtYXRGdW5jdGlvbiB8IGZhbHNlPiA9IHt9O1xuICBwcml2YXRlIGtleXdvcmRzOiBSZWNvcmQ8c3RyaW5nLCBLZXl3b3JkRnVuY3Rpb24gfCBmYWxzZT4gPSB7fTtcbiAgcHJpdmF0ZSBpbW11dGFibGUgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgaW1tdXRhYmxlID0gZmFsc2VcbiAgfToge1xuICAgIGltbXV0YWJsZT86IGJvb2xlYW47XG4gIH0gPSB7fSkge1xuICAgIHRoaXMuaW1tdXRhYmxlID0gaW1tdXRhYmxlO1xuXG4gICAgZm9yIChjb25zdCBbdHlwZSwgdmFsaWRhdG9yXSBvZiBPYmplY3QuZW50cmllcyhUeXBlcykpIHtcbiAgICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgICAgdGhpcy5hZGRUeXBlKHR5cGUsIHZhbGlkYXRvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBba2V5d29yZCwgdmFsaWRhdG9yXSBvZiBPYmplY3QuZW50cmllcyhrZXl3b3JkcykpIHtcbiAgICAgIHRoaXMuYWRkS2V5d29yZChrZXl3b3JkLCB2YWxpZGF0b3IgYXMgS2V5d29yZEZ1bmN0aW9uKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFtmb3JtYXQsIHZhbGlkYXRvcl0gb2YgT2JqZWN0LmVudHJpZXMoRm9ybWF0cykpIHtcbiAgICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgICAgdGhpcy5hZGRGb3JtYXQoZm9ybWF0LCB2YWxpZGF0b3IgYXMgRm9ybWF0RnVuY3Rpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFkZFR5cGUobmFtZTogc3RyaW5nLCB2YWxpZGF0b3I6IFR5cGVGdW5jdGlvbiwgb3ZlcndyaXRlID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy50eXBlc1tuYW1lXSAmJiAhb3ZlcndyaXRlKSB7XG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGBUeXBlIFwiJHtuYW1lfVwiIGFscmVhZHkgZXhpc3RzYCk7XG4gICAgfVxuICAgIHRoaXMudHlwZXNbbmFtZV0gPSB2YWxpZGF0b3I7XG4gIH1cblxuICBnZXRUeXBlKHR5cGU6IHN0cmluZyk6IFR5cGVGdW5jdGlvbiB8IGZhbHNlIHtcbiAgICByZXR1cm4gdGhpcy50eXBlc1t0eXBlXTtcbiAgfVxuXG4gIGFkZEZvcm1hdChuYW1lOiBzdHJpbmcsIHZhbGlkYXRvcjogRm9ybWF0RnVuY3Rpb24sIG92ZXJ3cml0ZSA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMuZm9ybWF0c1tuYW1lXSAmJiAhb3ZlcndyaXRlKSB7XG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKGBGb3JtYXQgXCIke25hbWV9XCIgYWxyZWFkeSBleGlzdHNgKTtcbiAgICB9XG4gICAgdGhpcy5mb3JtYXRzW25hbWVdID0gdmFsaWRhdG9yO1xuICB9XG5cbiAgZ2V0Rm9ybWF0KGZvcm1hdDogc3RyaW5nKTogRm9ybWF0RnVuY3Rpb24gfCBmYWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0c1tmb3JtYXRdO1xuICB9XG5cbiAgYWRkS2V5d29yZChuYW1lOiBzdHJpbmcsIHZhbGlkYXRvcjogS2V5d29yZEZ1bmN0aW9uLCBvdmVyd3JpdGUgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLmtleXdvcmRzW25hbWVdICYmICFvdmVyd3JpdGUpIHtcbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoYEtleXdvcmQgXCIke25hbWV9XCIgYWxyZWFkeSBleGlzdHNgKTtcbiAgICB9XG4gICAgdGhpcy5rZXl3b3Jkc1tuYW1lXSA9IHZhbGlkYXRvcjtcbiAgfVxuXG4gIGdldEtleXdvcmQoa2V5d29yZDogc3RyaW5nKTogS2V5d29yZEZ1bmN0aW9uIHwgZmFsc2Uge1xuICAgIHJldHVybiB0aGlzLmtleXdvcmRzW2tleXdvcmRdO1xuICB9XG5cbiAgY29tcGlsZShzY2hlbWE6IGFueSk6IFZhbGlkYXRvciB7XG4gICAgY29uc3QgY29tcGlsZWRTY2hlbWEgPSB0aGlzLmNvbXBpbGVTY2hlbWEoc2NoZW1hKTtcbiAgICBpZiAoIWNvbXBpbGVkU2NoZW1hLiR2YWxpZGF0ZSkge1xuICAgICAgaWYgKHRoaXMuaXNTY2hlbWFMaWtlKHNjaGVtYSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXCJJbnZhbGlkIHNjaGVtYVwiKTtcbiAgICAgIH1cblxuICAgICAgY29tcGlsZWRTY2hlbWEuJHZhbGlkYXRlID0gZ2V0TmFtZWRGdW5jdGlvbjxWYWxpZGF0ZUZ1bmN0aW9uPihcbiAgICAgICAgXCJhbnlcIixcbiAgICAgICAgKCkgPT4ge31cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRhdGU6IFZhbGlkYXRvciA9IChkYXRhOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGNsb25lZERhdGEgPSB0aGlzLmltbXV0YWJsZSA/IGRlZXBDbG9uZShkYXRhKSA6IGRhdGE7XG4gICAgICBjb25zdCBlcnJvciA9IGNvbXBpbGVkU2NoZW1hLiR2YWxpZGF0ZShjbG9uZWREYXRhKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YTogY2xvbmVkRGF0YSxcbiAgICAgICAgZXJyb3I6IGVycm9yID8gZXJyb3IgOiBudWxsLFxuICAgICAgICB2YWxpZDogIWVycm9yXG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YWxpZGF0ZS5jb21waWxlZFNjaGVtYSA9IGNvbXBpbGVkU2NoZW1hO1xuXG4gICAgcmV0dXJuIHZhbGlkYXRlO1xuICB9XG5cbiAgcHJpdmF0ZSBjb21waWxlU2NoZW1hKHNjaGVtYTogUGFydGlhbDxDb21waWxlZFNjaGVtYT4gfCBhbnkpOiBDb21waWxlZFNjaGVtYSB7XG4gICAgaWYgKCFpc09iamVjdChzY2hlbWEpKSB7XG4gICAgICBpZiAoc2NoZW1hID09PSB0cnVlKSB7XG4gICAgICAgIHNjaGVtYSA9IHtcbiAgICAgICAgICBhbnlPZjogW3t9XVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChzY2hlbWEgPT09IGZhbHNlKSB7XG4gICAgICAgIHNjaGVtYSA9IHtcbiAgICAgICAgICBvbmVPZjogW11cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNjaGVtYSA9IHtcbiAgICAgICAgICBvbmVPZjogW3NjaGVtYV1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjb21waWxlZFNjaGVtYTogQ29tcGlsZWRTY2hlbWEgPSB7IC4uLnNjaGVtYSB9IGFzIENvbXBpbGVkU2NoZW1hO1xuICAgIGNvbnN0IGRlZmluZVR5cGVFcnJvciA9IGdldERlZmluZWRFcnJvckZ1bmN0aW9uRm9yS2V5KFwidHlwZVwiLCBzY2hlbWEpO1xuICAgIGNvbnN0IHR5cGVWYWxpZGF0aW9uczogVHlwZUZ1bmN0aW9uW10gPSBbXTtcblxuICAgIGxldCBtZXRob2ROYW1lID0gXCJcIjtcblxuICAgIGlmIChcInR5cGVcIiBpbiBzY2hlbWEpIHtcbiAgICAgIGNvbnN0IHR5cGVzID0gQXJyYXkuaXNBcnJheShzY2hlbWEudHlwZSlcbiAgICAgICAgPyBzY2hlbWEudHlwZVxuICAgICAgICA6IHNjaGVtYS50eXBlLnNwbGl0KFwiLFwiKS5tYXAoKHQpID0+IHQudHJpbSgpKTtcblxuICAgICAgZm9yIChjb25zdCB0eXBlIG9mIHR5cGVzKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRvciA9IHRoaXMuZ2V0VHlwZSh0eXBlKTtcbiAgICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICAgIHR5cGVWYWxpZGF0aW9ucy5wdXNoKHZhbGlkYXRvcik7XG4gICAgICAgICAgbWV0aG9kTmFtZSArPSAobWV0aG9kTmFtZSA/IFwiX09SX1wiIDogXCJcIikgKyB2YWxpZGF0b3IubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB0eXBlVmFsaWRhdGlvbnNMZW5ndGggPSB0eXBlVmFsaWRhdGlvbnMubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZVZhbGlkYXRpb25zTGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IGRlZmluZVR5cGVFcnJvcihcIkludmFsaWQgdHlwZSBmb3Igc2NoZW1hXCIsIHsgZGF0YTogc2NoZW1hLnR5cGUgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlVmFsaWRhdGlvbnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgY29uc3QgdHlwZVZhbGlkYXRpb24gPSB0eXBlVmFsaWRhdGlvbnNbMF07XG4gICAgICAgIGNvbXBpbGVkU2NoZW1hLiR2YWxpZGF0ZSA9IGdldE5hbWVkRnVuY3Rpb248VmFsaWRhdGVGdW5jdGlvbj4oXG4gICAgICAgICAgbWV0aG9kTmFtZSxcbiAgICAgICAgICAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0eXBlVmFsaWRhdGlvbihkYXRhKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZGVmaW5lVHlwZUVycm9yKFwiSW52YWxpZCB0eXBlXCIsIHsgZGF0YSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVWYWxpZGF0aW9uc0xlbmd0aCA+IDEpIHtcbiAgICAgICAgY29tcGlsZWRTY2hlbWEuJHZhbGlkYXRlID0gZ2V0TmFtZWRGdW5jdGlvbjxWYWxpZGF0ZUZ1bmN0aW9uPihcbiAgICAgICAgICBtZXRob2ROYW1lLFxuICAgICAgICAgIChkYXRhKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVWYWxpZGF0aW9uc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlVmFsaWRhdGlvbnNbaV0oZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWZpbmVUeXBlRXJyb3IoXCJJbnZhbGlkIHR5cGVcIiwgeyBkYXRhIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhzY2hlbWEpKSB7XG4gICAgICBpZiAoa2V5ID09PSBcInR5cGVcIikge1xuICAgICAgICBjb21waWxlZFNjaGVtYS50eXBlID0gc2NoZW1hLnR5cGU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXl3b3JkVmFsaWRhdG9yID0gdGhpcy5nZXRLZXl3b3JkKGtleSk7XG4gICAgICBpZiAoa2V5d29yZFZhbGlkYXRvcikge1xuICAgICAgICBjb25zdCBkZWZpbmVFcnJvciA9IGdldERlZmluZWRFcnJvckZ1bmN0aW9uRm9yS2V5KGtleSwgc2NoZW1hW2tleV0pO1xuICAgICAgICBpZiAoY29tcGlsZWRTY2hlbWEuJHZhbGlkYXRlKSB7XG4gICAgICAgICAgY29uc3QgcHJldlZhbGlkYXRvciA9IGNvbXBpbGVkU2NoZW1hLiR2YWxpZGF0ZTtcbiAgICAgICAgICBtZXRob2ROYW1lICs9IGBfQU5EXyR7a2V5d29yZFZhbGlkYXRvci5uYW1lfWA7XG4gICAgICAgICAgY29tcGlsZWRTY2hlbWEuJHZhbGlkYXRlID0gZ2V0TmFtZWRGdW5jdGlvbjxWYWxpZGF0ZUZ1bmN0aW9uPihcbiAgICAgICAgICAgIG1ldGhvZE5hbWUsXG4gICAgICAgICAgICAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IHByZXZWYWxpZGF0b3IoZGF0YSk7XG4gICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gKGtleXdvcmRWYWxpZGF0b3IgYXMgS2V5d29yZEZ1bmN0aW9uKShcbiAgICAgICAgICAgICAgICBjb21waWxlZFNjaGVtYSxcbiAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgIGRlZmluZUVycm9yLFxuICAgICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1ldGhvZE5hbWUgPSBrZXl3b3JkVmFsaWRhdG9yLm5hbWU7XG4gICAgICAgICAgY29tcGlsZWRTY2hlbWEuJHZhbGlkYXRlID0gZ2V0TmFtZWRGdW5jdGlvbjxWYWxpZGF0ZUZ1bmN0aW9uPihcbiAgICAgICAgICAgIG1ldGhvZE5hbWUsXG4gICAgICAgICAgICAoZGF0YSkgPT5cbiAgICAgICAgICAgICAgKGtleXdvcmRWYWxpZGF0b3IgYXMgS2V5d29yZEZ1bmN0aW9uKShcbiAgICAgICAgICAgICAgICBjb21waWxlZFNjaGVtYSxcbiAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgIGRlZmluZUVycm9yLFxuICAgICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzT2JqZWN0KHNjaGVtYVtrZXldKSkge1xuICAgICAgICBjb21waWxlZFNjaGVtYVtrZXldID0gdGhpcy5jb21waWxlU2NoZW1hKHNjaGVtYVtrZXldKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYVtrZXldKSkge1xuICAgICAgICBjb21waWxlZFNjaGVtYVtrZXldID0gc2NoZW1hW2tleV0ubWFwKChzdWJTY2hlbWEsIGluZGV4KSA9PlxuICAgICAgICAgIHRoaXMuaXNTY2hlbWFMaWtlKHN1YlNjaGVtYSlcbiAgICAgICAgICAgID8gdGhpcy5jb21waWxlU2NoZW1hKHN1YlNjaGVtYSlcbiAgICAgICAgICAgIDogc3ViU2NoZW1hXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb21waWxlZFNjaGVtYVtrZXldID0gc2NoZW1hW2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBpbGVkU2NoZW1hIGFzIENvbXBpbGVkU2NoZW1hO1xuICB9XG5cbiAgaXNTY2hlbWFMaWtlKHN1YlNjaGVtYTogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKGlzT2JqZWN0KHN1YlNjaGVtYSkpIHtcbiAgICAgIGlmIChcInR5cGVcIiBpbiBzdWJTY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IHN1YktleSBpbiBzdWJTY2hlbWEpIHtcbiAgICAgICAgaWYgKHN1YktleSBpbiB0aGlzLmtleXdvcmRzKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJNQUVPLElBQU1BLEVBQU4sY0FBOEJDLE1BQ25DQyxRQUNBQyxLQUNBQyxRQUNBQyxNQUNBQyxLQUFlLEdBQ2ZDLEtBQ0FDLE9BRVFDLFVBQVVDLEVBQVUsS0FDMUIsTUFBTUosRUFDSkksRUFDQSxJQUNBQyxLQUFLUCxjQUNpQixJQUFkTyxLQUFLUixLQUF1QixJQUFNUSxLQUFLUixLQUFPLElBRXhELE9BQUtRLEtBQUtOLE1BS0hNLEtBQUtOLE1BQU1JLFVBQVVILElBSjFCSyxLQUFLTCxLQUFPQSxFQUNMSyxLQUlYLENBRUFDLFdBQ0UsT0FBT0QsS0FBS0YsV0FDZCxHQWFLLFNBQVNJLEVBQ2RDLEVBQ0FOLEdBRUEsTUFBTU8sRUFBZSxJQUFJZixFQUFnQixXQUFXYyxLQUNwREMsRUFBYVgsUUFBVVUsRUFDdkJDLEVBQWFQLE9BQVNBLEVBVXRCLE9BQU9RLEVBQ0wsZUFBZUYsSUFUd0IsQ0FBQ1osRUFBU2UsRUFBVSxDQUFDLEtBQzVERixFQUFhYixRQUFVQSxFQUN2QmEsRUFBYVosS0FBT2MsRUFBUWQsS0FDNUJZLEVBQWFWLE1BQVFZLEVBQVFaLE1BQzdCVSxFQUFhUixLQUFPVSxFQUFRVixLQUNyQlEsR0FPWCxDQUVPLFNBQVNHLEVBQ2RDLEVBQ0FDLEdBRUEsR0FBSUMsTUFBTUMsUUFBUUgsSUFBUUUsTUFBTUMsUUFBUUYsR0FBUSxDQUM5QyxHQUFJRCxFQUFJSSxTQUFXSCxFQUFNRyxPQUN2QixPQUFPLEVBR1QsUUFBU0MsRUFBSSxFQUFHQSxFQUFJTCxFQUFJSSxPQUFRQyxJQUM5QixJQUFLTixFQUFVQyxFQUFJSyxHQUFJSixFQUFNSSxJQUMzQixPQUFPLEVBSVgsT0FBTyxDQUNULENBRUEsR0FBbUIsaUJBQVJMLEdBQXFDLGlCQUFWQyxFQUFvQixDQUN4RCxHQUFZLE9BQVJELEdBQTBCLE9BQVZDLEVBQ2xCLE9BQU9ELElBQVFDLEVBR2pCLE1BQU1LLEVBQU9DLE9BQU9ELEtBQUtOLEdBQ3pCLEdBQUlNLEVBQUtGLFNBQVdHLE9BQU9ELEtBQUtMLEdBQU9HLE9BQ3JDLE9BQU8sRUFHVCxVQUFXVCxLQUFPVyxFQUNoQixJQUFLUCxFQUFVQyxFQUFJTCxHQUFNTSxFQUFNTixJQUM3QixPQUFPLEVBSVgsT0FBTyxDQUNULENBRUEsT0FBT0ssSUFBUUMsQ0FDakIsQ0FFTyxTQUFTTyxFQUFTcEIsR0FDdkIsTUFBdUIsaUJBQVRBLEdBQThCLE9BQVRBLElBQWtCYyxNQUFNQyxRQUFRZixFQUNyRSxDQWtCTyxTQUFTcUIsRUFBVVQsR0FDeEIsR0FBSUUsTUFBTUMsUUFBUUgsR0FBTSxDQUN0QixNQUFNVSxFQUFTLEdBQ2YsUUFBU0wsRUFBSSxFQUFHQSxFQUFJTCxFQUFJSSxPQUFRQyxJQUM5QkssRUFBT0wsR0FBS0ksRUFBVVQsRUFBSUssSUFFNUIsT0FBT0ssQ0FDVCxDQUdBLEdBQUlWLEdBQU9BLEVBQUlXLGFBQXdDLFdBQXpCWCxFQUFJVyxZQUFZQyxLQUM1QyxPQUFPWixFQUdULEdBQUlRLEVBQVNSLEdBQU0sQ0FDakIsTUFBTVUsRUFBUyxJQUNWVixHQUVMLFVBQVdMLEtBQU9LLEVBQ2hCVSxFQUFPZixHQUFPYyxFQUFVVCxFQUFJTCxJQUU5QixPQUFPZSxDQUNULENBRUEsT0FBT1YsQ0FDVCxDQUVPLFNBQVNhLEVBQWlCQyxHQUMvQixPQUFPTixFQUFTTSxJQUFjLGNBQWVBLENBQy9DLENBRU8sU0FBU2pCLEVBQW9CZSxFQUFjRyxHQUNoRCxPQUFPUixPQUFPUyxlQUFlRCxFQUFJLE9BQVEsQ0FBRUUsTUFBT0wsR0FDcEQsQ0N6SkEsSUFBTU0sRUFBVSxDQUNkQyxLQUFNLDZEQUNOQyxJQUFLLG9DQUNMQyxLQUFNLDRCQUNOLGVBQWdCLHNCQUNoQix3QkFBeUIsb0NBR3JCQyxFQUFjLENBQUMsR0FBSSxDQUFFLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBRWxEQyxFQUFrRCxDQUM3RCxZQUFjbkMsR0FDWixNQUFNb0MsRUFBUXBDLEVBQUtvQyxNQUNqQix3SUFHRixJQUFLQSxFQUNILE9BQU8sRUFHVCxJQUFJQyxFQUFNQyxPQUFPRixFQUFNLElBRXZCLEdBQWlCLE9BQWJBLEVBQU0sSUFBZUMsRUFBTSxHQUM3QixPQUFPLEVBR1QsTUFDRSxDQUNBRSxFQUNBQyxFQUNBLENBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBQ0VWLEVBRUosSUFBSVcsRUFBT1QsT0FBT0MsR0FDZFMsRUFBUVYsT0FBT0UsR0FDZlMsRUFBT1gsT0FBT0csR0FDZFMsRUFBU1osT0FBT0ksR0FDaEJTLEVBQVNiLE9BQU9LLEdBRXBCLEdBQXFCLE1BQWpCQyxHQUF5QyxNQUFqQkEsRUFBc0IsQ0FDaEQsTUFBTVEsRUFBZWQsT0FBT08sR0FDdEJRLEVBQWlCZixPQUFPUSxHQTBDOUIsR0F4Q3FCLE1BQWpCRixHQUNGSyxHQUFRRyxFQUNSRixHQUFVRyxHQUNnQixNQUFqQlQsSUFDVEssR0FBUUcsRUFDUkYsR0FBVUcsR0FHUkgsRUFBUyxJQUNYRCxHQUFRLEVBQ1JDLEdBQVUsSUFDREEsRUFBUyxJQUNsQkQsR0FBUSxFQUNSQyxHQUFVLElBR1JELEVBQU8sSUFDVFosR0FBTyxFQUNQWSxHQUFRLElBQ0NBLEVBQU8sSUFDaEJaLEdBQU8sRUFDUFksR0FBUSxJQUdOWixFQUFNLElBQ1JXLEdBQVMsRUFDVFgsR0FBTyxJQUNFQSxFQUFNLElBQ2ZXLEdBQVMsRUFDVFgsR0FBTyxJQUdMVyxFQUFRLElBQ1ZELEdBQVEsRUFDUkMsR0FBUyxJQUNBQSxFQUFRLElBQ2pCRCxHQUFRLEVBQ1JDLEdBQVMsSUFHUEQsRUFBTyxFQUNULE9BQU8sQ0FFWCxDQVNBLFFBQUlWLEdBTlEsSUFBVlcsRUFDSUQsRUFBTyxHQUFNLEdBQU1BLEVBQU8sS0FBUSxHQUFLQSxFQUFPLEtBQVEsRUFFcEQsR0FEQSxHQUVGYixFQUFZYyxFQUFRLE9BT1gsS0FBWEcsR0FBNkIsS0FBWEQsR0FBMEIsS0FBVEQsRUFLekMsRUFDQWpCLElBQUloQyxHQUNLOEIsRUFBUUUsSUFBSXNCLEtBQUt0RCxHQUUxQnVELE1BQU12RCxHQUNHLHNMQUFzTHNELEtBQzNMdEQsR0FHSndELEtBQUt4RCxHQUdJLGtIQUFrSHNELEtBQ3ZIdEQsR0FLSnlELEtBQUtDLEdBQ0gsR0FBZ0IsT0FBWkEsRUFDRixPQUFPLEVBR1QsSUFDMkIsSUFBekJBLEVBQVFDLFFBQVEsTUFDaEIsOENBQThDTCxLQUFLSSxHQUVuRCxPQUFPLEVBR1QsTUFBTUUsR0FBbUMsSUFBekJGLEVBQVFDLFFBQVEsS0FDaEMsSUFBSUUsRUFBZUgsRUFFbkIsR0FBSUUsRUFBUyxDQUNYQyxFQUFlSCxFQUFRSSxNQUFNLEtBQzdCLE1BQU1DLEVBQVdGLEVBQWFHLE1BQzlCLElBQ0csa0hBQWtIVixLQUNqSFMsR0FHRixPQUFPLENBRVgsQ0FFQSxNQUFNRSxHQUF3QyxJQUExQlAsRUFBUUMsUUFBUSxNQUM5Qk8sRUFBV04sRUFBVUMsRUFBYU0sS0FBSyxLQUFPVCxFQUVwRCxHQUFJTyxFQUNGLFFBQUlDLEVBQVNKLE1BQU0sTUFBTTlDLE9BQVMsRUFBSSxPQUlqQyxtQkFBbUJzQyxLQUFLWSxJQUl0Qiw2RUFBNkVaLEtBQ2xGWSxJQUlKLE1BQU1FLEVBQ0osdURBQXVEZCxLQUFLWSxHQUV4REcsRUFBaUIsd0NBQXdDZixLQUM3RFksR0FHRixPQUFJTixFQUNLUSxJQUFnQkMsRUFHbEJELElBQWdCQyxDQUN6QixFQUVBQyxTQUFTdEUsR0FDQSxtRUFBbUVzRCxLQUN4RXRELEdBR0ppQyxLQUFLakMsR0FDaUIsaUJBQVRBLEtBSXFCLElBQTVCOEIsRUFBUUcsS0FBS3FCLEtBQUt0RCxLQUlkdUUsTUFBTSxJQUFJQyxLQUFLeEUsR0FBTXlFLFlBRS9CQyxNQUFNMUUsR0FDSixJQUVFLE9BREEsSUFBSTJFLE9BQU8zRSxJQUNKLENBQ1QsT0FBUzRFLEdBQ1AsT0FBTyxDQUNULENBQ0YsRUFDQSxlQUFlNUUsR0FDQSxLQUFUQSxHQUlHOEIsRUFBUSxnQkFBZ0J3QixLQUFLdEQsR0FFdEMsd0JBQXdCQSxHQUNULEtBQVRBLEdBSUc4QixFQUFRLHlCQUF5QndCLEtBQUt0RCxHQUUvQytCLEtBQUsvQixHQUNJOEIsRUFBUUMsS0FBS3VCLEtBQUt0RCxHQUkzQjZFLFVBQVUsRUFDVixhQUFhLEVBQ2IsZ0JBQWdCLEVBQ2hCQyxNQUFNLEVBQ04saUJBQWlCLEVBQ2pCQyxLQUFLLEVBQ0wsaUJBQWlCLEVBQ2pCLGdCQUFnQixHQzdPTEMsRUFBOEMsQ0FDekRDLE9BQU9qRixHQUNFb0IsRUFBU3BCLEdBRWxCa0YsTUFBTWxGLEtBQ0FjLE1BQU1DLFFBQVFmLElBS0EsaUJBQVRBLEdBQ0UsT0FBVEEsR0FDQSxXQUFZQSxHQUNaLE1BQU9BLEdBQ1BtQixPQUFPRCxLQUFLbEIsR0FBTWdCLE9BQVMsSUFBTWhCLEVBQUtnQixPQUcxQ21FLE9BQU9uRixHQUNrQixpQkFBVEEsRUFFaEJvRixPQUFPcEYsR0FDa0IsaUJBQVRBLEVBRWhCcUYsUUFBUXJGLEdBQ2lCLGlCQUFUQSxHQUFxQkEsRUFBTyxHQUFNLEVBRWxEc0YsUUFBUXRGLEdBQ2lCLGtCQUFUQSxFQUVoQnVGLEtBQUt2RixHQUNhLE9BQVRBLEVBSVR3RixXQUFXLEVBQ1hDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxPQUFPLEVBQ1BDLFFBQVEsRUFDUkMsT0FBTyxFQUNQQyxRQUFRLEVBQ1JDLFNBQVMsRUFDVEMsU0FBUyxHQ3RDRUMsRUFBb0QsSUNITSxDQUVyRUMsU0FBU2pHLEVBQVFELEVBQU1tRyxHQUNyQixHQUFLL0UsRUFBU3BCLEdBSWQsUUFBU2lCLEVBQUksRUFBR0EsRUFBSWhCLEVBQU9pRyxTQUFTbEYsT0FBUUMsSUFBSyxDQUMvQyxNQUFNVixFQUFNTixFQUFPaUcsU0FBU2pGLEdBQzVCLElBQUtqQixFQUFLb0csZUFBZTdGLEdBQ3ZCLE9BQU80RixFQUFZLCtCQUFnQyxDQUNqRHZHLEtBQU1XLEVBQ05QLEtBQU1BLEVBQUtPLElBR2pCLENBR0YsRUFFQThGLFdBQVdwRyxFQUFRRCxFQUFNbUcsR0FDdkIsR0FBSy9FLEVBQVNwQixHQUlkLFVBQVdPLEtBQU9ZLE9BQU9ELEtBQUtqQixFQUFPb0csWUFDbkMsR0FBS3JHLEVBQUtvRyxlQUFlN0YsSUFRekIsR0FBc0Msa0JBQTNCTixFQUFPb0csV0FBVzlGLElBVTdCLEdBQUksY0FBZU4sRUFBT29HLFdBQVc5RixHQUFNLENBQ3pDLE1BQU0rRixFQUFRckcsRUFBT29HLFdBQVc5RixHQUFLZ0csVUFBVXZHLEVBQUtPLElBQ3BELEdBQUkrRixFQUNGLE9BQU9ILEVBQVksc0JBQXVCLENBQ3hDdkcsS0FBTVcsRUFDTlQsTUFBT3dHLEVBQ1B0RyxLQUFNQSxFQUFLTyxJQUdqQixPQWxCRSxJQUErQixJQUEzQk4sRUFBT29HLFdBQVc5RixHQUNwQixPQUFPNEYsRUFBWSwwQkFBMkIsQ0FDNUN2RyxLQUFNVyxFQUNOUCxLQUFNQSxFQUFLTyxTQVpqQixDQUNFLE1BQU1pRyxFQUFhdkcsRUFBT29HLFdBQVc5RixHQUNqQ2EsRUFBU29GLElBQWUsWUFBYUEsSUFDdkN4RyxFQUFLTyxHQUFPaUcsRUFBV0MsUUFHM0IsQ0F5QkosRUFFQUMsT0FBT3pHLEVBQVFELEVBQU1tRyxHQUNuQixJQUFLL0UsRUFBU3BCLEtBQVV5QixFQUFpQnhCLEVBQU95RyxRQUM5QyxPQUdGLE1BQU14RixFQUFPQyxPQUFPRCxLQUFLbEIsR0FDekIsVUFBV08sS0FBT1csRUFBTSxDQUN0QixNQUFNb0YsRUFBUXJHLEVBQU95RyxPQUFPSCxVQUFVdkcsRUFBS08sSUFDM0MsR0FBSStGLEVBQ0YsT0FBT0gsRUFBWSxzQkFBdUIsQ0FDeEN2RyxLQUFNVyxFQUNOVCxNQUFPd0csRUFDUHRHLEtBQU1BLEVBQUtPLElBR2pCLENBR0YsRUFFQW9HLGNBQWMxRyxFQUFRRCxFQUFNbUcsR0FDMUIsR0FBSy9FLEVBQVNwQixNQUFTbUIsT0FBT0QsS0FBS2xCLEdBQU1nQixRQUFVZixFQUFPMEcsZUFJMUQsT0FBT1IsRUFBWSxzQkFBdUIsQ0FBRW5HLFFBQzlDLEVBRUE0RyxjQUFjM0csRUFBUUQsRUFBTW1HLEdBQzFCLEdBQUsvRSxFQUFTcEIsTUFBU21CLE9BQU9ELEtBQUtsQixHQUFNZ0IsUUFBVWYsRUFBTzJHLGVBSTFELE9BQU9ULEVBQVkscUJBQXNCLENBQUVuRyxRQUM3QyxFQUVBNkcscUJBQXFCNUcsRUFBUUQsRUFBTW1HLEdBQ2pDLElBQUsvRSxFQUFTcEIsR0FDWixPQUdGLE1BQU1rQixFQUFPQyxPQUFPRCxLQUFLbEIsR0FDbkI4RyxFQUFhckYsRUFBaUJ4QixFQUFPNEcsc0JBQzNDLFVBQVd0RyxLQUFPVyxFQUNoQixJQUFJakIsRUFBT29HLGFBQWNwRyxFQUFPb0csV0FBV0QsZUFBZTdGLEdBQTFELENBSUEsR0FBSU4sRUFBTzhHLGtCQUFtQixDQUM1QixJQUFJM0UsR0FBUSxFQUNaLFVBQVc0RSxLQUFXL0csRUFBTzhHLGtCQUMzQixHQUFJLElBQUlwQyxPQUFPcUMsRUFBUyxLQUFLMUQsS0FBSy9DLEdBQU0sQ0FDdEM2QixHQUFRLEVBQ1IsS0FDRixDQUVGLEdBQUlBLEVBQ0YsUUFFSixDQUVBLElBQW9DLElBQWhDbkMsRUFBTzRHLHFCQUNULE9BQU9WLEVBQVksd0NBQXlDLENBQzFEdkcsS0FBTVcsRUFDTlAsS0FBTUEsRUFBS08sS0FJZixHQUFJdUcsRUFBWSxDQUNkLE1BQU1SLEVBQVFyRyxFQUFPNEcscUJBQXFCTixVQUFVdkcsRUFBS08sSUFDekQsR0FBSStGLEVBQ0YsT0FBT0gsRUFBWSxvQ0FBcUMsQ0FDdER2RyxLQUFNVyxFQUNOVCxNQUFPd0csRUFDUHRHLEtBQU1BLEVBQUtPLElBR2pCLENBL0JBLENBbUNKLEVBRUF3RyxrQkFBa0I5RyxFQUFRRCxFQUFNbUcsR0FDOUIsSUFBSy9FLEVBQVNwQixHQUNaLE9BR0YsTUFBTWlILEVBQVc5RixPQUFPRCxLQUFLakIsRUFBTzhHLG1CQUNwQyxVQUFXQyxLQUFXQyxFQUFVLENBQzlCLE1BQU12QyxFQUFRLElBQUlDLE9BQU9xQyxFQUFTLEtBQ2xDLEdBQWlELGtCQUF0Qy9HLEVBQU84RyxrQkFBa0JDLEdBQXdCLENBQzFELElBQTBDLElBQXRDL0csRUFBTzhHLGtCQUFrQkMsR0FDM0IsVUFBV3pHLEtBQU9QLEVBQ2hCLEdBQUkwRSxFQUFNcEIsS0FBSy9DLEdBQ2IsT0FBTzRGLEVBQVksMEJBQTJCLENBQzVDdkcsS0FBTVcsRUFDTlAsS0FBTUEsRUFBS08sS0FLbkIsUUFDRixDQUVBLE1BQU1XLEVBQU9DLE9BQU9ELEtBQUtsQixHQUN6QixVQUFXTyxLQUFPVyxFQUNoQixHQUFJd0QsRUFBTXBCLEtBQUsvQyxJQUNULGNBQWVOLEVBQU84RyxrQkFBa0JDLEdBQVUsQ0FDcEQsTUFBTVYsRUFBUXJHLEVBQU84RyxrQkFBa0JDLEdBQVNULFVBQzlDdkcsRUFBS08sSUFFUCxHQUFJK0YsRUFDRixPQUFPSCxFQUFZLHNCQUF1QixDQUN4Q3ZHLEtBQU1XLEVBQ05ULE1BQU93RyxFQUNQdEcsS0FBTUEsRUFBS08sSUFHakIsQ0FHTixDQUdGLEVBRUEyRyxjQUFjakgsRUFBUUQsRUFBTW1HLEdBQzFCLEdBQUsvRSxFQUFTcEIsR0FBZCxDQUdBLEdBQW9DLGtCQUF6QkMsRUFBT2lILGdCQUNhLElBQXpCakgsRUFBT2lILGVBQTJCL0YsT0FBT0QsS0FBS2xCLEdBQU1nQixPQUFTLEVBQy9ELE9BQU9tRixFQUFZLDZCQUE4QixDQUFFbkcsU0FHdkQsR0FBSXlCLEVBQWlCeEIsRUFBT2lILGVBQzFCLFFBQVMzRyxLQUFPUCxFQUFNLENBQ3BCLE1BQU1zRyxFQUFRckcsRUFBT2lILGNBQWNYLFVBQVVoRyxHQUM3QyxHQUFJK0YsRUFDRixPQUFPSCxFQUFZLDJCQUE0QixDQUM3Q3ZHLEtBQU1XLEVBQ05ULE1BQU93RyxFQUNQdEcsS0FBTUEsRUFBS08sSUFHakIsQ0FoQkYsQ0FvQkYsRUFFQTRHLGFBQWFsSCxFQUFRRCxFQUFNbUcsR0FDekIsR0FBSy9FLEVBQVNwQixHQUlkLFVBQVdPLEtBQU9OLEVBQU9rSCxhQUFjLENBQ3JDLEdBQUk1RyxLQUFPUCxJQUFTLEVBQ2xCLFNBR0YsTUFBTW9ILEVBQWFuSCxFQUFPa0gsYUFBYTVHLEdBQ3ZDLEdBQUlPLE1BQU1DLFFBQVFxRyxHQUFhLENBQzdCLFFBQVNuRyxFQUFJLEVBQUdBLEVBQUltRyxFQUFXcEcsT0FBUUMsSUFDckMsS0FBTW1HLEVBQVduRyxLQUFNakIsR0FDckIsT0FBT21HLEVBQVksOEJBQStCLENBQ2hEdkcsS0FBTXFCLEVBQ05qQixLQUFNb0gsRUFBV25HLEtBSXZCLFFBQ0YsQ0FDQSxHQUEwQixrQkFBZm1HLEVBQTBCLENBQ25DLEdBQUlBLEVBQ0YsU0FFRixPQUFPakIsRUFBWSw4QkFBK0IsQ0FBRW5HLEtBQU1vSCxHQUM1RCxDQUVBLEdBQTBCLGlCQUFmQSxFQUF5QixDQUNsQyxHQUFJQSxLQUFjcEgsRUFDaEIsU0FFRixPQUFPbUcsRUFBWSw4QkFBK0IsQ0FBRW5HLEtBQU1vSCxHQUM1RCxDQUNBLE1BQU1kLEVBQVFjLEVBQVdiLFVBQVV2RyxHQUNuQyxHQUFJc0csRUFDRixPQUFPSCxFQUFZLDhCQUErQixDQUNoRHJHLE1BQU93RyxFQUNQdEcsUUFHTixDQUdGLEVBR0FxSCxNQUFNLEVBQ05DLE1BQU0sRUFDTmIsU0FBUyxFQUdUYyxNQUFNLEVBQ05DLGFBQWEsRUFDYkMsS0FBSyxFQUNMQyxTQUFTLEVBR1RDLE9BQU8sRUFDUEMsYUFBYSxFQUNiQyxVQUFVLEVBQ1ZDLFVBQVUsRUFDVkMsa0JBQWtCLEVBQ2xCQyxpQkFBaUIsRUFHakJDLGVBQWUsRUFDZkMsVUFBVSxNQ3ZSa0QsQ0FDNURDLE1BQU1sSSxFQUFRRCxFQUFNbUcsR0FDbEIsSUFBS3JGLE1BQU1DLFFBQVFmLEdBQ2pCLE9BR0YsTUFBTW9JLEVBQWNuSSxFQUFPa0ksTUFDckJFLEVBQWFySSxFQUFLZ0IsT0FFeEIsR0FBMkIsa0JBQWhCb0gsRUFDVCxPQUFvQixJQUFoQkEsR0FBeUJDLEVBQWEsRUFDakNsQyxFQUFZLDhCQUErQixDQUFFbkcsY0FHdEQsRUFHRixHQUFJYyxNQUFNQyxRQUFRcUgsR0FBbEIsQ0FDRSxNQUFNRSxFQUFvQkYsRUFBWXBILE9BQ2hDdUgsRUFBY0MsS0FBS0MsSUFBSUgsRUFBbUJELEdBQ2hELFFBQVNwSCxFQUFJLEVBQUdBLEVBQUlzSCxFQUFhdEgsSUFBSyxDQUNwQyxNQUFNeUgsRUFBYU4sRUFBWW5ILEdBQy9CLEdBQTBCLGtCQUFmeUgsR0FVWCxHQUFJakgsRUFBaUJpSCxHQUFhLENBQ2hDLE1BQU1wQyxFQUFRb0MsRUFBV25DLFVBQVV2RyxFQUFLaUIsSUFDeEMsR0FBSXFGLEVBQ0YsT0FBT0gsRUFBWSx3QkFBeUIsQ0FDMUN2RyxLQUFNcUIsRUFDTm5CLE1BQU93RyxFQUNQdEcsS0FBTUEsRUFBS2lCLElBR2pCLE9BbEJFLElBQW1CLElBQWZ5SCxRQUEyQyxJQUFaMUksRUFBS2lCLEdBQ3RDLE9BQU9rRixFQUFZLDRCQUE2QixDQUM5Q3ZHLEtBQU1xQixFQUNOakIsS0FBTUEsRUFBS2lCLElBZ0JuQixDQUdGLE1BRUEsR0FBSVEsRUFBaUIyRyxHQUNuQixRQUFTbkgsRUFBSSxFQUFHQSxFQUFJb0gsRUFBWXBILElBQUssQ0FDbkMsTUFBTXFGLEVBQVE4QixFQUFZN0IsVUFBVXZHLEVBQUtpQixJQUN6QyxHQUFJcUYsRUFDRixPQUFPSCxFQUFZLHdCQUF5QixDQUMxQ3ZHLEtBQU1xQixFQUNObkIsTUFBT3dHLEVBQ1B0RyxLQUFNQSxFQUFLaUIsSUFHakIsQ0FJSixFQUVBMEgsU0FBUzFJLEVBQVFELEVBQU1tRyxHQUNyQixHQUFLckYsTUFBTUMsUUFBUWYsSUFBVXlCLEVBQWlCeEIsRUFBTzBJLFVBSXJELFFBQVMxSCxFQUFJLEVBQUdBLEVBQUlqQixFQUFLZ0IsT0FBUUMsSUFBSyxDQUNwQyxNQUFNcUYsRUFBUXJHLEVBQU8wSSxTQUFTcEMsVUFBVXZHLEVBQUtpQixJQUM3QyxHQUFJcUYsRUFDRixPQUFPSCxFQUFZLHdCQUF5QixDQUMxQ3ZHLEtBQU1xQixFQUNObkIsTUFBT3dHLEVBQ1B0RyxLQUFNQSxFQUFLaUIsSUFHakIsQ0FHRixFQUVBMkgsU0FBUzNJLEVBQVFELEVBQU1tRyxHQUNyQixHQUFLckYsTUFBTUMsUUFBUWYsTUFBU0EsRUFBS2dCLFFBQVVmLEVBQU8ySSxVQUlsRCxPQUFPekMsRUFBWSxxQkFBc0IsQ0FBRW5HLFFBQzdDLEVBRUE2SSxTQUFTNUksRUFBUUQsRUFBTW1HLEdBQ3JCLEdBQUtyRixNQUFNQyxRQUFRZixNQUFTQSxFQUFLZ0IsUUFBVWYsRUFBTzRJLFVBSWxELE9BQU8xQyxFQUFZLG9CQUFxQixDQUFFbkcsUUFDNUMsRUFFQThJLGdCQUFnQjdJLEVBQVFELEVBQU1tRyxHQUM1QixHQUFLbEcsRUFBT2tJLFFBQVMvRyxFQUFTbkIsRUFBT2tJLE9BQXJDLENBSUEsSUFBK0IsSUFBM0JsSSxFQUFPNkksZ0JBQ1QsT0FBSTlJLEVBQUtnQixPQUFTZixFQUFPa0ksTUFBTW5ILE9BQ3RCbUYsRUFBWSxvQkFBcUIsQ0FBRW5HLGNBRTVDLEVBR0YsR0FBSW9CLEVBQVNuQixFQUFPNkksa0JBQ2xCLEdBQUlySCxFQUFpQnhCLEVBQU82SSxpQkFBa0IsQ0FDNUMsUUFBUzdILEVBQUloQixFQUFPa0ksTUFBTW5ILE9BQVFDLEVBQUlqQixFQUFLZ0IsT0FBUUMsSUFBSyxDQUN0RCxNQUFNcUYsRUFBUXJHLEVBQU82SSxnQkFBZ0J2QyxVQUFVdkcsRUFBS2lCLElBQ3BELEdBQUlxRixFQUNGLE9BQU9ILEVBQVksd0JBQXlCLENBQzFDdkcsS0FBTXFCLEVBQ05uQixNQUFPd0csRUFDUHRHLEtBQU1BLEVBQUtpQixJQUdqQixDQUNBLE1BQ0YsT0F0QkYsQ0E0QkYsRUFFQThILFlBQVk5SSxFQUFRRCxFQUFNbUcsR0FDeEIsSUFBS3JGLE1BQU1DLFFBQVFmLEtBQVVDLEVBQU84SSxZQUNsQyxPQUdGLE1BQU1DLEVBQVMsSUFBSUMsSUFFbkIsVUFBV3JKLEtBQVFJLEVBQU0sQ0FDdkIsSUFBSWtKLEVBa0JKLEdBZEVBLEVBRGtCLGlCQUFUdEosRUFDQyxLQUFLQSxJQUVOd0IsRUFBU3hCLEdBQ1IsS0FBS3VKLEtBQUtDLFVBQ2xCakksT0FBT2tJLFlBQ0xsSSxPQUFPbUksUUFBUTFKLEdBQU0ySixLQUFLLEVBQUVDLElBQUtDLEtBQU9ELEVBQUVFLGNBQWNELFFBR25EM0ksTUFBTUMsUUFBUW5CLEdBQ2J1SixLQUFLQyxVQUFVeEosR0FFZitKLE9BQU8vSixHQUdmb0osRUFBT1ksSUFBSVYsR0FDYixPQUFPL0MsRUFBWSw2QkFBOEIsQ0FBRW5HLEtBQU1KLElBRTNEb0osRUFBT2EsSUFBSVgsRUFDYixDQUdGLEVBRUFZLFNBQVM3SixFQUFRRCxFQUFNbUcsR0FDckIsR0FBS3JGLE1BQU1DLFFBQVFmLEdBQW5CLENBR0EsR0FBK0Isa0JBQXBCQyxFQUFPNkosU0FDaEIsT0FBSTdKLEVBQU82SixTQUNXLElBQWhCOUosRUFBS2dCLE9BQ0FtRixFQUFZLHVDQUF3QyxDQUFFbkcsY0FFL0QsRUFHS21HLEVBQVksbUNBQW9DLENBQUVuRyxTQUczRCxRQUFTaUIsRUFBSSxFQUFHQSxFQUFJakIsRUFBS2dCLE9BQVFDLElBQUssQ0FFcEMsSUFEY2hCLEVBQU82SixTQUFTdkQsVUFBVXZHLEVBQUtpQixJQUUzQyxNQUdKLENBRUEsT0FBT2tGLEVBQVksdUNBQXdDLENBQUVuRyxRQXBCN0QsQ0FxQkYsTUNoTTZELENBQzdEK0osVUFBVTlKLEVBQVFELEVBQU1tRyxHQUN0QixLQUFvQixpQkFBVG5HLEdBQXFCQSxFQUFLZ0IsUUFBVWYsRUFBTzhKLFdBSXRELE9BQU81RCxFQUFZLDJDQUE0QyxDQUFFbkcsUUFDbkUsRUFFQWdLLFVBQVUvSixFQUFRRCxFQUFNbUcsR0FDdEIsS0FBb0IsaUJBQVRuRyxHQUFxQkEsRUFBS2dCLFFBQVVmLEVBQU8rSixXQUl0RCxPQUFPN0QsRUFBWSwwQ0FBMkMsQ0FBRW5HLFFBQ2xFLEVBRUFnSCxRQUFRL0csRUFBUUQsRUFBTW1HLEdBQ3BCLEdBQW9CLGlCQUFUbkcsRUFDVCxPQUdGLE1BQU1pSyxFQUFnQixJQUFJdEYsT0FBTzFFLEVBQU8rRyxRQUFTLEtBRWpELE9BQUlpRCxhQUF5QnRGLFNBQVcsRUFDL0J3QixFQUFZLDZCQUE4QixDQUFFbkcsU0FHakRpSyxFQUFjM0csS0FBS3RELFFBQXZCLEVBSU9tRyxFQUFZLG1DQUFvQyxDQUFFbkcsUUFDM0QsRUFJQWtLLE9BQU9qSyxFQUFRRCxFQUFNbUcsRUFBYWdFLEdBQ2hDLEdBQW9CLGlCQUFUbkssRUFDVCxPQUdGLE1BQU1vSyxFQUFpQkQsRUFBU0UsVUFBVXBLLEVBQU9pSyxRQUNqRCxPQUFLRSxJQUFrQkEsRUFBZXBLLEdBSS9CbUcsRUFBWSxrQ0FBbUMsQ0FBRW5HLGNBSnhELENBS0YsTUMvQzZELENBQzdEc0ssUUFBUXJLLEVBQVFELEVBQU1tRyxFQUFhZ0UsR0FDakMsR0FBb0IsaUJBQVRuSyxFQUNULE9BR0YsSUFBSXlJLEVBQU14SSxFQUFPcUssUUFPakIsTUFOdUMsaUJBQTVCckssRUFBT3NLLGlCQUNoQjlCLEVBQU14SSxFQUFPc0ssaUJBQW1CLE9BQ0ssSUFBNUJ0SyxFQUFPc0ssbUJBQ2hCOUIsR0FBTyxPQUdMekksRUFBT3lJLEVBQ0Z0QyxFQUFZLGlDQUFrQyxDQUFFbkcsY0FEekQsQ0FLRixFQUVBd0ssUUFBUXZLLEVBQVFELEVBQU1tRyxFQUFhZ0UsR0FDakMsR0FBb0IsaUJBQVRuSyxFQUNULE9BR0YsSUFBSXlLLEVBQU14SyxFQUFPdUssUUFPakIsTUFOdUMsaUJBQTVCdkssRUFBT3lLLGlCQUNoQkQsRUFBTXhLLEVBQU95SyxpQkFBbUIsT0FDSyxJQUE1QnpLLEVBQU95SyxtQkFDaEJELEdBQU8sT0FHTHpLLEVBQU95SyxFQUNGdEUsRUFBWSxvQ0FBcUMsQ0FBRW5HLGNBRDVELENBS0YsRUFFQTJLLFdBQVcxSyxFQUFRRCxFQUFNbUcsRUFBYWdFLEdBQ3BDLEdBQW9CLGlCQUFUbkssRUFDVCxPQUdGLE1BQU00SyxFQUFXNUssRUFBT0MsRUFBTzBLLFdBRS9CLE9BQUtFLFNBQVNELEdQMERYLFNBQXdCcEIsRUFBR0MsRUFBR3FCLEVBQVUsT0FDN0MsT0FBT3RDLEtBQUt1QyxJQUFJdkIsRUFBSUMsSUFBTXFCLEVBQVV0QyxLQUFLaUMsSUFBSWpDLEtBQUt1QyxJQUFJdkIsR0FBSWhCLEtBQUt1QyxJQUFJdEIsR0FDckUsQ094RFN1QixDQUFlSixFQUFVcEMsS0FBS3lDLE1BQU1MLFNBQXpDLEVBQ1N6RSxFQUFZLDRDQUE2QyxDQUFFbkcsY0FMcEUsQ0FTRixFQUVBdUssaUJBQWlCdEssRUFBUUQsRUFBTW1HLEVBQWFnRSxHQUMxQyxHQUNrQixpQkFBVG5LLEdBQzRCLGlCQUE1QkMsRUFBT3NLLG9CQUNkLFlBQWF0SyxHQUtmLE9BQUlELEdBQVFDLEVBQU9zSyxpQkFBbUIsTUFDN0JwRSxFQUFZLDREQURyQixDQUtGLEVBRUF1RSxpQkFBaUJ6SyxFQUFRRCxFQUFNbUcsRUFBYWdFLEdBQzFDLEdBQ2tCLGlCQUFUbkssR0FDNEIsaUJBQTVCQyxFQUFPeUssb0JBQ2QsWUFBYXpLLEdBS2YsT0FBSUQsR0FBUUMsRUFBT3lLLGlCQUNWdkUsRUFDTCx5REFDQSxDQUFFbkcsY0FITixDQVFGLE1DekY0RCxDQUM1RGtMLEtBQUtqTCxFQUFRRCxFQUFNbUcsR0FFakIsTUFBTXBGLEVBQVVELE1BQU1DLFFBQVFmLEdBQ3hCb0IsRUFBMkIsaUJBQVRwQixHQUE4QixPQUFUQSxFQUU3QyxRQUFTaUIsRUFBSSxFQUFHQSxFQUFJaEIsRUFBT2lMLEtBQUtsSyxPQUFRQyxJQUFLLENBQzNDLE1BQU1rSyxFQUFXbEwsRUFBT2lMLEtBQUtqSyxHQUc3QixHQUFJa0ssSUFBYW5MLEVBQ2YsT0FJRixJQUNHZSxHQUFXRCxNQUFNQyxRQUFRb0ssSUFDekIvSixHQUFnQyxpQkFBYitKLEdBQXNDLE9BQWJBLElBRXpDeEssRUFBVXdLLEVBQVVuTCxHQUN0QixNQUdOLENBRUEsT0FBT21HLEVBQVkseUNBQTBDLENBQUVuRyxRQUNqRSxFQUVBb0wsTUFBTW5MLEVBQVFELEVBQU1tRyxHQUNsQixRQUFTbEYsRUFBSSxFQUFHQSxFQUFJaEIsRUFBT21MLE1BQU1wSyxPQUFRQyxJQUN2QyxHQUFJRyxFQUFTbkIsRUFBT21MLE1BQU1uSyxLQUN4QixHQUFJLGNBQWVoQixFQUFPbUwsTUFBTW5LLEdBQUksQ0FDbEMsTUFBTXFGLEVBQVFyRyxFQUFPbUwsTUFBTW5LLEdBQUdzRixVQUFVdkcsR0FDeEMsR0FBSXNHLEVBQ0YsT0FBT0gsRUFBWSxxQkFBc0IsQ0FBRXJHLE1BQU93RyxFQUFPdEcsUUFFN0QsT0FJRixHQUErQixrQkFBcEJDLEVBQU9tTCxNQUFNbkssSUFPeEIsR0FBSWpCLElBQVNDLEVBQU9tTCxNQUFNbkssR0FDeEIsT0FBT2tGLEVBQVkscUJBQXNCLENBQUVuRyxjQVAzQyxHQUFJcUwsUUFBUXJMLEtBQVVDLEVBQU9tTCxNQUFNbkssR0FDakMsT0FBT2tGLEVBQVkscUJBQXNCLENBQUVuRyxRQVduRCxFQUVBc0wsTUFBTXJMLEVBQVFELEVBQU1tRyxHQUNsQixRQUFTbEYsRUFBSSxFQUFHQSxFQUFJaEIsRUFBT3FMLE1BQU10SyxPQUFRQyxJQUFLLENBQzVDLEdBQUlHLEVBQVNuQixFQUFPcUwsTUFBTXJLLElBQUssQ0FDN0IsR0FBSSxjQUFlaEIsRUFBT3FMLE1BQU1ySyxHQUFJLENBRWxDLElBRGNoQixFQUFPcUwsTUFBTXJLLEdBQUdzRixVQUFVdkcsR0FFdEMsT0FFRixRQUNGLENBQ0EsTUFDRixDQUNFLEdBQStCLGtCQUFwQkMsRUFBT3FMLE1BQU1ySyxJQUNsQm9LLFFBQVFyTCxLQUFVQyxFQUFPcUwsTUFBTXJLLEdBQ2pDLE9BSUosR0FBSWpCLElBQVNDLEVBQU9xTCxNQUFNckssR0FDeEIsTUFHTixDQUVBLE9BQU9rRixFQUFZLHFCQUFzQixDQUFFbkcsUUFDN0MsRUFFQXVMLE1BQU10TCxFQUFRRCxFQUFNbUcsR0FDbEIsSUFBSXFGLEVBQWEsRUFDakIsUUFBU3ZLLEVBQUksRUFBR0EsRUFBSWhCLEVBQU9zTCxNQUFNdkssT0FBUUMsSUFDdkMsR0FBSUcsRUFBU25CLEVBQU9zTCxNQUFNdEssSUFBMUIsQ0FDRSxHQUFJLGNBQWVoQixFQUFPc0wsTUFBTXRLLEdBQUksQ0FDcEJoQixFQUFPc0wsTUFBTXRLLEdBQUdzRixVQUFVdkcsSUFFdEN3TCxJQUVGLFFBQ0YsQ0FDQUEsR0FhRixLQVZpQyxrQkFBcEJ2TCxFQUFPc0wsTUFBTXRLLEdBT3BCakIsSUFBU0MsRUFBT3NMLE1BQU10SyxJQUN4QnVLLElBUElILFFBQVFyTCxLQUFVQyxFQUFPc0wsTUFBTXRLLElBQ2pDdUssSUFXUixHQUFtQixJQUFmQSxFQUlKLE9BQU9yRixFQUFZLHFCQUFzQixDQUFFbkcsUUFDN0MsRUFFQXlMLE1BQU14TCxFQUFRRCxFQUFNbUcsR0FDbEIsS0FDRW5HLElBQVNDLEVBQU93TCxPQUNmckssRUFBU3BCLElBQ1JvQixFQUFTbkIsRUFBT3dMLFFBQ2hCOUssRUFBVVgsRUFBTUMsRUFBT3dMLFFBQ3hCM0ssTUFBTUMsUUFBUWYsSUFDYmMsTUFBTUMsUUFBUWQsRUFBT3dMLFFBQ3JCOUssRUFBVVgsRUFBTUMsRUFBT3dMLFFBSTNCLE9BQU90RixFQUFZLHFCQUFzQixDQUFFbkcsUUFDN0MsRUFFQTBMLEdBQUd6TCxFQUFRRCxFQUFNbUcsR0FDZixHQUFJLFNBQVVsRyxJQUFXLEdBQVMsU0FBVUEsSUFBVyxFQUNyRCxPQUVGLEdBQXlCLGtCQUFkQSxFQUFPeUwsR0FBa0IsQ0FDbEMsR0FBSXpMLEVBQU95TCxJQUNULEdBQUlqSyxFQUFpQnhCLEVBQU9vSCxNQUMxQixPQUFPcEgsRUFBT29ILEtBQUtkLFVBQVV2RyxRQUVqQyxHQUFXeUIsRUFBaUJ4QixFQUFPcUgsTUFDakMsT0FBT3JILEVBQU9xSCxLQUFLZixVQUFVdkcsR0FFL0IsTUFDRixDQUVBLElBQUt5QixFQUFpQnhCLEVBQU95TCxJQUMzQixPQUlGLE9BRGN6TCxFQUFPeUwsR0FBR25GLFVBQVV2RyxHQU81QnlCLEVBQWlCeEIsRUFBT3FILE1BQ25CckgsRUFBT3FILEtBQUtmLFVBQVV2RyxRQUUvQixFQVJJeUIsRUFBaUJ4QixFQUFPb0gsTUFDbkJwSCxFQUFPb0gsS0FBS2QsVUFBVXZHLFFBRS9CLENBT0osRUFFQTJMLElBQUkxTCxFQUFRRCxFQUFNbUcsR0FDaEIsR0FBMEIsa0JBQWZsRyxFQUFPMEwsSUFDaEIsT0FBSTFMLEVBQU8wTCxJQUNGeEYsRUFBWSxxQkFBc0IsQ0FBRW5HLGNBRTdDLEVBR0YsR0FBSW9CLEVBQVNuQixFQUFPMEwsS0FBTSxDQUN4QixHQUFJLGNBQWUxTCxFQUFPMEwsSUFBSyxDQUM3QixNQUFNckYsRUFBUXJHLEVBQU8wTCxJQUFJcEYsVUFBVXZHLEdBQ25DLE9BQUtzRyxPQUdMLEVBRlNILEVBQVkscUJBQXNCLENBQUVyRyxNQUFPd0csRUFBT3RHLFFBRzdELENBQ0EsT0FBT21HLEVBQVkscUJBQXNCLENBQUVuRyxRQUM3QyxDQUVBLE9BQU9tRyxFQUFZLHFCQUFzQixDQUFFbkcsUUFDN0MsSSxnQkM5SUssTUFDRzRMLE1BQThDLENBQUMsRUFDL0NDLFFBQWtELENBQUMsRUFDbkQ1RixTQUFvRCxDQUFDLEVBQ3JENkYsV0FBWSxFQUVwQnZLLGFBQVl1SyxVQUNWQSxHQUFZLEdBR1YsQ0FBQyxHQUNIMUwsS0FBSzBMLFVBQVlBLEVBRWpCLFVBQVlDLEVBQU1DLEtBQWM3SyxPQUFPbUksUUFBUXRFLEdBQ3pDZ0gsR0FDRjVMLEtBQUs2TCxRQUFRRixFQUFNQyxHQUl2QixVQUFZbk0sRUFBU21NLEtBQWM3SyxPQUFPbUksUUFBUXJELEdBQ2hEN0YsS0FBSzhMLFdBQVdyTSxFQUFTbU0sR0FHM0IsVUFBWTlCLEVBQVE4QixLQUFjN0ssT0FBT21JLFFBQVFuSCxHQUMzQzZKLEdBQ0Y1TCxLQUFLK0wsVUFBVWpDLEVBQVE4QixFQUc3QixDQUVBQyxRQUFRekssRUFBY3dLLEVBQXlCSSxHQUFZLEdBQ3pELEdBQUloTSxLQUFLd0wsTUFBTXBLLEtBQVU0SyxFQUN2QixNQUFNLElBQUkzTSxFQUFnQixTQUFTK0IscUJBRXJDcEIsS0FBS3dMLE1BQU1wSyxHQUFRd0ssQ0FDckIsQ0FFQUssUUFBUU4sR0FDTixPQUFPM0wsS0FBS3dMLE1BQU1HLEVBQ3BCLENBRUFJLFVBQVUzSyxFQUFjd0ssRUFBMkJJLEdBQVksR0FDN0QsR0FBSWhNLEtBQUt5TCxRQUFRckssS0FBVTRLLEVBQ3pCLE1BQU0sSUFBSTNNLEVBQWdCLFdBQVcrQixxQkFFdkNwQixLQUFLeUwsUUFBUXJLLEdBQVF3SyxDQUN2QixDQUVBM0IsVUFBVUgsR0FDUixPQUFPOUosS0FBS3lMLFFBQVEzQixFQUN0QixDQUVBZ0MsV0FBVzFLLEVBQWN3SyxFQUE0QkksR0FBWSxHQUMvRCxHQUFJaE0sS0FBSzZGLFNBQVN6RSxLQUFVNEssRUFDMUIsTUFBTSxJQUFJM00sRUFBZ0IsWUFBWStCLHFCQUV4Q3BCLEtBQUs2RixTQUFTekUsR0FBUXdLLENBQ3hCLENBRUFNLFdBQVd6TSxHQUNULE9BQU9PLEtBQUs2RixTQUFTcEcsRUFDdkIsQ0FFQTBNLFFBQVF0TSxHQUNOLE1BQU11TSxFQUFpQnBNLEtBQUtxTSxjQUFjeE0sR0FDMUMsSUFBS3VNLEVBQWVqRyxVQUFXLENBQzdCLElBQWtDLElBQTlCbkcsS0FBS3NNLGFBQWF6TSxHQUNwQixNQUFNLElBQUlSLEVBQWdCLGtCQUc1QitNLEVBQWVqRyxVQUFZOUYsRUFDekIsTUFDQSxPQUVKLENBRUEsTUFBTWtNLEVBQXVCM00sSUFDM0IsTUFBTTRNLEVBQWF4TSxLQUFLMEwsVUFBWXpLLEVBQVVyQixHQUFRQSxFQUNoRHNHLEVBQVFrRyxFQUFlakcsVUFBVXFHLEdBRXZDLE1BQU8sQ0FDTDVNLEtBQU00TSxFQUNOdEcsTUFBT0EsR0FBZ0IsS0FDdkJ1RyxPQUFRdkcsRUFDVixFQUtGLE9BRkFxRyxFQUFTSCxlQUFpQkEsRUFFbkJHLENBQ1QsQ0FFUUYsY0FBY3hNLEdBQ2ZtQixFQUFTbkIsS0FFVkEsR0FEYSxJQUFYQSxFQUNPLENBQ1BxTCxNQUFPLENBQUMsQ0FBQyxLQUVTLElBQVhyTCxFQUNBLENBQ1BzTCxNQUFPLElBR0EsQ0FDUEEsTUFBTyxDQUFDdEwsS0FLZCxNQUFNdU0sRUFBaUMsSUFBS3ZNLEdBQ3RDNk0sRUFBa0J4TSxFQUE4QixPQUFRTCxHQUN4RDhNLEVBQWtDLEdBRXhDLElBQUlDLEVBQWEsR0FFakIsR0FBSSxTQUFVL00sRUFBUSxDQUNwQixNQUFNMkwsRUFBUTlLLE1BQU1DLFFBQVFkLEVBQU84TCxNQUMvQjlMLEVBQU84TCxLQUNQOUwsRUFBTzhMLEtBQUtqSSxNQUFNLEtBQUttSixJQUFLQyxHQUFNQSxFQUFFQyxRQUV4QyxVQUFXcEIsS0FBUUgsRUFBTyxDQUN4QixNQUFNSSxFQUFZNUwsS0FBS2lNLFFBQVFOLEdBQzNCQyxJQUNGZSxFQUFnQkssS0FBS3BCLEdBQ3JCZ0IsSUFBZUEsRUFBYSxPQUFTLElBQU1oQixFQUFVeEssS0FFekQsQ0FFQSxNQUFNNkwsRUFBd0JOLEVBQWdCL0wsT0FFOUMsR0FBOEIsSUFBMUJxTSxFQUNGLE1BQU1QLEVBQWdCLDBCQUEyQixDQUFFOU0sS0FBTUMsRUFBTzhMLE9BR2xFLEdBQThCLElBQTFCc0IsRUFBNkIsQ0FDL0IsTUFBTUMsRUFBaUJQLEVBQWdCLEdBQ3ZDUCxFQUFlakcsVUFBWTlGLEVBQ3pCdU0sRUFDQ2hOLElBQ0MsSUFBS3NOLEVBQWV0TixHQUNsQixPQUFPOE0sRUFBZ0IsZUFBZ0IsQ0FBRTlNLFFBQzNDLEVBR04sTUFBV3FOLEVBQXdCLElBQ2pDYixFQUFlakcsVUFBWTlGLEVBQ3pCdU0sRUFDQ2hOLElBQ0MsUUFBU2lCLEVBQUksRUFBR0EsRUFBSW9NLEVBQXVCcE0sSUFDekMsR0FBSThMLEVBQWdCOUwsR0FBR2pCLEdBQ3JCLE9BR0osT0FBTzhNLEVBQWdCLGVBQWdCLENBQUU5TSxRQUFNLEdBSXZELENBRUEsVUFBV08sS0FBT1ksT0FBT0QsS0FBS2pCLEdBQVMsQ0FDckMsR0FBWSxTQUFSTSxFQUFnQixDQUNsQmlNLEVBQWVULEtBQU85TCxFQUFPOEwsS0FDN0IsUUFDRixDQUVBLE1BQU13QixFQUFtQm5OLEtBQUtrTSxXQUFXL0wsR0FDekMsR0FBSWdOLEVBQWtCLENBQ3BCLE1BQU1wSCxFQUFjN0YsRUFBOEJDLEVBQUtOLEVBQU9NLElBQzlELEdBQUlpTSxFQUFlakcsVUFBVyxDQUM1QixNQUFNaUgsRUFBZ0JoQixFQUFlakcsVUFDckN5RyxHQUFjLFFBQVFPLEVBQWlCL0wsT0FDdkNnTCxFQUFlakcsVUFBWTlGLEVBQ3pCdU0sRUFDQ2hOLElBQ0MsTUFBTXNHLEVBQVFrSCxFQUFjeE4sR0FDNUIsT0FBSXNHLEdBR0lpSCxFQUNOZixFQUNBeE0sRUFDQW1HLEVBQ0EvRixLQUNGLEVBR04sTUFDRTRNLEVBQWFPLEVBQWlCL0wsS0FDOUJnTCxFQUFlakcsVUFBWTlGLEVBQ3pCdU0sRUFDQ2hOLEdBQ0V1TixFQUNDZixFQUNBeE0sRUFDQW1HLEVBQ0EvRixNQUlWLENBRUlnQixFQUFTbkIsRUFBT00sSUFDbEJpTSxFQUFlak0sR0FBT0gsS0FBS3FNLGNBQWN4TSxFQUFPTSxJQUk5Q08sTUFBTUMsUUFBUWQsRUFBT00sSUFDdkJpTSxFQUFlak0sR0FBT04sRUFBT00sR0FBSzBNLElBQUksQ0FBQ3ZMLEVBQVcrTCxJQUNoRHJOLEtBQUtzTSxhQUFhaEwsR0FDZHRCLEtBQUtxTSxjQUFjL0ssR0FDbkJBLEdBS1I4SyxFQUFlak0sR0FBT04sRUFBT00sRUFDL0IsQ0FFQSxPQUFPaU0sQ0FDVCxDQUVBRSxhQUFhaEwsR0FDWCxHQUFJTixFQUFTTSxHQUFZLENBQ3ZCLEdBQUksU0FBVUEsRUFDWixPQUFPLEVBR1QsUUFBU2dNLEtBQVVoTSxFQUNqQixHQUFJZ00sS0FBVXROLEtBQUs2RixTQUNqQixPQUFPLENBR2IsQ0FDQSxPQUFPLENBQ1QsSSJ9